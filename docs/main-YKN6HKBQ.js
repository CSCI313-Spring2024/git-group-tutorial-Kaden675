var TP=Object.defineProperty,bP=Object.defineProperties;var CP=Object.getOwnPropertyDescriptors;var CI=Object.getOwnPropertySymbols,SP=Object.getPrototypeOf,AP=Object.prototype.hasOwnProperty,RP=Object.prototype.propertyIsEnumerable,MP=Reflect.get;var SI=(n,e,t)=>e in n?TP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})AP.call(e,t)&&SI(n,t,e[t]);if(CI)for(var t of CI(e))RP.call(e,t)&&SI(n,t,e[t]);return n},ae=(n,e)=>bP(n,CP(e));var Fr=(n,e,t)=>MP(SP(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Rp(n,e){return Object.is(n,e)}var Ke=null,Ou=!1,Mp=1,Yt=Symbol("SIGNAL");function he(n){let e=Ke;return Ke=n,e}function Np(){return Ke}var ba={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ca(n){if(Ou)throw new Error("");if(Ke===null)return;Ke.consumerOnSignalRead(n);let e=Ke.nextProducerIndex++;if(ju(Ke),e<Ke.producerNode.length&&Ke.producerNode[e]!==n&&Ta(Ke)){let t=Ke.producerNode[e];Vu(t,Ke.producerIndexOfThis[e])}Ke.producerNode[e]!==n&&(Ke.producerNode[e]=n,Ke.producerIndexOfThis[e]=Ta(Ke)?RI(n,Ke,e):0),Ke.producerLastReadVersion[e]=n.version}function AI(){Mp++}function Pp(n){if(!(Ta(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Mp)){if(!n.producerMustRecompute(n)&&!Fp(n)){Ap(n);return}n.producerRecomputeValue(n),Ap(n)}}function xp(n){if(n.liveConsumerNode===void 0)return;let e=Ou;Ou=!0;try{for(let t of n.liveConsumerNode)t.dirty||NP(t)}finally{Ou=e}}function kp(){return Ke?.consumerAllowSignalWrites!==!1}function NP(n){n.dirty=!0,xp(n),n.consumerMarkedDirty?.(n)}function Ap(n){n.dirty=!1,n.lastCleanEpoch=Mp}function Lu(n){return n&&(n.nextProducerIndex=0),he(n)}function Op(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ta(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Vu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fp(n){ju(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Pp(t),r!==t.version))return!0}return!1}function Lp(n){if(ju(n),Ta(n))for(let e=0;e<n.producerNode.length;e++)Vu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function RI(n,e,t){if(MI(n),n.liveConsumerNode.length===0&&NI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=RI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Vu(n,e){if(MI(n),n.liveConsumerNode.length===1&&NI(n))for(let r=0;r<n.producerNode.length;r++)Vu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ju(i),i.producerIndexOfThis[r]=e}}function Ta(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ju(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function MI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function NI(n){return n.producerNode!==void 0}function Vp(n,e){let t=Object.create(PP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Pp(t),Ca(t),t.value===Fu)throw t.error;return t.value};return r[Yt]=t,r}var Cp=Symbol("UNSET"),Sp=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),PP=ae(L({},ba),{value:Cp,dirty:!0,error:null,equal:Rp,kind:"computed",producerMustRecompute(n){return n.value===Cp||n.value===Sp},producerRecomputeValue(n){if(n.value===Sp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Sp;let t=Lu(n),r,i=!1;try{r=n.computation(),he(null),i=e!==Cp&&e!==Fu&&r!==Fu&&n.equal(e,r)}catch(o){r=Fu,n.error=o}finally{Op(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function xP(){throw new Error}var PI=xP;function xI(n){PI(n)}function jp(n){PI=n}var kP=null;function Up(n,e){let t=Object.create(Uu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Ca(t),t.value);return r[Yt]=t,r}function Sa(n,e){kp()||xI(n),n.equal(n.value,e)||(n.value=e,OP(n))}function Bp(n,e){kp()||xI(n),Sa(n,e(n.value))}var Uu=ae(L({},ba),{equal:Rp,value:void 0,kind:"signal"});function OP(n){n.version++,AI(),xp(n),kP?.()}function $p(n){let e=he(null);try{return n()}finally{he(e)}}var Hp;function Aa(){return Hp}function ir(n){let e=Hp;return Hp=n,e}var Bu=Symbol("NotFound");function te(n){return typeof n=="function"}function _o(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $u=_o(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function wi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ve=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof $u?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kI(o)}catch(s){e=e??[],s instanceof $u?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $u(e)}}add(e){var t;if(e&&e!==this)if(this.closed)kI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wi(t,e)}remove(e){let{_finalizers:t}=this;t&&wi(t,e),e instanceof n&&e._removeParent(this)}};Ve.EMPTY=(()=>{let n=new Ve;return n.closed=!0,n})();var zp=Ve.EMPTY;function Hu(n){return n instanceof Ve||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function kI(n){te(n)?n():n.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eo={setTimeout(n,e,...t){let{delegate:r}=Eo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Eo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zu(n){Eo.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(n);else throw n})}function Ra(){}var OI=qp("C",void 0,void 0);function FI(n){return qp("E",void 0,n)}function LI(n){return qp("N",n,void 0)}function qp(n,e,t){return{kind:n,value:e,error:t}}var Ii=null;function wo(n){if(un.useDeprecatedSynchronousErrorHandling){let e=!Ii;if(e&&(Ii={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ii;if(Ii=null,t)throw r}}else n()}function VI(n){un.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=n)}var Di=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hu(e)&&e.add(this)):this.destination=BP}static create(e,t,r){return new Io(e,t,r)}next(e){this.isStopped?Gp(LI(e),this):this._next(e)}error(e){this.isStopped?Gp(FI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gp(OI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jP=Function.prototype.bind;function Wp(n,e){return jP.call(n,e)}var Kp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){qu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){qu(r)}else qu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qu(t)}}},Io=class extends Di{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wp(e.next,o),error:e.error&&Wp(e.error,o),complete:e.complete&&Wp(e.complete,o)}):i=e}this.destination=new Kp(i)}};function qu(n){un.useDeprecatedSynchronousErrorHandling?VI(n):zu(n)}function UP(n){throw n}function Gp(n,e){let{onStoppedNotification:t}=un;t&&Eo.setTimeout(()=>t(n,e))}var BP={closed:!0,next:Ra,error:UP,complete:Ra};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(n){return n}function Wu(...n){return Qp(n)}function Qp(n){return n.length===0?Ut:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=HP(t)?t:new Io(t,r,i);return wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=jI(r),new r((i,o)=>{let s=new Io({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Do](){return this}pipe(...t){return Qp(t)(this)}toPromise(t){return t=jI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jI(n){var e;return(e=n??un.Promise)!==null&&e!==void 0?e:Promise}function $P(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function HP(n){return n&&n instanceof Di||$P(n)&&Hu(n)}function Yp(n){return te(n?.lift)}function ge(n){return e=>{if(Yp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,i){return new Jp(n,e,t,r,i)}var Jp=class extends Di{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function To(){return ge((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var bo=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Yp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return To()(this)}};var UI=_o(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Gu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new UI}next(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zp:(this.currentObservers=null,o.push(t),new Ve(()=>{this.currentObservers=null,wi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new Gu(e,t),n})(),Gu=class extends ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zp}};var ct=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zp={now(){return(Zp.delegate||Date).now()},delegate:void 0};var Ku=class extends Ve{constructor(e,t){super()}schedule(e,t=0){return this}};var Ma={setInterval(n,e,...t){let{delegate:r}=Ma;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ma;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Co=class extends Ku{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ma.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ma.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var So=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};So.now=Zp.now;var Ao=class extends So{constructor(e,t=So.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Xp=new Ao(Co);var Qu=class extends Co{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Yu=class extends Ao{};var eg=new Yu(Qu);var Rt=new re(n=>n.complete());function BI(n){return n&&te(n.schedule)}function $I(n){return n[n.length-1]}function Ju(n){return te($I(n))?n.pop():void 0}function Lr(n){return BI($I(n))?n.pop():void 0}function tg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function zI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function HI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ti(n){return this instanceof Ti?(this.v=n,this):new Ti(n)}function qI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function a(m,C){r[m]&&(i[m]=function(M){return new Promise(function(R,V){o.push([m,M,R,V])>1||u(m,M)})},C&&(i[m]=C(i[m])))}function u(m,C){try{l(r[m](C))}catch(M){y(o[0][3],M)}}function l(m){m.value instanceof Ti?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,C){m(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function WI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof HI=="function"?HI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Zu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xu(n){return te(n?.then)}function el(n){return te(n[Do])}function tl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function nl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rl=zP();function il(n){return te(n?.[rl])}function ol(n){return qI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ti(t.read());if(i)return yield Ti(void 0);yield yield Ti(r)}}finally{t.releaseLock()}})}function sl(n){return te(n?.getReader)}function qe(n){if(n instanceof re)return n;if(n!=null){if(el(n))return qP(n);if(Zu(n))return WP(n);if(Xu(n))return GP(n);if(tl(n))return GI(n);if(il(n))return KP(n);if(sl(n))return QP(n)}throw nl(n)}function qP(n){return new re(e=>{let t=n[Do]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WP(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function GP(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zu)})}function KP(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function GI(n){return new re(e=>{YP(n,e).catch(t=>e.error(t))})}function QP(n){return GI(ol(n))}function YP(n,e){var t,r,i,o;return zI(this,void 0,void 0,function*(){try{for(t=WI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Vr(n,e=0){return ge((t,r)=>{t.subscribe(fe(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function jr(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function KI(n,e){return qe(n).pipe(jr(e),Vr(e))}function QI(n,e){return qe(n).pipe(jr(e),Vr(e))}function YI(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function JI(n,e){return new re(t=>{let r;return Mt(t,e,()=>{r=n[rl](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function al(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ZI(n,e){return al(ol(n),e)}function XI(n,e){if(n!=null){if(el(n))return KI(n,e);if(Zu(n))return YI(n,e);if(Xu(n))return QI(n,e);if(tl(n))return al(n,e);if(il(n))return JI(n,e);if(sl(n))return ZI(n,e)}throw nl(n)}function Se(n,e){return e?XI(n,e):qe(n)}function K(...n){let e=Lr(n);return Se(n,e)}function Ro(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function ng(n){return!!n&&(n instanceof re||te(n.lift)&&te(n.subscribe))}var or=_o(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(n,e){return ge((t,r)=>{let i=0;t.subscribe(fe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:JP}=Array;function ZP(n,e){return JP(e)?n(...e):n(e)}function cl(n){return Z(e=>ZP(n,e))}var{isArray:XP}=Array,{getPrototypeOf:ex,prototype:tx,keys:nx}=Object;function ul(n){if(n.length===1){let e=n[0];if(XP(e))return{args:e,keys:null};if(rx(e)){let t=nx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rx(n){return n&&typeof n=="object"&&ex(n)===tx}function ll(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function dl(...n){let e=Lr(n),t=Ju(n),{args:r,keys:i}=ul(n);if(r.length===0)return Se([],e);let o=new re(ix(r,e,i?s=>ll(i,s):Ut));return t?o.pipe(cl(t)):o}function ix(n,e,t=Ut){return r=>{eD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)eD(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function eD(n,e,t){n?Mt(t,n,e):e()}function tD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let R=!1;qe(t(M,h++)).subscribe(fe(e,V=>{i?.(V),o?m(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Mt(e,s,()=>C(V)):C(V)}y()}catch(V){e.error(V)}}))};return n.subscribe(fe(e,m,()=>{p=!0,y()})),()=>{a?.()}}function Qe(n,e,t=1/0){return te(e)?Qe((r,i)=>Z((o,s)=>e(r,o,i,s))(qe(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>tD(r,i,n,t)))}function nD(n=1/0){return Qe(Ut,n)}function rD(){return nD(1)}function Mo(...n){return rD()(Se(n,Lr(n)))}function hl(n){return new re(e=>{qe(n()).subscribe(e)})}function rg(...n){let e=Ju(n),{args:t,keys:r}=ul(n),i=new re(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;qe(t[h]).subscribe(fe(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?ll(r,a):a),o.complete())}))}});return e?i.pipe(cl(e)):i}function Nt(n,e){return ge((t,r)=>{let i=0;t.subscribe(fe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ur(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(fe(t,void 0,void 0,s=>{o=qe(n(s,Ur(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function iD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Br(n,e){return te(e)?Qe(n,e,1):Qe(n,1)}function $r(n){return ge((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Pt(n){return n<=0?()=>Rt:ge((e,t)=>{let r=0;e.subscribe(fe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function fl(n=ox){return ge((e,t)=>{let r=!1;e.subscribe(fe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ox(){return new or}function bi(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function sr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):Ut,Pt(1),t?$r(e):fl(()=>new or))}function No(n){return n<=0?()=>Rt:ge((e,t)=>{let r=[];e.subscribe(fe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ig(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):Ut,No(1),t?$r(e):fl(()=>new or))}function pl(n,e){return ge(iD(n,e,arguments.length>=2,!0))}function gl(...n){let e=Lr(n);return ge((t,r)=>{(e?Mo(n,t,e):Mo(n,t)).subscribe(r)})}function Ye(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(n(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function og(n){return ge((e,t)=>{qe(n).subscribe(fe(t,()=>t.complete(),Ra)),!t.closed&&e.subscribe(t)})}function ut(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ut}var KD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(ax(e,t)),this.code=e}};function sx(n){return`NG0${Math.abs(n)}`}function ax(n,e){return`${sx(n)}${e?": "+e:""}`}var QD=Symbol("InputSignalNode#UNSET"),cx=ae(L({},Uu),{transformFn:void 0,applyValueToInputSignal(n,e){Sa(n,e)}});function YD(n,e){let t=Object.create(cx);t.value=n,t.transformFn=e?.transform;function r(){if(Ca(t),t.value===QD){let i=null;throw new j(-950,i)}return t.value}return r[Yt]=t,r}function $a(n){return{toString:n}.toString()}var ml="__parameters__";function ux(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function JD(n,e,t){return $a(()=>{let r=ux(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ml)?u[ml]:Object.defineProperty(u,ml,{value:[]})[ml];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Eg=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function lx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function xt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(xt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function oD(n,e){return n?e?`${n} ${e}`:n:e||""}var dx=Re({__forward_ref__:Re});function Oi(n){return n.__forward_ref__=Oi,n.toString=function(){return xt(this())},n}function Dt(n){return ZD(n)?n():n}function ZD(n){return typeof n=="function"&&n.hasOwnProperty(dx)&&n.__forward_ref__===Oi}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yl(n){return sD(n,eT)||sD(n,tT)}function XD(n){return Yl(n)!==null}function sD(n,e){return n.hasOwnProperty(e)?n[e]:null}function hx(n){let e=n&&(n[eT]||n[tT]);return e||null}function aD(n){return n&&(n.hasOwnProperty(cD)||n.hasOwnProperty(fx))?n[cD]:null}var eT=Re({\u0275prov:Re}),cD=Re({\u0275inj:Re}),tT=Re({ngInjectableDef:Re}),fx=Re({ngInjectorDef:Re}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nT(n){return n&&!!n.\u0275providers}var px=Re({\u0275cmp:Re}),gx=Re({\u0275dir:Re}),mx=Re({\u0275pipe:Re}),yx=Re({\u0275mod:Re}),Tl=Re({\u0275fac:Re}),ka=Re({__NG_ELEMENT_ID__:Re}),uD=Re({__NG_ENV_ID__:Re});function Jl(n){return typeof n=="string"?n:n==null?"":String(n)}function vx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jl(n)}function rT(n,e){throw new j(-200,n)}function am(n,e){throw new j(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),wg;function iT(){return wg}function Jt(n){let e=wg;return wg=n,e}function oT(n,e,t){let r=Yl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;am(n,"Injector")}var _x={},Ci=_x,Ig="__NG_DI_FLAG__",bl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Bu:Ci,r)}},Cl="ngTempTokenPath",Ex="ngTokenPath",wx=/\n/gm,Ix="\u0275",lD="__source";function Dx(n,e=ce.Default){if(Aa()===void 0)throw new j(-203,!1);if(Aa()===null)return oT(n,void 0,e);{let t=Aa(),r;return t instanceof bl?r=t.injector:r=t,r.get(n,e&ce.Optional?null:void 0,e)}}function J(n,e=ce.Default){return(iT()||Dx)(Dt(n),e)}function N(n,e=ce.Default){return J(n,Zl(e))}function Zl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dg(n){let e=[];for(let t=0;t<n.length;t++){let r=Dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Tx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function sT(n,e){return n[Ig]=e,n.prototype[Ig]=e,n}function Tx(n){return n[Ig]}function bx(n,e,t,r){let i=n[Cl];throw e[lD]&&i.unshift(e[lD]),n.message=Cx(`
`+n.message,i,t,r),n[Ex]=i,n[Cl]=null,n}function Cx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Ix?n.slice(2):n;let i=xt(e);if(Array.isArray(e))i=e.map(xt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(wx,`
  `)}`}var Bt=sT(JD("Optional"),8);var Sx=sT(JD("SkipSelf"),4);function Fo(n,e){let t=n.hasOwnProperty(Tl);return t?n[Tl]:null}function cm(n,e){n.forEach(t=>Array.isArray(t)?cm(t,e):e(t))}function aT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ax(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Rx(n,e,t){let r=Ha(n,e);return r>=0?n[r|1]=t:(r=~r,Ax(n,r,e,t)),r}function sg(n,e){let t=Ha(n,e);if(t>=0)return n[t|1]}function Ha(n,e){return Mx(n,e,1)}function Mx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Ai={},Zt=[],Oa=new B(""),cT=new B("",-1),uT=new B(""),Al=class{get(e,t=Ci){if(t===Ci){let r=new Error(`NullInjectorError: No provider for ${xt(e)}!`);throw r.name="NullInjectorError",r}return t}};function lT(n,e){let t=n[yx]||null;if(!t&&e===!0)throw new Error(`Type ${xt(n)} does not have '\u0275mod' property.`);return t}function Lo(n){return n[px]||null}function Nx(n){return n[gx]||null}function Px(n){return n[mx]||null}function hn(n){return{\u0275providers:n}}function xx(...n){return{\u0275providers:dT(!0,n),\u0275fromNgModule:!0}}function dT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cm(e,s=>{let a=s;Tg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hT(i,o),t}function hT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];um(i,o=>{e(o,r)})}}function Tg(n,e,t,r){if(n=Dt(n),!n)return!1;let i=null,o=aD(n),s=!o&&Lo(n);if(!o&&!s){let u=n.ngModule;if(o=aD(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Tg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{cm(o.imports,h=>{Tg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&hT(l,e)}if(!a){let l=Fo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Zt},i),e({provide:uT,useValue:i,multi:!0},i),e({provide:Oa,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;um(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function um(n,e){for(let t of n)nT(t)&&(t=t.\u0275providers),Array.isArray(t)?um(t,e):e(t)}var kx=Re({provide:String,useValue:Re});function fT(n){return n!==null&&typeof n=="object"&&kx in n}function Ox(n){return!!(n&&n.useExisting)}function Fx(n){return!!(n&&n.useFactory)}function Vo(n){return typeof n=="function"}function Lx(n){return!!n.useClass}var Xl=new B(""),_l={},dD={},ag;function lm(){return ag===void 0&&(ag=new Al),ag}var lt=class{},Fa=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Cg(e,s=>this.processProvider(s)),this.records.set(cT,Po(void 0,this)),i.has("environment")&&this.records.set(lt,Po(void 0,this));let o=this.records.get(Xl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(uT,Zt,ce.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Bu:Ci,r)}destroy(){Pa(this),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return Pa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pa(this);let t=ir(this),r=Jt(void 0),i;try{return e()}finally{ir(t),Jt(r)}}get(e,t=Ci,r=ce.Default){if(Pa(this),e.hasOwnProperty(uD))return e[uD](this);r=Zl(r);let i,o=ir(this),s=Jt(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=$x(e)&&Yl(e);l&&this.injectableDefInScope(l)?u=Po(bg(e),_l):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?lm():this.parent;return t=r&ce.Optional&&t===Ci?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Cl]=a[Cl]||[]).unshift(xt(e)),o)throw a;return bx(a,e,"R3InjectorError",this.source)}else throw a}finally{Jt(s),ir(o)}}resolveInjectorInitializers(){let e=he(null),t=ir(this),r=Jt(void 0),i;try{let o=this.get(Oa,Zt,ce.Self);for(let s of o)s()}finally{ir(t),Jt(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(xt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dt(e);let t=Vo(e)?e:Dt(e&&e.provide),r=jx(e);if(!Vo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Po(void 0,_l,!0),i.factory=()=>Dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=he(null);try{return t.value===dD?rT(xt(e)):t.value===_l&&(t.value=dD,t.value=t.factory()),typeof t.value=="object"&&t.value&&Bx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function bg(n){let e=Yl(n),t=e!==null?e.factory:Fo(n);if(t!==null)return t;if(n instanceof B)throw new j(204,!1);if(n instanceof Function)return Vx(n);throw new j(204,!1)}function Vx(n){if(n.length>0)throw new j(204,!1);let t=hx(n);return t!==null?()=>t.factory(n):()=>new n}function jx(n){if(fT(n))return Po(void 0,n.useValue);{let e=pT(n);return Po(e,_l)}}function pT(n,e,t){let r;if(Vo(n)){let i=Dt(n);return Fo(i)||bg(i)}else if(fT(n))r=()=>Dt(n.useValue);else if(Fx(n))r=()=>n.useFactory(...Dg(n.deps||[]));else if(Ox(n))r=()=>J(Dt(n.useExisting));else{let i=Dt(n&&(n.useClass||n.provide));if(Ux(n))r=()=>new i(...Dg(n.deps));else return Fo(i)||bg(i)}return r}function Pa(n){if(n.destroyed)throw new j(205,!1)}function Po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ux(n){return!!n.deps}function Bx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $x(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Cg(n,e){for(let t of n)Array.isArray(t)?Cg(t,e):t&&nT(t)?Cg(t.\u0275providers,e):e(t)}function ht(n,e){let t;n instanceof Fa?(Pa(n),t=n):t=new bl(n);let r,i=ir(t),o=Jt(void 0);try{return e()}finally{ir(i),Jt(o)}}function gT(){return iT()!==void 0||Aa()!=null}function mT(n){if(!gT())throw new j(-203,!1)}function Hx(n){return typeof n=="function"}var dr=0,me=1,ie=2,Tt=3,dn=4,fn=5,Rl=6,Ml=7,kt=8,jo=9,ar=10,Ze=11,La=12,hD=13,Go=14,Sn=15,Uo=16,xo=17,Bo=18,ed=19,yT=20,Hr=21,cg=22,Nl=23,Xt=24,ug=25,An=26,vT=1;var Ri=7,Pl=8,xl=9,en=10;function zr(n){return Array.isArray(n)&&typeof n[vT]=="object"}function hr(n){return Array.isArray(n)&&n[vT]===!0}function _T(n){return(n.flags&4)!==0}function Ko(n){return n.componentOffset>-1}function dm(n){return(n.flags&1)===1}function Rn(n){return!!n.template}function kl(n){return(n[ie]&512)!==0}function za(n){return(n[ie]&256)===256}var Sg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ET(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var qr=(()=>{let n=()=>wT;return n.ngInherit=!0,n})();function wT(n){return n.type.prototype.ngOnChanges&&(n.setInput=qx),zx}function zx(){let n=DT(this),e=n?.current;if(e){let t=n.previous;if(t===Ai)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qx(n,e,t,r,i){let o=this.declaredInputs[r],s=DT(n)||Wx(n,{previous:Ai,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Sg(l&&l.currentValue,t,u===Ai),ET(n,e,i,t)}var IT="__ngSimpleChanges__";function DT(n){return n[IT]||null}function Wx(n,e){return n[IT]=e}var fD=null;var Me=function(n,e=null,t){fD?.(n,e,t)},Gx="svg",Kx="math";function Mn(n){for(;Array.isArray(n);)n=n[dr];return n}function TT(n,e){return Mn(e[n])}function xn(n,e){return Mn(e[n.index])}function bT(n,e){return n.data[e]}function Qx(n,e){return n[e]}function Nn(n,e){let t=e[n];return zr(t)?t:t[dr]}function hm(n){return(n[ie]&128)===128}function Yx(n){return hr(n[Tt])}function Ol(n,e){return e==null?null:n[e]}function CT(n){n[xo]=0}function ST(n){n[ie]&1024||(n[ie]|=1024,hm(n)&&nd(n))}function Jx(n,e){for(;n>0;)e=e[Go],n--;return e}function td(n){return!!(n[ie]&9216||n[Xt]?.dirty)}function Ag(n){n[ar].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),td(n)&&nd(n)}function nd(n){n[ar].changeDetectionScheduler?.notify(0);let e=Mi(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!hm(e)));)e=Mi(e)}function AT(n,e){if(za(n))throw new j(911,!1);n[Hr]===null&&(n[Hr]=[]),n[Hr].push(e)}function Zx(n,e){if(n[Hr]===null)return;let t=n[Hr].indexOf(e);t!==-1&&n[Hr].splice(t,1)}function Mi(n){let e=n[Tt];return hr(e)?e[Tt]:e}function RT(n){return n[Ml]??=[]}function MT(n){return n.cleanup??=[]}var le={lFrame:jT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rg=!1;function Xx(){return le.lFrame.elementDepthCount}function ek(){le.lFrame.elementDepthCount++}function tk(){le.lFrame.elementDepthCount--}function NT(){return le.bindingsEnabled}function nk(){return le.skipHydrationRootTNode!==null}function rk(n){return le.skipHydrationRootTNode===n}function ik(){le.skipHydrationRootTNode=null}function Ne(){return le.lFrame.lView}function $t(){return le.lFrame.tView}function pn(n){return le.lFrame.contextLView=n,n[kt]}function gn(n){return le.lFrame.contextLView=null,n}function Ht(){let n=PT();for(;n!==null&&n.type===64;)n=n.parent;return n}function PT(){return le.lFrame.currentTNode}function ok(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function qa(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function xT(){return le.lFrame.isParent}function sk(){le.lFrame.isParent=!1}function ak(){return le.lFrame.contextLView}function kT(){return Rg}function pD(n){let e=Rg;return Rg=n,e}function OT(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ck(n){return le.lFrame.bindingIndex=n}function rd(){return le.lFrame.bindingIndex++}function uk(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function lk(){return le.lFrame.inI18n}function dk(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mg(e)}function hk(){return le.lFrame.currentDirectiveIndex}function Mg(n){le.lFrame.currentDirectiveIndex=n}function fk(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function FT(n){le.lFrame.currentQueryIndex=n}function pk(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[fn]:null}function LT(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=pk(o),i===null||(o=o[Go],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=VT();return r.currentTNode=e,r.lView=n,!0}function fm(n){let e=VT(),t=n[me];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VT(){let n=le.lFrame,e=n===null?null:n.child;return e===null?jT(n):e}function jT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function UT(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var BT=UT;function pm(){let n=UT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gk(n){return(le.lFrame.contextLView=Jx(n,le.lFrame.contextLView))[kt]}function Qo(){return le.lFrame.selectedIndex}function Ni(n){le.lFrame.selectedIndex=n}function gm(){let n=le.lFrame;return bT(n.tView,n.selectedIndex)}function mk(){return le.lFrame.currentNamespace}var $T=!0;function mm(){return $T}function ym(n){$T=n}function yk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=wT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function HT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function El(n,e,t){zT(n,e,3,t)}function wl(n,e,t,r){(n[ie]&3)===t&&zT(n,e,t,r)}function lg(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function zT(n,e,t,r){let i=r!==void 0?n[xo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[xo]+=65536),(a<o||o==-1)&&(vk(n,t,e,u),n[xo]=(n[xo]&4294901760)+u+2),u++}function gD(n,e){Me(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Me(5,n,e)}}function vk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ie]>>14<n[xo]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,gD(a,o)):gD(a,o)}var Oo=-1,Pi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function _k(n){return(n.flags&8)!==0}function Ek(n){return(n.flags&16)!==0}function wk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Ik(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qT(n){return n===3||n===4||n===6}function Ik(n){return n.charCodeAt(0)===64}function Va(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mD(n,t,i,null,e[++r]):mD(n,t,i,null,null))}}return n}function mD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function WT(n){return n!==Oo}function Fl(n){return n&32767}function Dk(n){return n>>16}function Ll(n,e){let t=Dk(n),r=e;for(;t>0;)r=r[Go],t--;return r}var Ng=!0;function yD(n){let e=Ng;return Ng=n,e}var Tk=256,GT=Tk-1,KT=5,bk=0,Cn={};function Ck(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ka)&&(r=t[ka]),r==null&&(r=t[ka]=bk++);let i=r&GT,o=1<<i;e.data[n+(i>>KT)]|=o}function Vl(n,e){let t=QT(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,dg(r.data,n),dg(e,null),dg(r.blueprint,null));let i=vm(n,e),o=n.injectorIndex;if(WT(i)){let s=Fl(i),a=Ll(i,e),u=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function dg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function QT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function vm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=eb(i),r===null)return Oo;if(t++,i=i[Go],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Oo}function Pg(n,e,t){Ck(n,e,t)}function Sk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function YT(n,e,t){if(t&ce.Optional||n!==void 0)return n;am(e,"NodeInjector")}function JT(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),(t&(ce.Self|ce.Host))===0){let i=n[jo],o=Jt(void 0);try{return i?i.get(e,r,t&ce.Optional):oT(e,r,t&ce.Optional)}finally{Jt(o)}}return YT(r,e,t)}function ZT(n,e,t,r=ce.Default,i){if(n!==null){if(e[ie]&2048&&!(r&ce.Self)){let s=Pk(n,e,t,r,Cn);if(s!==Cn)return s}let o=XT(n,e,t,r,Cn);if(o!==Cn)return o}return JT(e,t,r,i)}function XT(n,e,t,r,i){let o=Mk(t);if(typeof o=="function"){if(!LT(e,n,r))return r&ce.Host?YT(i,t,r):JT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))am(t);else return s}finally{BT()}}else if(typeof o=="number"){let s=null,a=QT(n,e),u=Oo,l=r&ce.Host?e[Sn][fn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?vm(n,e):e[a+8],u===Oo||!_D(r,!1)?a=-1:(s=e[me],a=Fl(u),e=Ll(u,e)));a!==-1;){let h=e[me];if(vD(o,a,h.data)){let p=Ak(a,e,t,s,r,l);if(p!==Cn)return p}u=e[a+8],u!==Oo&&_D(r,e[me].data[a+8]===l)&&vD(o,a,e)?(s=h,a=Fl(u),e=Ll(u,e)):a=-1}}return i}function Ak(n,e,t,r,i,o){let s=e[me],a=s.data[n+8],u=r==null?Ko(a)&&Ng:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=Rk(a,s,t,u,l);return h!==null?jl(e,s,h,a):Cn}function Rk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let C=s[m];if(m<u&&t===C||m>=u&&C.type===t)return m}if(i){let m=s[u];if(m&&Rn(m)&&m.type===t)return u}return null}function jl(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Pi){let s=i;s.resolving&&rT(vx(o[t]));let a=yD(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Jt(s.injectImpl):null,h=LT(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&yk(t,o[t],e)}finally{l!==null&&Jt(l),yD(a),s.resolving=!1,BT()}}return i}function Mk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ka)?n[ka]:void 0;return typeof e=="number"?e>=0?e&GT:Nk:e}function vD(n,e,t){let r=1<<n;return!!(t[e+(n>>KT)]&r)}function _D(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var Si=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ZT(this._tNode,this._lView,e,Zl(r),t)}};function Nk(){return new Si(Ht(),Ne())}function Yo(n){return $a(()=>{let e=n.prototype.constructor,t=e[Tl]||xg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Tl]||xg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xg(n){return ZD(n)?()=>{let e=xg(Dt(n));return e&&e()}:Fo(n)}function Pk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!kl(s);){let a=XT(o,s,t,r|ce.Self,Cn);if(a!==Cn)return a;let u=o.parent;if(!u){let l=s[yT];if(l){let h=l.get(t,Cn,r);if(h!==Cn)return h}u=eb(s),s=s[Go]}o=u}return i}function eb(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[fn]:null}function _m(n){return Sk(Ht(),n)}function ED(n,e=null,t=null,r){let i=tb(n,e,t,r);return i.resolveInjectorInitializers(),i}function tb(n,e=null,t=null,r,i=new Set){let o=[t||Zt,xx(n)];return r=r||(typeof n=="object"?void 0:xt(n)),new Fa(o,e||lm(),r||null,i)}var dt=class n{static THROW_IF_NOT_FOUND=Ci;static NULL=new Al;static create(e,t){if(Array.isArray(e))return ED({name:""},t,e,"");{let r=e.name??"";return ED({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>J(cT)});static __NG_ELEMENT_ID__=-1};var xk=new B("");xk.__NG_ELEMENT_ID__=n=>{let e=Ht();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new j(204,!1)};var nb=!1,Wa=(()=>{class n{static __NG_ELEMENT_ID__=kk;static __NG_ENV_ID__=t=>t}return n})(),kg=class extends Wa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return AT(this._lView,e),()=>Zx(this._lView,e)}};function kk(){return new kg(Ne())}var $o=class{},Em=new B("",{providedIn:"root",factory:()=>!1});var rb=new B(""),ib=new B(""),fr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),id=(()=>{class n{internalPendingTasks=N(fr);scheduler=N($o);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Og=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,gT()&&(this.destroyRef=N(Wa,{optional:!0})??void 0,this.pendingTasks=N(fr,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Je=Og;function Ul(...n){}function ob(n){let e,t;function r(){n=Ul;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function wD(n){return queueMicrotask(()=>n()),()=>{n=Ul}}var wm="isAngularZone",Bl=wm+"_ID",Ok=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=nb}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Vk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Fk,Ul,Ul);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Fk={};function Im(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Lk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){ob(()=>{n.callbackScheduled=!1,Fg(n),n.isCheckStableRunning=!0,Im(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fg(n)}function Vk(n){let e=()=>{Lk(n)},t=Ok++;n._inner=n._inner.fork({name:"angular",properties:{[wm]:!0,[Bl]:t,[Bl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(jk(u))return r.invokeTask(o,s,a,u);try{return ID(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),DD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return ID(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Uk(u)&&e(),DD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fg(n),Im(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ID(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DD(n){n._nesting--,Im(n)}var Lg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function jk(n){return sb(n,"__ignore_ng_zone__")}function Uk(n){return sb(n,"__scheduler_tick__")}function sb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var cr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Bk=new B("",{providedIn:"root",factory:()=>{let n=N(be),e=N(cr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function TD(n,e){return YD(n,e)}function $k(n){return YD(QD,n)}var ab=(TD.required=$k,TD);function Hk(){return od(Ht(),Ne())}function od(n,e){return new Fi(xn(n,e))}var Fi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Hk}return n})();function zk(n){return typeof n=="function"&&n[Yt]!==void 0}function Wr(n,e){let t=Up(n,e?.equal),r=t[Yt];return t.set=i=>Sa(r,i),t.update=i=>Bp(r,i),t.asReadonly=qk.bind(t),t}function qk(){let n=this[Yt];if(n.readonlyFn===void 0){let e=()=>this();e[Yt]=n,n.readonlyFn=e}return n.readonlyFn}function cb(n){return zk(n)&&typeof n.set=="function"}function ub(n){return(n.flags&128)===128}var lb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(lb||{}),db=new Map,Wk=0;function Gk(){return Wk++}function Kk(n){db.set(n[ed],n)}function Vg(n){db.delete(n[ed])}var bD="__ngContext__";function Ga(n,e){zr(e)?(n[bD]=e[ed],Kk(e)):n[bD]=e}function hb(n){return pb(n[La])}function fb(n){return pb(n[dn])}function pb(n){for(;n!==null&&!hr(n);)n=n[dn];return n}var jg;function gb(n){jg=n}function Qk(){if(jg!==void 0)return jg;if(typeof document<"u")return document;throw new j(210,!1)}var Dm=new B("",{providedIn:"root",factory:()=>Yk}),Yk="ng",Tm=new B(""),pr=new B("",{providedIn:"platform",factory:()=>"unknown"});var bm=new B("",{providedIn:"root",factory:()=>Qk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Jk="h",Zk="b";var mb=!1,Xk=new B("",{providedIn:"root",factory:()=>mb});var yb=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(yb||{}),sd=new B(""),CD=new Set;function Cm(n){CD.has(n)||(CD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var eO=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();var tO=()=>null;function vb(n,e,t=!1){return tO(n,e,t)}function _b(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];FT(o),a.contentQueries(2,e[s],s)}}}finally{he(r)}}}function Ug(n,e,t){FT(0);let r=he(null);try{e(n,t)}finally{he(r)}}function Eb(n,e,t){if(_T(e)){let r=he(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{he(r)}}}var Pn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Pn||{});var yl;function nO(){if(yl===void 0&&(yl=null,Eg.trustedTypes))try{yl=Eg.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yl}function SD(n){return nO()?.createScriptURL(n)||n}var $l=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KD})`}};function Sm(n){return n instanceof $l?n.changingThisBreaksApplicationSecurity:n}function wb(n,e){let t=rO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${KD})`)}return t===e}function rO(n){return n instanceof $l&&n.getTypeName()||null}var iO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oO(n){return n=String(n),n.match(iO)?n:"unsafe:"+n}var Am=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Am||{});function sO(n){let e=Db();return e?e.sanitize(Am.URL,n)||"":wb(n,"URL")?Sm(n):oO(Jl(n))}function aO(n){let e=Db();if(e)return SD(e.sanitize(Am.RESOURCE_URL,n)||"");if(wb(n,"ResourceURL"))return SD(Sm(n));throw new j(904,!1)}function cO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?aO:sO}function Ib(n,e,t){return cO(e,t)(n)}function Db(){let n=Ne();return n&&n[ar].sanitizer}function Tb(n){return n instanceof Function?n():n}function uO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var bb="ng-template";function lO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&uO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Rm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Rm(n){return n.type===4&&n.value!==bb}function dO(n,e,t){let r=n.type===4&&!t?bb:n.value;return e===r}function hO(n,e,t){let r=4,i=n.attrs,o=i!==null?gO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!dO(n,u,t)||u===""&&e.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!lO(n,i,u,t)){if(ln(r))return!1;s=!0}}else{let l=e[++a],h=fO(u,i,Rm(n),t);if(h===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(n){return(n&1)===0}function fO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return mO(e,n)}function pO(n,e,t=!1){for(let r=0;r<e.length;r++)if(hO(n,e[r],t))return!0;return!1}function gO(n){for(let e=0;e<n.length;e++){let t=n[e];if(qT(t))return e}return n.length}function mO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function AD(n,e){return n?":not("+e.trim()+")":e}function yO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(e+=AD(o,i),i=""),r=s,o=o||!ln(r);t++}return i!==""&&(e+=AD(o,i)),e}function vO(n){return n.map(yO).join(",")}function _O(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ln(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Gr={};function EO(n,e){return n.createText(e)}function wO(n,e,t){n.setValue(e,t)}function Cb(n,e,t){return n.createElement(e,t)}function Hl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Sb(n,e,t){n.appendChild(e,t)}function RD(n,e,t,r,i){r!==null?Hl(n,e,t,r,i):Sb(n,e,t)}function IO(n,e,t){n.removeChild(null,e,t)}function DO(n,e,t){n.setAttribute(e,"style",t)}function TO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ab(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wk(n,e,r),i!==null&&TO(n,e,i),o!==null&&DO(n,e,o)}function Mm(n,e,t,r,i,o,s,a,u,l,h){let p=An+r,y=p+i,m=bO(p,y),C=typeof l=="function"?l():l;return m[me]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function bO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Gr);return t}function CO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Mm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Nm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[dr]=i,p[ie]=r|4|128|8|64|1024,(l!==null||n&&n[ie]&2048)&&(p[ie]|=2048),CT(p),p[Tt]=p[Go]=n,p[kt]=t,p[ar]=s||n&&n[ar],p[Ze]=a||n&&n[Ze],p[jo]=u||n&&n[jo]||null,p[fn]=o,p[ed]=Gk(),p[Rl]=h,p[yT]=l,p[Sn]=e.type==2?n[Sn]:p,p}function SO(n,e,t){let r=xn(e,n),i=CO(t),o=n[ar].rendererFactory,s=Pm(n,Nm(n,i,null,Rb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Rb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Mb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Pm(n,e){return n[La]?n[hD][dn]=e:n[La]=e,n[hD]=e,e}function W(n=1){Nb($t(),Ne(),Qo()+n,!1)}function Nb(n,e,t,r){if(!r)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&El(e,o,t)}else{let o=n.preOrderHooks;o!==null&&wl(e,o,0,t)}Ni(t)}var ad=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ad||{});function Bg(n,e,t,r){let i=he(null);try{let[o,s,a]=n.inputs[t],u=null;(s&ad.SignalBased)!==0&&(u=e[o][Yt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):ET(e,u,o,r)}finally{he(i)}}function Pb(n,e,t,r,i){let o=Qo(),s=r&2;try{Ni(-1),s&&e.length>An&&Nb(n,e,An,!1),Me(s?2:0,i),t(r,i)}finally{Ni(o),Me(s?3:1,i)}}function xm(n,e,t){xO(n,e,t),(t.flags&64)===64&&kO(n,e,t)}function xb(n,e,t=xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function AO(n,e,t,r){let o=r.get(Xk,mb)||t===Pn.ShadowDom,s=n.selectRootElement(e,o);return RO(s),s}function RO(n){MO(n)}var MO=()=>null;function NO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function kb(n,e,t,r,i,o,s,a){if(!a&&km(e,n,t,r,i)){Ko(e)&&PO(t,e.index);return}if(e.type&3){let u=xn(e,t);r=NO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function PO(n,e){let t=Nn(e,n);t[ie]&16||(t[ie]|=64)}function xO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ko(t)&&SO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=jl(e,n,s,t);if(Ga(u,e),o!==null&&VO(e,s-r,u,a,t,o),Rn(a)){let l=Nn(t.index,e);l[kt]=jl(e,n,s,t)}}}function kO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=hk();try{Ni(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Mg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&OO(u,l)}}finally{Ni(-1),Mg(s)}}function OO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ob(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];pO(e,o.selectors,!1)&&(r??=[],Rn(o)?r.unshift(o):r.push(o))}return r}function FO(n,e,t,r,i,o){let s=xn(n,e);LO(e[Ze],s,o,n.value,t,r,i)}function LO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Jl(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function VO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Bg(r,t,u,l)}}function jO(n,e){let t=n[jo],r=t?t.get(cr,null):null;r&&r.handleError(e)}function km(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Bg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Bg(h,l,r,i),a=!0}return a}function UO(n,e){let t=Nn(e,n),r=t[me];BO(r,t);let i=t[dr];i!==null&&t[Rl]===null&&(t[Rl]=vb(i,t[jo])),Me(18),Om(r,t,t[kt]),Me(19,t[kt])}function BO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Om(n,e,t){fm(e);try{let r=n.viewQuery;r!==null&&Ug(1,r,t);let i=n.template;i!==null&&Pb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Bo]?.finishViewCreation(n),n.staticContentQueries&&_b(n,e),n.staticViewQueries&&Ug(2,n.viewQuery,t);let o=n.components;o!==null&&$O(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,pm()}}function $O(n,e){for(let t=0;t<e.length;t++)UO(n,e[t])}function HO(n,e,t,r){let i=he(null);try{let o=e.tView,a=n[ie]&4096?4096:16,u=Nm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Uo]=l;let h=n[Bo];return h!==null&&(u[Bo]=h.createEmbeddedView(o)),Om(o,u,t),u}finally{he(i)}}function MD(n,e){return!e||e.firstChild===null||ub(n)}var zO;function Fm(n,e){return zO(n,e)}var ur=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ur||{});function Fb(n){return(n.flags&32)===32}function ko(n,e,t,r,i){if(r!=null){let o,s=!1;hr(r)?o=r:zr(r)&&(s=!0,r=r[dr]);let a=Mn(r);n===0&&t!==null?i==null?Sb(e,t,a):Hl(e,t,a,i||null,!0):n===1&&t!==null?Hl(e,t,a,i||null,!0):n===2?IO(e,a,s):n===3&&e.destroyNode(a),o!=null&&n1(e,n,o,t,i)}}function qO(n,e){Lb(n,e),e[dr]=null,e[fn]=null}function WO(n,e,t,r,i,o){r[dr]=i,r[fn]=e,cd(n,r,t,1,i,o)}function Lb(n,e){e[ar].changeDetectionScheduler?.notify(9),cd(n,e,e[Ze],2,null,null)}function GO(n){let e=n[La];if(!e)return hg(n[me],n);for(;e;){let t=null;if(zr(e))t=e[La];else{let r=e[en];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)zr(e)&&hg(e[me],e),e=e[Tt];e===null&&(e=n),zr(e)&&hg(e[me],e),t=e&&e[dn]}e=t}}function Lm(n,e){let t=n[xl],r=t.indexOf(e);t.splice(r,1)}function Vb(n,e){if(za(e))return;let t=e[Ze];t.destroyNode&&cd(n,e,t,3,null,null),GO(e)}function hg(n,e){if(za(e))return;let t=he(null);try{e[ie]&=-129,e[ie]|=256,e[Xt]&&Lp(e[Xt]),QO(n,e),KO(n,e),e[me].type===1&&e[Ze].destroy();let r=e[Uo];if(r!==null&&hr(e[Tt])){r!==e[Tt]&&Lm(r,e);let i=e[Bo];i!==null&&i.detachView(n)}Vg(e)}finally{he(t)}}function KO(n,e){let t=n.cleanup,r=e[Ml];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ml]=null);let i=e[Hr];if(i!==null){e[Hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Nl];if(o!==null){e[Nl]=null;for(let s of o)s.destroy()}}function QO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Pi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function YO(n,e,t){return JO(n,e.parent,t)}function JO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[dr];if(Ko(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pn.None||i===Pn.Emulated)return null}return xn(r,t)}function ZO(n,e,t){return e1(n,e,t)}function XO(n,e,t){return n.type&40?xn(n,t):null}var e1=XO,ND;function Vm(n,e,t,r){let i=YO(n,r,e),o=e[Ze],s=r.parent||e[fn],a=ZO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)RD(o,i,t[u],a,!1);else RD(o,i,t,a,!1);ND!==void 0&&ND(o,r,e,t,i)}function xa(n,e){if(e!==null){let t=e.type;if(t&3)return xn(e,n);if(t&4)return $g(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xa(n,r);{let i=n[e.index];return hr(i)?$g(-1,i):Mn(i)}}else{if(t&128)return xa(n,e.next);if(t&32)return Fm(e,n)()||Mn(n[e.index]);{let r=jb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mi(n[Sn]);return xa(i,r)}else return xa(n,e.next)}}}return null}function jb(n,e){if(e!==null){let r=n[Sn][fn],i=e.projection;return r.projection[i]}return null}function $g(n,e){let t=en+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return xa(r,i)}return e[Ri]}function jm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ga(Mn(a),r),t.flags|=2),!Fb(t))if(u&8)jm(n,e,t.child,r,i,o,!1),ko(e,n,i,a,o);else if(u&32){let l=Fm(t,r),h;for(;h=l();)ko(e,n,i,h,o);ko(e,n,i,a,o)}else u&16?t1(n,e,r,t,i,o):ko(e,n,i,a,o);t=s?t.projectionNext:t.next}}function cd(n,e,t,r,i,o){jm(t,r,n.firstChild,e,i,o,!1)}function t1(n,e,t,r,i,o){let s=t[Sn],u=s[fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ko(e,n,i,h,o)}else{let l=u,h=s[Tt];ub(r)&&(l.flags|=128),jm(n,e,l,h,i,o,!0)}}function n1(n,e,t,r,i){let o=t[Ri],s=Mn(t);o!==s&&ko(e,n,r,o,i);for(let a=en;a<t.length;a++){let u=t[a];cd(u[me],u,n,e,r,o)}}function r1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ur.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),n.setStyle(t,r,i,o))}}function zl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Mn(o)),hr(o)&&i1(o,r);let s=t.type;if(s&8)zl(n,e,t.child,r);else if(s&32){let a=Fm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=jb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Mi(e[Sn]);zl(u[me],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function i1(n,e){for(let t=en;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&zl(r[me],r,i,e)}n[Ri]!==n[dr]&&e.push(n[Ri])}function Ub(n){if(n[ug]!==null){for(let e of n[ug])e.impl.addSequence(e);n[ug].length=0}}var Bb=[];function o1(n){return n[Xt]??s1(n)}function s1(n){let e=Bb.pop()??Object.create(c1);return e.lView=n,e}function a1(n){n.lView[Xt]!==n&&(n.lView=null,Bb.push(n))}var c1=ae(L({},ba),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nd(n.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function u1(n){let e=n[Xt]??Object.create(l1);return e.lView=n,e}var l1=ae(L({},ba),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mi(n.lView);for(;e&&!$b(e[me]);)e=Mi(e);e&&ST(e)},consumerOnSignalRead(){this.lView[Xt]=this}});function $b(n){return n.type!==2}function Hb(n){if(n[Nl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Nl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ie]&8192)}}var d1=100;function zb(n,e=!0,t=0){let i=n[ar].rendererFactory,o=!1;o||i.begin?.();try{h1(n,t)}catch(s){throw e&&jO(n,s),s}finally{o||i.end?.()}}function h1(n,e){let t=kT();try{pD(!0),Hg(n,e);let r=0;for(;td(n);){if(r===d1)throw new j(103,!1);r++,Hg(n,1)}}finally{pD(t)}}function f1(n,e,t,r){if(za(e))return;let i=e[ie],o=!1,s=!1;fm(e);let a=!0,u=null,l=null;o||($b(n)?(l=o1(e),u=Lu(l)):Np()===null?(a=!1,l=u1(e),u=Lu(l)):e[Xt]&&(Lp(e[Xt]),e[Xt]=null));try{CT(e),ck(n.bindingStartIndex),t!==null&&Pb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&El(e,m,null)}else{let m=n.preOrderHooks;m!==null&&wl(e,m,0,null),lg(e,0)}if(s||p1(e),Hb(e),qb(e,0),n.contentQueries!==null&&_b(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&El(e,m)}else{let m=n.contentHooks;m!==null&&wl(e,m,1),lg(e,1)}m1(n,e);let p=n.components;p!==null&&Gb(e,p,0);let y=n.viewQuery;if(y!==null&&Ug(2,y,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&El(e,m)}else{let m=n.viewHooks;m!==null&&wl(e,m,2),lg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cg]){for(let m of e[cg])m();e[cg]=null}o||(Ub(e),e[ie]&=-73)}catch(h){throw o||nd(e),h}finally{l!==null&&(Op(l,u),a&&a1(l)),pm()}}function qb(n,e){for(let t=hb(n);t!==null;t=fb(t))for(let r=en;r<t.length;r++){let i=t[r];Wb(i,e)}}function p1(n){for(let e=hb(n);e!==null;e=fb(e)){if(!(e[ie]&2))continue;let t=e[xl];for(let r=0;r<t.length;r++){let i=t[r];ST(i)}}}function g1(n,e,t){Me(18);let r=Nn(e,n);Wb(r,t),Me(19,r[kt])}function Wb(n,e){hm(n)&&Hg(n,e)}function Hg(n,e){let r=n[me],i=n[ie],o=n[Xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fp(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)f1(r,n,r.template,n[kt]);else if(i&8192){Hb(n),qb(n,1);let a=r.components;a!==null&&Gb(n,a,1),Ub(n)}}function Gb(n,e,t){for(let r=0;r<e.length;r++)g1(n,e[r],t)}function m1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ni(~i);else{let o=i,s=t[++r],a=t[++r];dk(s,o);let u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{Ni(-1)}}function Um(n,e){let t=kT()?64:1088;for(n[ar].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=Mi(n);if(kl(n)&&!r)return n;n=r}return null}function Kb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function y1(n,e,t,r=!0){let i=e[me];if(v1(i,e,n,t),r){let s=$g(t,n),a=e[Ze],u=a.parentNode(n[Ri]);u!==null&&WO(i,n[fn],a,e,u,s)}let o=e[Rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zg(n,e){if(n.length<=en)return;let t=en+e,r=n[t];if(r){let i=r[Uo];i!==null&&i!==n&&Lm(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=Sl(n,en+e);qO(r[me],r);let s=o[Bo];s!==null&&s.detachView(o[me]),r[Tt]=null,r[dn]=null,r[ie]&=-129}return r}function v1(n,e,t,r){let i=en+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-en?(e[dn]=t[i],aT(t,en+r,e)):(t.push(e),e[dn]=null),e[Tt]=t;let s=e[Uo];s!==null&&t!==s&&Qb(s,e);let a=e[Bo];a!==null&&a.insertView(n),Ag(e),e[ie]|=128}function Qb(n,e){let t=n[xl],r=e[Tt];if(zr(r))n[ie]|=2;else{let i=r[Tt][Sn];e[Sn]!==i&&(n[ie]|=2)}t===null?n[xl]=[e]:t.push(e)}var ja=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[me];return zl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return za(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(hr(e)){let t=e[Pl],r=t?t.indexOf(this):-1;r>-1&&(zg(e,r),Sl(t,r))}this._attachedToViewContainer=!1}Vb(this._lView[me],this._lView)}onDestroy(e){AT(this._lView,e)}markForCheck(){Um(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Ag(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,zb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=kl(this._lView),t=this._lView[Uo];t!==null&&!e&&Lm(t,this._lView),Lb(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=kl(this._lView),r=this._lView[Uo];r!==null&&!t&&Qb(r,this._lView),Ag(this._lView)}};var ud=(()=>{class n{static __NG_ELEMENT_ID__=w1}return n})(),_1=ud,E1=class extends _1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=HO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ja(i)}};function w1(){return I1(Ht(),Ne())}function I1(n,e){return n.type&4?new E1(e,n,od(n,e)):null}function Bm(n,e,t,r,i){let o=n.data[e];if(o===null)o=D1(n,e,t,r,i),lk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ok();o.injectorIndex=s===null?-1:s.injectorIndex}return qa(o,!0),o}function D1(n,e,t,r,i){let o=PT(),s=xT(),a=s?o:o&&o.parent,u=n.data[e]=b1(n,a,t,e,r,i);return T1(n,u,o,s),u}function T1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function b1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return nk()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $5=new RegExp(`^(\\d+)*(${Zk}|${Jk})*(.*)`);var C1=()=>null;function PD(n,e){return C1(n,e)}var S1=class{},Yb=class{},qg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${xt(e)}.`)}},ld=class{static NULL=new qg},Ho=class{},Jo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>A1()}return n})();function A1(){let n=Ne(),e=Ht(),t=Nn(e.index,n);return(zr(t)?t:n)[Ze]}var R1=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var fg={},Wg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Zl(r);let i=this.injector.get(e,fg,r);return i!==fg||t===fg?i:this.parentInjector.get(e,t,r)}};function xD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=oD(i,a);else if(o==2){let u=a,l=e[++s];r=oD(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function X(n,e=ce.Default){let t=Ne();if(t===null)return J(n,e);let r=Ht();return ZT(r,t,Dt(n),e)}function Jb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=N1(s);h===null?a=s:[a,u,l]=h,k1(n,e,t,a,o,u,l)}o!==null&&r!==null&&M1(t,r,o)}function M1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function N1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Rn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,P1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function P1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function x1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function k1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let y=0;y<a;y++){let m=r[y];!u&&Rn(m)&&(u=!0,x1(n,t,y)),Pg(Vl(t,e),n,m.type)}U1(t,n.data.length,a);for(let y=0;y<a;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=Mb(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let m=r[y];if(t.mergedAttrs=Va(t.mergedAttrs,m.hostAttrs),F1(n,t,e,p,m),j1(p,m,i),s!==null&&s.has(m)){let[M,R]=s.get(m);t.directiveToIndex.set(m.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let C=m.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}O1(n,t,o)}function O1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))kD(0,e,i,r),kD(1,e,i,r),FD(e,r,!1);else{let o=t.get(i);OD(0,e,o,r),OD(1,e,o,r),FD(e,r,!0)}}}function kD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Zb(e,o)}}function OD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Zb(e,s)}}function Zb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function FD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Rm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function F1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Fo(i.type,!0)),s=new Pi(o,Rn(i),X);n.blueprint[r]=s,t[r]=s,L1(n,e,r,Mb(n,t,i.hostVars,Gr),i)}function L1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;V1(s)!=a&&s.push(a),s.push(t,r,o)}}function V1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function j1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rn(e)&&(t[""]=n)}}function U1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Xb(n,e,t,r,i,o,s,a){let u=e.consts,l=Ol(u,s),h=Bm(e,n,2,r,l);return o&&Jb(e,t,h,Ol(u,a),i),h.mergedAttrs=Va(h.mergedAttrs,h.attrs),h.attrs!==null&&xD(h,h.attrs,!1),h.mergedAttrs!==null&&xD(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function eC(n,e){HT(n,e),_T(e)&&n.queries.elementEnd(e)}var ql=class extends ld{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Lo(e);return new Ua(t,this.ngModule)}};function B1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ad.SignalBased)!==0};return i&&(o.transform=i),o})}function $1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function H1(n,e,t){let r=e instanceof lt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Wg(t,r):t}function z1(n){let e=n.get(Ho,null);if(e===null)throw new j(407,!1);let t=n.get(R1,null),r=n.get($o,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function q1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return Cb(e,t,t==="svg"?Gx:t==="math"?Kx:null)}var Ua=class extends Yb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=B1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=$1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=vO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Me(22);let o=he(null);try{let s=this.componentDef,a=r?["ng-version","19.2.8"]:_O(this.componentDef.selectors[0]),u=Mm(0,null,null,1,0,null,null,null,null,[a],null),l=H1(s,i||this.ngModule,e),h=z1(l),p=h.rendererFactory.createRenderer(null,s),y=r?AO(p,r,s.encapsulation,l):q1(s,p),m=Nm(null,u,null,512|Rb(s),null,null,h,p,l,null,vb(y,l,!0));m[An]=y,fm(m);let C=null;try{let M=Xb(An,u,m,"#host",()=>[this.componentDef],!0,0);y&&(Ab(p,y,M),Ga(y,m)),xm(u,m,M),Eb(u,M,m),eC(u,M),t!==void 0&&W1(M,this.ngContentSelectors,t),C=Nn(M.index,m),m[kt]=C[kt],Om(u,m,null)}catch(M){throw C!==null&&Vg(C),Vg(m),M}finally{Me(23),pm()}return new Gg(this.componentType,m)}finally{he(o)}}},Gg=class extends S1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=bT(t[me],An),this.location=od(this._tNode,t),this.instance=Nn(this._tNode.index,t)[kt],this.hostView=this.changeDetectorRef=new ja(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=km(r,i[me],i,e,t);this.previousInputValues.set(e,t);let s=Nn(r.index,i);Um(s,1)}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function W1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zo=(()=>{class n{static __NG_ELEMENT_ID__=G1}return n})();function G1(){let n=Ht();return Q1(n,Ne())}var K1=Zo,tC=class extends K1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return od(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){let e=vm(this._hostTNode,this._hostLView);if(WT(e)){let t=Ll(e,this._hostLView),r=Fl(e),i=t[me].data[r+8];return new Si(i,t)}else return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=LD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=PD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,MD(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!Hx(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Ua(Lo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(lt,null);M&&(o=M)}let h=Lo(u.componentType??{}),p=PD(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,MD(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Yx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new tC(u,u[fn],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return y1(s,i,o,r),e.attachToViewContainerRef(),aT(pg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=LD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);r&&(Sl(pg(this._lContainer),t),Vb(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=zg(this._lContainer,t);return r&&Sl(pg(this._lContainer),t)!=null?new ja(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function LD(n){return n[Pl]}function pg(n){return n[Pl]||(n[Pl]=[])}function Q1(n,e){let t,r=e[n.index];return hr(r)?t=r:(t=Kb(r,e,null,n),e[n.index]=t,Pm(e,t)),J1(t,e,n,r),new tC(t,n,e)}function Y1(n,e){let t=n[Ze],r=t.createComment(""),i=xn(e,n),o=t.parentNode(i);return Hl(t,o,r,t.nextSibling(i),!1),r}var J1=eF,Z1=()=>!1;function X1(n,e,t){return Z1(n,e,t)}function eF(n,e,t,r){if(n[Ri])return;let i;t.type&8?i=Mn(r):i=Y1(e,t),n[Ri]=i}var zo=class{},$m=class{};var Kg=class extends zo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ql(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=lT(e);this._bootstrapComponents=Tb(o.bootstrap),this._r3Injector=tb(e,t,[{provide:zo,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...r],xt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qg=class extends $m{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Kg(this.moduleType,e,[])}};var Wl=class extends zo{injector;componentFactoryResolver=new ql(this);instance=null;constructor(e){super();let t=new Fa([...e.providers,{provide:zo,useValue:this},{provide:ld,useValue:this.componentFactoryResolver}],e.parent||lm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dd(n,e,t=null){return new Wl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var tF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=dT(!1,t.type),i=r.length>0?dd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(J(lt))})}return n})();function je(n){return $a(()=>{let e=nC(n),t=ae(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===lb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(tF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Cm("NgStandalone"),rC(t);let r=n.dependencies;return t.directiveDefs=VD(r,!1),t.pipeDefs=VD(r,!0),t.id=sF(t),t})}function nF(n){return Lo(n)||Nx(n)}function rF(n){return n!==null}function gr(n){return $a(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iF(n,e){if(n==null)return Ai;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ad.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function oF(n){if(n==null)return Ai;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function et(n){return $a(()=>{let e=nC(n);return rC(e),e})}function nC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ai,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iF(n.inputs,e),outputs:oF(n.outputs),debugInfo:null}}function rC(n){n.features?.forEach(e=>e(n))}function VD(n,e){if(!n)return null;let t=e?Px:nF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(rF)}function sF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function aF(n){return Object.getPrototypeOf(n.prototype).constructor}function mr(n){let e=aF(n.type),t=!0,r=[n];for(;e;){let i;if(Rn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=gg(n.inputs),s.declaredInputs=gg(n.declaredInputs),s.outputs=gg(n.outputs);let a=i.hostBindings;a&&hF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lF(n,u),l&&dF(n,l),cF(n,i),lx(n.outputs,i.outputs),Rn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===mr&&(t=!1)}}e=Object.getPrototypeOf(e)}uF(r)}function cF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function uF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,t=Va(t,i.hostAttrs))}}function gg(n){return n===Ai?{}:n===Zt?[]:n}function lF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function dF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function hF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function iC(n){return pF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function fF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function pF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function oC(n,e,t){return n[e]=t}function gF(n,e){return n[e]}function Xo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function mF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Bm(e,n,4,s||null,a||null);NT()&&Jb(e,t,h,Ol(l,u),Ob),h.mergedAttrs=Va(h.mergedAttrs,h.attrs),HT(e,h);let p=h.tView=Mm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function yF(n,e,t,r,i,o,s,a,u,l){let h=t+An,p=e.firstCreatePass?mF(h,e,n,r,i,o,s,a,u):e.data[h];qa(p,!1);let y=vF(e,n,p,t);mm()&&Vm(e,n,y,p),Ga(y,n);let m=Kb(y,n,y,p);return n[h]=m,Pm(n,m),X1(m,p,n),dm(p)&&xm(e,n,p),u!=null&&xb(n,p,l),p}function mn(n,e,t,r,i,o,s,a){let u=Ne(),l=$t(),h=Ol(l.consts,o);return yF(u,l,n,e,t,r,i,h,s,a),mn}var vF=_F;function _F(n,e,t,r){return ym(!0),e[Ze].createComment("")}var sC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var aC=new B("");var EF=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Yg})}return n})(),Yg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Li(n){return!!n&&typeof n.then=="function"}function cC(n){return!!n&&typeof n.subscribe=="function"}var wF=new B("");var uC=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(wF,{optional:!0})??[];injector=N(dt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ht(this.injector,i);if(Li(o))t.push(o);else if(cC(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hm=new B("");function IF(){jp(()=>{throw new j(600,!1)})}function DF(n){return n.isBoundToModule}var TF=10;var xi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Bk);afterRenderManager=N(eO);zonelessEnabled=N(Em);rootEffectScheduler=N(EF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(fr).hasPendingTasks.pipe(Z(t=>!t));constructor(){N(sd,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=dt.NULL){Me(10);let o=t instanceof Yb;if(!this._injector.get(uC).done){let m="";throw new j(405,m)}let a;o?a=t:a=this._injector.get(ld).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=DF(a)?void 0:this._injector.get(zo),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(aC,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Il(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Me(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(yb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(t),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ho,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<TF;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)bF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>td(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Il(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Hm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Il(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Il(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bF(n,e,t,r){if(!t&&!td(n))return;zb(n,e,t&&!r?0:1)}function Ka(n,e,t,r){let i=Ne(),o=rd();if(Xo(i,o,e)){let s=$t(),a=gm();FO(a,i,n,e,t,r)}return Ka}function CF(n,e,t,r){return Xo(n,rd(),t)?e+Jl(t)+r:Gr}function vl(n,e){return n<<17|e<<2}function ki(n){return n>>17&32767}function SF(n){return(n&2)==2}function AF(n,e){return n&131071|e<<17}function Jg(n){return n|2}function qo(n){return(n&131068)>>2}function mg(n,e){return n&-131069|e<<2}function RF(n){return(n&1)===1}function Zg(n){return n|1}function MF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ki(s),u=qo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ha(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let y=ki(n[a+1]);n[r+1]=vl(y,a),y!==0&&(n[y+1]=mg(n[y+1],r)),n[a+1]=AF(n[a+1],r)}else n[r+1]=vl(a,0),a!==0&&(n[a+1]=mg(n[a+1],r)),a=r;else n[r+1]=vl(u,0),a===0?a=r:n[u+1]=mg(n[u+1],r),u=r;l&&(n[r+1]=Jg(n[r+1])),jD(n,h,r,!0),jD(n,h,r,!1),NF(e,h,n,r,o),s=vl(a,u),o?e.classBindings=s:e.styleBindings=s}function NF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Ha(o,e)>=0&&(t[r+1]=Zg(t[r+1]))}function jD(n,e,t,r){let i=n[t+1],o=e===null,s=r?ki(i):qo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];PF(u,e)&&(a=!0,n[s+1]=r?Zg(l):Jg(l)),s=r?ki(l):qo(l)}a&&(n[t+1]=r?Jg(i):Zg(i))}function PF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ha(n,e)>=0:!1}function ft(n,e,t){let r=Ne(),i=rd();if(Xo(r,i,e)){let o=$t(),s=gm();kb(o,s,r,n,e,r[Ze],t,!1)}return ft}function UD(n,e,t,r,i){km(e,n,t,i?"class":"style",r)}function hd(n,e){return xF(n,e,null,!0),hd}function xF(n,e,t,r){let i=Ne(),o=$t(),s=uk(2);if(o.firstUpdatePass&&OF(o,n,s,r),e!==Gr&&Xo(i,s,e)){let a=o.data[Qo()];UF(o,a,i,i[Ze],n,i[s+1]=BF(e,t),r,s)}}function kF(n,e){return e>=n.expandoStartIndex}function OF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Qo()],s=kF(n,t);$F(o,r)&&e===null&&!s&&(e=!1),e=FF(i,o,e,r),MF(i,o,e,t,s,r)}}function FF(n,e,t,r){let i=fk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=yg(null,n,e,t,r),t=Ba(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=yg(i,n,e,t,r),o===null){let u=LF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=yg(null,n,e,u[1],r),u=Ba(u,e.attrs,r),VF(n,e,r,u))}else o=jF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function LF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(qo(r)!==0)return n[ki(r)]}function VF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ki(i)]=r}function jF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ba(r,s,t)}return Ba(r,e.attrs,t)}function yg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ba(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ba(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Rx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function UF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=RF(l)?BD(u,e,t,i,qo(l),s):void 0;if(!Gl(h)){Gl(o)||SF(l)&&(o=BD(u,null,t,i,a,s));let p=TT(Qo(),t);r1(r,s,p,i,o)}}function BD(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=t[i+1];y===Gr&&(y=p?Zt:void 0);let m=p?sg(y,r):h===r?y:void 0;if(l&&!Gl(m)&&(m=sg(u,r)),Gl(m)&&(a=m,s))return a;let C=n[i+1];i=s?ki(C):qo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sg(u,r))}return a}function Gl(n){return n!==void 0}function BF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=xt(Sm(n)))),n}function $F(n,e){return(n.flags&(e?8:16))!==0}function k(n,e,t,r){let i=Ne(),o=$t(),s=An+n,a=i[Ze],u=o.firstCreatePass?Xb(s,o,i,e,Ob,NT(),t,r):o.data[s],l=HF(o,i,u,a,e,n);i[s]=l;let h=dm(u);return qa(u,!0),Ab(a,l,u),!Fb(u)&&mm()&&Vm(o,i,l,u),(Xx()===0||h)&&Ga(l,i),ek(),h&&(xm(o,i,u),Eb(o,u,i)),r!==null&&xb(i,u),k}function O(){let n=Ht();xT()?sk():(n=n.parent,qa(n,!1));let e=n;rk(e)&&ik(),tk();let t=$t();return t.firstCreatePass&&eC(t,e),e.classesWithoutHost!=null&&_k(e)&&UD(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ek(e)&&UD(t,e,Ne(),e.stylesWithoutHost,!1),O}function Vi(n,e,t,r){return k(n,e,t,r),O(),Vi}var HF=(n,e,t,r,i,o)=>(ym(!0),Cb(r,i,mk()));function Kr(){return Ne()}var Kl="en-US";var zF=Kl;function qF(n){typeof n=="string"&&(zF=n.toLowerCase().replace(/_/g,"-"))}function $D(n,e,t){return function r(i){if(i===Function)return t;let o=Ko(n)?Nn(n.index,e):e;Um(o,5);let s=e[kt],a=HD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=HD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function HD(n,e,t,r){let i=he(null);try{return Me(6,e,t),t(r)!==!1}catch(o){return WF(n,o),!1}finally{Me(7,e,t),he(i)}}function WF(n,e){let t=n[jo],r=t?t.get(cr,null):null;r&&r.handleError(e)}function zD(n,e,t,r,i,o){let s=e[t],a=e[me],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?MT(a):null,y=RT(e),m=h.subscribe(o),C=y.length;y.push(o,m),p&&p.push(i,n.index,C,-(C+1))}var GF=(n,e,t)=>{};function Pe(n,e,t,r){let i=Ne(),o=$t(),s=Ht();return lC(o,i,i[Ze],s,n,e,r),Pe}function KF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ml],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function lC(n,e,t,r,i,o,s){let a=dm(r),l=n.firstCreatePass?MT(n):null,h=RT(e),p=!0;if(r.type&3||s){let y=xn(r,e),m=s?s(y):y,C=h.length,M=s?V=>s(Mn(V[r.index])):r.index,R=null;if(!s&&a&&(R=KF(n,e,i,r.index)),R!==null){let V=R.__ngLastListenerFn__||R;V.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=$D(r,e,o),GF(m,i,o);let V=t.listen(m,i,o);h.push(o,V),l&&l.push(i,M,C,C+1)}}else o=$D(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let C=0;C<m.length;C+=2){let M=m[C],R=m[C+1];zD(r,e,M,R,i,o)}if(y&&y.length)for(let C of y)zD(r,e,C,i,i,o)}}function Qr(n=1){return gk(n)}function dC(n){let e=ak();return Qx(e,An+n)}function $(n,e=""){let t=Ne(),r=$t(),i=n+An,o=r.firstCreatePass?Bm(r,i,1,e,null):r.data[i],s=QF(r,t,o,e,n);t[i]=s,mm()&&Vm(r,t,s,o),qa(o,!1)}var QF=(n,e,t,r,i)=>(ym(!0),EO(e[Ze],r));function bt(n){return fd("",n,""),bt}function fd(n,e,t){let r=Ne(),i=CF(r,n,e,t);return i!==Gr&&YF(r,Qo(),i),fd}function YF(n,e,t){let r=TT(e,n);wO(n[Ze],r,t)}function we(n,e,t){cb(e)&&(e=e());let r=Ne(),i=rd();if(Xo(r,i,e)){let o=$t(),s=gm();kb(o,s,r,n,e,r[Ze],t,!1)}return we}function Ce(n,e){let t=cb(n);return t&&n.set(e),t}function Ie(n,e){let t=Ne(),r=$t(),i=Ht();return lC(r,t,t[Ze],i,n,e),Ie}function JF(n,e,t){let r=$t();if(r.firstCreatePass){let i=Rn(n);Xg(t,r.data,r.blueprint,i,!0),Xg(e,r.data,r.blueprint,i,!1)}}function Xg(n,e,t,r,i){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Xg(n[o],e,t,r,i);else{let o=$t(),s=Ne(),a=Ht(),u=Vo(n)?n:Dt(n.provide),l=pT(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Vo(n)||!n.multi){let m=new Pi(l,i,X),C=_g(u,e,i?h:h+y,p);C===-1?(Pg(Vl(a,s),o,u),vg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=_g(u,e,h+y,p),C=_g(u,e,h,h+y),M=m>=0&&t[m],R=C>=0&&t[C];if(i&&!R||!i&&!M){Pg(Vl(a,s),o,u);let V=eL(i?XF:ZF,t.length,i,r,l);!i&&R&&(t[C].providerFactory=V),vg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=hC(t[i?C:m],l,!i&&r);vg(o,n,m>-1?m:C,V)}!i&&r&&R&&t[C].componentProviders++}}}function vg(n,e,t,r){let i=Vo(e),o=Lx(e);if(i||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function hC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _g(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ZF(n,e,t,r){return em(this.multi,[])}function XF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=jl(t,t[me],this.providerFactory.index,r);o=a.slice(0,s),em(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],em(i,o);return o}function em(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function eL(n,e,t,r,i){let o=new Pi(n,t,X);return o.multi=[],o.index=e,o.componentProviders=0,hC(o,i,r&&!t),o}function Qa(n,e=[]){return t=>{t.providersResolver=(r,i)=>JF(r,i?i(n):n,e)}}function fC(n,e,t){let r=OT()+n,i=Ne();return i[r]===Gr?oC(i,r,t?e.call(t):e()):gF(i,r)}function pd(n,e,t,r){return nL(Ne(),OT(),n,e,t,r)}function tL(n,e){let t=n[e];return t===Gr?void 0:t}function nL(n,e,t,r,i,o){let s=e+t;return Xo(n,s,i)?oC(n,s+1,o?r.call(o,i):r(i)):tL(n,s+1)}var Wo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},pC=new Wo("19.2.8"),tm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gC=(()=>{class n{compileModuleSync(t){return new Qg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lT(t),o=Tb(i.declarations).reduce((s,a)=>{let u=Lo(a);return u&&s.push(new Ua(u)),s},[]);return new tm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rL=(()=>{class n{zone=N(be);changeDetectionScheduler=N($o);applicationRef=N(xi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iL=new B("",{factory:()=>!1});function mC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ae(L({},vC()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:Oa,multi:!0,useFactory:()=>{let r=N(rL,{optional:!0});return()=>r.initialize()}},{provide:Oa,multi:!0,useFactory:()=>{let r=N(oL);return()=>{r.initialize()}}},e===!0?{provide:rb,useValue:!0}:[],{provide:ib,useValue:t??nb}]}function yC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=mC({ngZoneFactory:()=>{let i=vC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Cm("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return hn([{provide:iL,useValue:!0},{provide:Em,useValue:!1},r])}function vC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var oL=(()=>{class n{subscription=new Ve;initialized=!1;zone=N(be);pendingTasks=N(fr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sL=(()=>{class n{appRef=N(xi);taskService=N(fr);ngZone=N(be);zonelessEnabled=N(Em);tracing=N(sd,{optional:!0});disableScheduling=N(rb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(ib,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?wD:ob;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aL(){return typeof $localize<"u"&&$localize.locale||Kl}var zm=new B("",{providedIn:"root",factory:()=>N(zm,ce.Optional|ce.SkipSelf)||aL()});var nm=new B(""),cL=new B("");function Na(n){return!n.moduleRef}function uL(n){let e=Na(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Na(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(cr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Na(n)){let o=()=>e.destroy(),s=n.platformInjector.get(nm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(nm);s.add(o),n.moduleRef.onDestroy(()=>{Il(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return dL(r,t,()=>{let o=e.get(uC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(zm,Kl);if(qF(s||Kl),!e.get(cL,!0))return Na(n)?e.get(xi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Na(n)){let u=e.get(xi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return lL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function lL(n,e){let t=n.injector.get(xi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new j(-403,!1);e.push(n)}function dL(n,e,t){try{let r=t();return Li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Dl=null;function hL(n=[],e){return dt.create({name:e,providers:[{provide:Xl,useValue:"platform"},{provide:nm,useValue:new Set([()=>Dl=null])},...n]})}function fL(n=[]){if(Dl)return Dl;let e=hL(n);return Dl=e,IF(),pL(e),e}function pL(n){let e=n.get(Tm,null);ht(n,()=>{e?.forEach(t=>t())})}function qm(){return!1}var es=(()=>{class n{static __NG_ELEMENT_ID__=gL}return n})();function gL(n){return mL(Ht(),Ne(),(n&16)===16)}function mL(n,e,t){if(Ko(n)&&!t){let r=Nn(n.index,e);return new ja(r,r)}else if(n.type&175){let r=e[Sn];return new ja(r,e)}return null}var rm=class{constructor(){}supports(e){return iC(e)}create(e){return new im(e)}},yL=(n,e)=>e,im=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<qD(r,i,o)?t:r,a=qD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,C=m+y;h<=C&&C<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!iC(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,fF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new om(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ql),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ql),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},om=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},sm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ql=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new sm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function WD(){return new Wm([new rm])}var Wm=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:WD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||WD()),deps:[[n,new Sx,new Bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function _C(n){Me(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=fL(r),o=[mC({}),{provide:$o,useExisting:sL},...t||[]],s=new Wl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Me(9)}}function ji(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function kn(n){return $p(n)}function ts(n,e){return Vp(n,e?.equal)}var GD=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};var tt=new B("");var IC=null;function tn(){return IC}function Gm(n){IC??=n}var Ya=class{},Km=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(DC),providedIn:"platform"})}return n})();var DC=(()=>{class n extends Km{_location;_history;_doc=N(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function TC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function EC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Yr(n){return n&&n[0]!=="?"?`?${n}`:n}var ns=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(CC),providedIn:"root"})}return n})(),bC=new B(""),CC=(()=>{class n extends ns{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return TC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Yr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(Km),J(bC,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rs=(()=>{class n{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=EL(EC(wC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yr(r))}normalize(t){return n.stripTrailingSlash(_L(this._basePath,wC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yr;static joinWithSlash=TC;static stripTrailingSlash=EC;static \u0275fac=function(r){return new(r||n)(J(ns))};static \u0275prov=H({token:n,factory:()=>vL(),providedIn:"root"})}return n})();function vL(){return new rs(J(ns))}function _L(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function wC(n){return n.replace(/\/index.html$/,"")}function EL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var gd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},is=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),SC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);SC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(Zo),X(ud),X(Wm))};static \u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function SC(n,e){n.context.$implicit=e.item}var Ja=(()=>{class n{_viewContainer;_context=new md;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(X(Zo),X(ud))};static \u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),md=class{$implicit=null;ngIf=null};function AC(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}var Ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=lr({})}return n})();function Za(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Qm="browser",RC="server";function yd(n){return n===RC}var Ui=class{};var Ed=new B(""),Xm=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(Ed),J(be))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),ec=class{_doc;constructor(e){this._doc=e}manager},vd="ng-app-id";function MC(n){for(let e of n)e.remove()}function NC(n,e){let t=e.createElement("style");return t.textContent=n,t}function wL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${vd}="${e}"],link[${vd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(vd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Jm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ey=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=yd(o),wL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,NC);r?.forEach(i=>this.addUsage(i,this.external,Jm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(MC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])MC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,NC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Jm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(vd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(tt),J(Dm),J(bm,8),J(pr))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ty=/%COMP%/g;var xC="%COMP%",IL=`_nghost-${xC}`,DL=`_ngcontent-${xC}`,TL=!0,bL=new B("",{providedIn:"root",factory:()=>TL});function CL(n){return DL.replace(ty,n)}function SL(n){return IL.replace(ty,n)}function kC(n,e){return e.map(t=>t.replace(ty,n))}var ny=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=yd(a),this.defaultRenderer=new tc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pn.ShadowDom&&(r=ae(L({},r),{encapsulation:Pn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof _d?i.applyToHost(t):i instanceof nc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case Pn.Emulated:o=new _d(u,l,r,this.appId,h,s,a,p,y);break;case Pn.ShadowDom:return new Zm(u,l,t,r,s,a,this.nonce,p,y);default:o=new nc(u,l,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(Xm),J(ey),J(Dm),J(bL),J(tt),J(pr),J(be),J(bm),J(sd,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ym[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(PC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(PC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ym[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ym[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(t,r,i&ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function PC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Zm=class extends tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=kC(i.id,h);for(let y of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=Jm(y,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nc=class extends tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?kC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_d=class extends nc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=CL(h),this.hostAttr=SL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var wd=class n extends Ya{supportsDOMEvents=!0;static makeCurrent(){Gm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=AL();return t==null?null:RL(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Za(document.cookie,e)}},rc=null;function AL(){return rc=rc||document.querySelector("base"),rc?rc.getAttribute("href"):null}function RL(n){return new URL(n,document.baseURI).pathname}var ML=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),FC=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),OC=["alt","control","meta","shift"],NL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LC=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),OC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=NL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OC.forEach(s=>{if(s!==i){let a=PL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function ry(n,e){return _C(L({rootComponent:n},xL(e)))}function xL(n){return{appProviders:[...VL,...n?.providers??[]],platformProviders:LL}}function kL(){wd.makeCurrent()}function OL(){return new cr}function FL(){return gb(document),document}var LL=[{provide:pr,useValue:Qm},{provide:Tm,useValue:kL,multi:!0},{provide:tt,useFactory:FL}];var VL=[{provide:Xl,useValue:"root"},{provide:cr,useFactory:OL},{provide:Ed,useClass:FC,multi:!0,deps:[tt]},{provide:Ed,useClass:LC,multi:!0,deps:[tt]},ny,ey,Xm,{provide:Ho,useExisting:ny},{provide:Ui,useClass:ML},[]];var ss=class{},oc=class{},Bi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Dd=class{encodeKey(e){return VC(e)}encodeValue(e){return VC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function jL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var UL=/%(\d[a-f0-9])/gi,BL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VC(n){return encodeURIComponent(n).replace(UL,(e,t)=>BL[t]??e)}function Id(n){return`${n}`}var Jr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Dd,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=jL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Id):[Id(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Id(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Id(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Td=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $L(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function UC(n){return typeof Blob<"u"&&n instanceof Blob}function BC(n){return typeof FormData<"u"&&n instanceof FormData}function HL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var $C="Content-Type",HC="Accept",zC="X-Request-URL",qC="text/plain",WC="application/json",zL=`${WC}, ${qC}, */*`,ic=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if($L(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Bi,this.context??=new Td,!this.params)this.params=new Jr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jC(this.body)||UC(this.body)||BC(this.body)||HL(this.body)?this.body:this.body instanceof Jr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||BC(this.body)?null:UC(this.body)?this.body.type||null:jC(this.body)?null:typeof this.body=="string"?qC:this.body instanceof Jr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?WC:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},os=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(os||{}),as=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Bi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bd=class n extends as{constructor(e={}){super(e)}type=os.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cd=class n extends as{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=os.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sd=class extends as{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qL=200,WL=204;function iy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var GL=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ic)o=t;else{let u;i.headers instanceof Bi?u=i.headers:u=new Bi(i.headers);let l;i.params&&(i.params instanceof Jr?l=i.params:l=new Jr({fromObject:i.params})),o=new ic(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=K(o).pipe(Br(u=>this.handler.handle(u)));if(t instanceof ic||i.observe==="events")return s;let a=s.pipe(Nt(u=>u instanceof Cd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new j(2806,!1);return u.body}));case"blob":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new j(2807,!1);return u.body}));case"text":return a.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new j(2808,!1);return u.body}));case"json":default:return a.pipe(Z(u=>u.body))}case"response":return a;default:throw new j(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Jr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iy(i,r))}post(t,r,i={}){return this.request("POST",t,iy(i,r))}put(t,r,i={}){return this.request("PUT",t,iy(i,r))}static \u0275fac=function(r){return new(r||n)(J(ss))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var KL=new B("");function QL(n,e){return e(n)}function YL(n,e,t){return(r,i)=>ht(t,()=>e(r,o=>n(o,i)))}var GC=new B(""),JL=new B(""),KC=new B("",{providedIn:"root",factory:()=>!0});var Ad=(()=>{class n extends ss{backend;injector;chain=null;pendingTasks=N(fr);contributeToStability=N(KC);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(GC),...this.injector.get(JL,[])]));this.chain=r.reduceRight((i,o)=>YL(i,o,this.injector),QL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(bi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(J(oc),J(lt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var ZL=/^\)\]\}',?\n/,XL=RegExp(`^${zC}:`,"m");function eV(n){return"responseURL"in n&&n.responseURL?n.responseURL:XL.test(n.getAllResponseHeaders())?n.getResponseHeader(zC):null}var oy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):K(null)).pipe(Ye(()=>new re(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has(HC)||s.setRequestHeader(HC,zL),!t.headers.has($C)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader($C,M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Bi(s.getAllResponseHeaders()),V=eV(s)||t.url;return u=new bd({headers:R,status:s.status,statusText:M,url:V}),u},h=()=>{let{headers:M,status:R,statusText:V,url:se}=l(),q=null;R!==WL&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?qL:0);let Te=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let st=q;q=q.replace(ZL,"");try{q=q!==""?JSON.parse(q):null}catch(_e){q=st,Te&&(Te=!1,q={error:_e,text:q})}}Te?(o.next(new Cd({body:q,headers:M,status:R,statusText:V,url:se||void 0})),o.complete()):o.error(new Sd({error:q,headers:M,status:R,statusText:V,url:se||void 0}))},p=M=>{let{url:R}=l(),V=new Sd({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},y=!1,m=M=>{y||(o.next(l()),y=!0);let R={type:os.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=M=>{let R={type:os.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:os.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(J(Ui))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),QC=new B(""),tV="XSRF-TOKEN",nV=new B("",{providedIn:"root",factory:()=>tV}),rV="X-XSRF-TOKEN",iV=new B("",{providedIn:"root",factory:()=>rV}),sc=class{},oV=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Za(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(J(tt),J(pr),J(nV))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function sV(n,e){let t=n.url.toLowerCase();if(!N(QC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(sc).getToken(),i=N(iV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function sy(...n){let e=[GL,oy,Ad,{provide:ss,useExisting:Ad},{provide:oc,useFactory:()=>N(KL,{optional:!0})??N(oy)},{provide:GC,useValue:sV,multi:!0},{provide:QC,useValue:!0},{provide:sc,useClass:oV}];for(let t of n)e.push(...t.\u0275providers);return hn(e)}var YC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",Ec=Symbol("RouteTitle"),dy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function zi(n){return new dy(n)}function i0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!On(n[t],e[t]))return!1;return!0}function On(n,e){let t=n?hy(n):void 0,r=e?hy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!o0(n[i],e[i]))return!1;return!0}function hy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function o0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function s0(n){return n.length>0?n[n.length-1]:null}function ei(n){return ng(n)?n:Li(n)?Se(Promise.resolve(n)):K(n)}var uV={exact:c0,subset:u0},a0={exact:lV,subset:dV,ignored:()=>!0};function JC(n,e,t){return uV[t.paths](n.root,e.root,t.matrixParams)&&a0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function lV(n,e){return On(n,e)}function c0(n,e,t){if(!$i(n.segments,e.segments)||!Nd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!c0(n.children[r],e.children[r],t))return!1;return!0}function dV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>o0(n[t],e[t]))}function u0(n,e,t){return l0(n,e,e.segments,t)}function l0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!$i(i,t)||e.hasChildren()||!Nd(i,t,r))}else if(n.segments.length===t.length){if(!$i(n.segments,t)||!Nd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!u0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!$i(n.segments,i)||!Nd(n.segments,i,r)||!n.children[oe]?!1:l0(n.children[oe],e,o,r)}}function Nd(n,e,t){return e.every((r,i)=>a0[t](n[i].parameters,r.parameters))}var Ln=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return pV.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pd(this)}},Zr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return h0(this)}};function hV(n,e){return $i(n,e)&&n.every((t,r)=>On(t.parameters,e[r].parameters))}function $i(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===oe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==oe&&(t=t.concat(e(i,r)))}),t}var wc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new qi,providedIn:"root"})}return n})(),qi=class{parse(e){let t=new py(e);return new Ln(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ac(e.root,!0)}`,r=yV(e.queryParams),i=typeof e.fragment=="string"?`#${gV(e.fragment)}`:"";return`${t}${r}${i}`}},pV=new qi;function Pd(n){return n.segments.map(e=>h0(e)).join("/")}function ac(n,e){if(!n.hasChildren())return Pd(n);if(e){let t=n.children[oe]?ac(n.children[oe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${ac(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fV(n,(r,i)=>i===oe?[ac(n.children[oe],!1)]:[`${i}:${ac(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Pd(n)}/${t[0]}`:`${Pd(n)}/(${t.join("//")})`}}function d0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(n){return d0(n).replace(/%3B/gi,";")}function gV(n){return encodeURI(n)}function fy(n){return d0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(n){return decodeURIComponent(n)}function ZC(n){return xd(n.replace(/\+/g,"%20"))}function h0(n){return`${fy(n.path)}${mV(n.parameters)}`}function mV(n){return Object.entries(n).map(([e,t])=>`;${fy(e)}=${fy(t)}`).join("")}function yV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Rd(t)}=${Rd(i)}`).join("&"):`${Rd(t)}=${Rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var vV=/^[^\/()?;#]+/;function ay(n){let e=n.match(vV);return e?e[0]:""}var _V=/^[^\/()?;=#]+/;function EV(n){let e=n.match(_V);return e?e[0]:""}var wV=/^[^=?&#]+/;function IV(n){let e=n.match(wV);return e?e[0]:""}var DV=/^[^&#]+/;function TV(n){let e=n.match(DV);return e?e[0]:""}var py=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[oe]=new Ee(e,t)),r}parseSegment(){let e=ay(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Zr(xd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=EV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ay(this.remaining);i&&(r=i,this.capture(r))}e[xd(t)]=xd(r)}parseQueryParam(e){let t=IV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=TV(this.remaining);s&&(r=s,this.capture(r))}let i=ZC(t),o=ZC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ay(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function f0(n){return n.segments.length>0?new Ee([],{[oe]:n}):n}function p0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=p0(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ee(n.segments,e);return bV(t)}function bV(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Ee(n.segments.concat(e.segments),e.children)}return n}function Xr(n){return n instanceof Ln}function g0(n,e,t=null,r=null){let i=m0(n);return y0(i,e,t,r)}function m0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ee(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=f0(r);return e??i}function y0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cy(i,i,i,t,r);let o=CV(e);if(o.toRoot())return cy(i,i,new Ee([],{}),t,r);let s=SV(o,i,n),a=s.processChildren?uc(s.segmentGroup,s.index,o.commands):_0(s.segmentGroup,s.index,o.commands);return cy(i,s.segmentGroup,a,t,r)}function Od(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function dc(n){return typeof n=="object"&&n!=null&&n.outlets}function cy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=v0(n,e,t);let a=f0(p0(s));return new Ln(a,o,i)}function v0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=v0(o,e,t)}),new Ee(n.segments,r)}var Fd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Od(r[0]))throw new j(4003,!1);let i=r.find(dc);if(i&&i!==s0(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Fd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Fd(t,e,r)}var ls=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function SV(n,e,t){if(n.isAbsolute)return new ls(e,!0,0);if(!t)return new ls(e,!1,NaN);if(t.parent===null)return new ls(t,!0,0);let r=Od(n.commands[0])?0:1,i=t.segments.length-1+r;return AV(t,i,n.numberOfDoubleDots)}function AV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function RV(n){return dc(n[0])?n[0].outlets:{[oe]:n}}function _0(n,e,t){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return uc(n,e,t);let r=MV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ee(n.segments.slice(0,r.pathIndex),{});return o.children[oe]=new Ee(n.segments.slice(r.pathIndex),n.children),uc(o,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?gy(n,e,t):r.match?uc(n,0,i):gy(n,e,t)}function uc(n,e,t){if(t.length===0)return new Ee(n.segments,{});{let r=RV(t),i={};if(Object.keys(r).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=uc(n.children[oe],e,t);return new Ee(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(n.segments,i)}}function MV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(dc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!e0(u,l,s))return o;r+=2}else{if(!e0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(dc(o)){let u=NV(o.outlets);return new Ee(r,u)}if(i===0&&Od(t[0])){let u=n.segments[e];r.push(new Zr(u.path,XC(t[0]))),i++;continue}let s=dc(o)?o.outlets[oe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Od(a)?(r.push(new Zr(s,XC(a))),i+=2):(r.push(new Zr(s,{})),i++)}return new Ee(r,{})}function NV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=gy(new Ee([],{}),0,r))}),e}function XC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function e0(n,e,t){return n==t.path&&On(e,t.parameters)}var kd="imperative",nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nt||{}),qt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wi=class extends qt{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vn=class extends qt{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ft||{}),hc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hc||{}),Fn=class extends qt{reason;code;type=nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends qt{reason;code;type=nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},hs=class extends qt{error;target;type=nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fc=class extends qt{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class extends qt{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends qt{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jd=class extends qt{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ud=class extends qt{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$d=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hd=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pc=class{},fs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function PV(n,e){return n.providers&&!n._injector&&(n._injector=dd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yn(n){return n.outlet||oe}function xV(n,e){let t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}function Ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ic(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ms(this.rootInjector)}},ms=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(lt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=my(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=my(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=yy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yy(e,this._root).map(t=>t.value)}};function my(n,e){if(n===e.value)return e;for(let t of e.children){let r=my(n,t);if(r)return r}return null}function yy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=yy(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function us(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var gc=class extends Kd{snapshot;constructor(e,t){super(e),this.snapshot=t,by(this,e)}toString(){return this.snapshot.toString()}};function E0(n){let e=kV(n),t=new ct([new Zr("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new vn(t,r,o,s,i,oe,n,e.root);return a.snapshot=e.root,new gc(new zt(a,[]),e)}function kV(n){let e={},t={},r={},i="",o=new Hi([],e,r,i,t,oe,n,null,{});return new mc("",new zt(o,[]))}var vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Ec]))??K(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&I0(i)&&(r.resolve[Ec]=i.title),r}var Hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ec]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},mc=class extends Kd{url;constructor(e,t){super(t),this.url=e,by(this,t)}toString(){return w0(this._root)}};function by(n,e){e.value._routerState=n,e.children.forEach(t=>by(n,t))}function w0(n){let e=n.children.length>0?` { ${n.children.map(w0).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,On(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),On(e.params,t.params)||n.paramsSubject.next(t.params),cV(e.url,t.url)||n.urlSubject.next(t.url),On(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vy(n,e){let t=On(n.params,e.params)&&hV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||vy(n.parent,e.parent))}function I0(n){return typeof n.title=="string"||n.title===null}var D0=new B(""),Dc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=ab(void 0);parentContexts=N(ms);location=N(Zo);changeDetector=N(es);inputBinder=N(Xd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new _y(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qr]})}return n})(),_y=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===vn?this.route:e===ms?this.childContexts:e===D0?this.outletData:this.parent.get(e,t)}},Xd=new B("");function OV(n,e,t){let r=yc(n,e._root,t?t._root:void 0);return new gc(r,e)}function yc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=FV(n,e,t);return new zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yc(n,a)),s}}let r=LV(e.value),i=e.children.map(o=>yc(n,o));return new zt(r,i)}}function FV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yc(n,r,i);return yc(n,r)})}function LV(n){return new vn(new ct(n.url),new ct(n.params),new ct(n.queryParams),new ct(n.fragment),new ct(n.data),n.outlet,n.component,n)}var ps=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},T0="ngNavigationCancelingError";function Yd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Xr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=b0(!1,Ft.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function b0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[T0]=!0,t.cancellationCode=e,t}function VV(n){return C0(n)&&Xr(n.url)}function C0(n){return!!n&&n[T0]}var jV=(n,e,t,r)=>Z(i=>(new Ey(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ey=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=us(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=us(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new zd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(uy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{component;route;constructor(e,t){this.component=e,this.route=t}};function UV(n,e,t){let r=n._root,i=e?e._root:null;return cc(r,i,t,[r.value])}function BV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ys(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!XD(n)?n:e.get(n):r}function cc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return n.children.forEach(s=>{$V(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lc(a,t.getContext(s),i)),i}function $V(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?cc(n,e,a?a.children:null,r,i):cc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,s))}else s&&lc(e,a,i),i.canActivateChecks.push(new Jd(r)),o.component?cc(n,null,a?a.children:null,r,i):cc(n,null,t,r,i);return i}function HV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!$i(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,e.url)||!On(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vy(n,e)||!On(n.queryParams,e.queryParams);case"paramsChange":default:return!vy(n,e)}}function lc(n,e,t){let r=us(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?lc(s,e.children.getContext(o),t):lc(s,null,t):lc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ds(e.outlet.component,i)):t.canDeactivateChecks.push(new ds(null,i)):t.canDeactivateChecks.push(new ds(null,i))}function Tc(n){return typeof n=="function"}function zV(n){return typeof n=="boolean"}function qV(n){return n&&Tc(n.canLoad)}function WV(n){return n&&Tc(n.canActivate)}function GV(n){return n&&Tc(n.canActivateChild)}function KV(n){return n&&Tc(n.canDeactivate)}function QV(n){return n&&Tc(n.canMatch)}function S0(n){return n instanceof or||n?.name==="EmptyError"}var Md=Symbol("INITIAL_VALUE");function gs(){return Ye(n=>dl(n.map(e=>e.pipe(Pt(1),gl(Md)))).pipe(Z(e=>{for(let t of e)if(t!==!0){if(t===Md)return Md;if(t===!1||YV(t))return t}return!0}),Nt(e=>e!==Md),Pt(1)))}function YV(n){return Xr(n)||n instanceof ps}function JV(n,e){return Qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(ae(L({},t),{guardsResult:!0})):ZV(s,r,i,n).pipe(Qe(a=>a&&zV(a)?XV(r,o,n,e):K(a)),Z(a=>ae(L({},t),{guardsResult:a})))})}function ZV(n,e,t,r){return Se(n).pipe(Qe(i=>i2(i.component,i.route,t,e,r)),sr(i=>i!==!0,!0))}function XV(n,e,t,r){return Se(e).pipe(Br(i=>Mo(t2(i.route.parent,r),e2(i.route,r),r2(n,i.path,t),n2(n,i.route,t))),sr(i=>i!==!0,!0))}function e2(n,e){return n!==null&&e&&e(new qd(n)),K(!0)}function t2(n,e){return n!==null&&e&&e(new Hd(n)),K(!0)}function n2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>hl(()=>{let s=Ic(e)??t,a=ys(o,s),u=WV(a)?a.canActivate(e,n):ht(s,()=>a(e,n));return ei(u).pipe(sr())}));return K(i).pipe(gs())}function r2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BV(s)).filter(s=>s!==null).map(s=>hl(()=>{let a=s.guards.map(u=>{let l=Ic(s.node)??t,h=ys(u,l),p=GV(h)?h.canActivateChild(r,n):ht(l,()=>h(r,n));return ei(p).pipe(sr())});return K(a).pipe(gs())}));return K(o).pipe(gs())}function i2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=Ic(e)??i,l=ys(a,u),h=KV(l)?l.canDeactivate(n,e,t,r):ht(u,()=>l(n,e,t,r));return ei(h).pipe(sr())});return K(s).pipe(gs())}function o2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=ys(s,n),u=qV(a)?a.canLoad(e,t):ht(n,()=>a(e,t));return ei(u)});return K(o).pipe(gs(),A0(r))}function A0(n){return Wu(ut(e=>{if(typeof e!="boolean")throw Yd(n,e)}),Z(e=>e===!0))}function s2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=ys(s,n),u=QV(a)?a.canMatch(e,t):ht(n,()=>a(e,t));return ei(u)});return K(o).pipe(gs(),A0(r))}var vc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},_c=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function cs(n){return Ro(new vc(n))}function a2(n){return Ro(new j(4e3,!1))}function c2(n){return Ro(b0(!1,Ft.GuardRejected))}var wy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[oe])return a2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:C,title:M}=i,R=ht(o,()=>a({params:m,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:M}));if(R instanceof Ln)throw new _c(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new _c(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ln(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u2(n,e,t,r,i){let o=R0(n,e,t);return o.matched?(r=PV(e,r),s2(r,e,t,i).pipe(Z(s=>s===!0?o:L({},Iy)))):K(o)}function R0(n,e,t){if(e.path==="**")return l2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Iy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||i0)(t,n,e);if(!i)return L({},Iy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l2(n){return{matched:!0,parameters:n.length>0?s0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function t0(n,e,t,r){return t.length>0&&f2(n,t,r)?{segmentGroup:new Ee(e,h2(r,new Ee(t,n.children))),slicedSegments:[]}:t.length===0&&p2(n,t,r)?{segmentGroup:new Ee(n.segments,d2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:t}}function d2(n,e,t,r){let i={};for(let o of t)if(eh(n,e,o)&&!r[yn(o)]){let s=new Ee([],{});i[yn(o)]=s}return L(L({},r),i)}function h2(n,e){let t={};t[oe]=e;for(let r of n)if(r.path===""&&yn(r)!==oe){let i=new Ee([],{});t[yn(r)]=i}return t}function f2(n,e,t){return t.some(r=>eh(n,e,r)&&yn(r)!==oe)}function p2(n,e,t){return t.some(r=>eh(n,e,r))}function eh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function g2(n,e,t){return e.length===0&&!n.children[t]}var Dy=class{};function m2(n,e,t,r,i,o,s="emptyOnly"){return new Ty(n,e,t,r,i,s,o).recognize()}var y2=31,Ty=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wy(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=t0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:r})=>{let i=new zt(r,t),o=new mc("",i),s=g0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Hi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(Z(r=>({children:r,rootSnapshot:t})),Ur(r=>{if(r instanceof _c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof zt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Br(s=>{let a=r.children[s],u=xV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),pl((s,a)=>(s.push(...a),s)),$r(null),ig(),Qe(s=>{if(s===null)return cs(r);let a=M0(s);return v2(a),K(a)}))}processSegment(e,t,r,i,o,s,a){return Se(t).pipe(Br(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Ur(l=>{if(l instanceof vc)return K(null);throw l}))),sr(u=>!!u),Ur(u=>{if(S0(u))return g2(r,i,o)?K(new Dy):cs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return yn(r)!==s&&(s===oe||!eh(i,o,r))?cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=R0(t,i,o);if(!u)return cs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>y2&&(this.allowRedirects=!1));let m=new Hi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,n0(i),yn(i),i.component??i._loadedComponent??null,i,r0(i)),C=Qd(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Qe(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=u2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ye(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ye(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,C=new Hi(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,n0(r),yn(r),r.component??r._loadedComponent??null,r,r0(r)),M=Qd(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=t0(t,y,m,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(Z(q=>new zt(C,q)));if(l.length===0&&V.length===0)return K(new zt(C,[]));let se=yn(r)===o;return this.processSegment(h,l,R,V,se?oe:o,!0,C).pipe(Z(q=>new zt(C,q instanceof zt?[q]:[])))}))):cs(t)))}getChildConfig(e,t,r){return t.children?K({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?K({routes:t._loadedRoutes,injector:t._loadedInjector}):o2(e,t,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(e,t).pipe(ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):c2(t))):K({routes:[],injector:e})}};function v2(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function _2(n){let e=n.value.routeConfig;return e&&e.path===""}function M0(n){let e=[],t=new Set;for(let r of n){if(!_2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=M0(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!t.has(r))}function n0(n){return n.data||{}}function r0(n){return n.resolve||{}}function E2(n,e,t,r,i,o){return Qe(s=>m2(n,e,t,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:u})=>ae(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function w2(n,e){return Qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of N0(u))s.add(l);let a=0;return Se(s).pipe(Br(u=>o.has(u)?I2(u,r,n,e):(u.data=Qd(u,u.parent,n).resolve,K(void 0))),ut(()=>a++),No(1),Qe(u=>a===s.size?K(t):Rt))})}function N0(n){let e=n.children.map(t=>N0(t)).flat();return[n,...e]}function I2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!I0(i)&&(o[Ec]=i.title),D2(o,n,e,r).pipe(Z(s=>(n._resolvedData=s,n.data=Qd(n,n.parent,t).resolve,null)))}function D2(n,e,t,r){let i=hy(n);if(i.length===0)return K({});let o={};return Se(i).pipe(Qe(s=>T2(n[s],e,t,r).pipe(sr(),ut(a=>{if(a instanceof ps)throw Yd(new qi,a);o[s]=a}))),No(1),Z(()=>o),Ur(s=>S0(s)?Rt:Ro(s)))}function T2(n,e,t,r){let i=Ic(e)??r,o=ys(n,i),s=o.resolve?o.resolve(e,t):ht(i,()=>o(e,t));return ei(s)}function ly(n){return Ye(e=>{let t=n(e);return t?Se(t).pipe(Z(()=>e)):K(e)})}var Cy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[Ec]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(P0),providedIn:"root"})}return n})(),P0=(()=>{class n extends Cy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(YC))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bc=new B("",{providedIn:"root",factory:()=>({})}),Sy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=je({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Vi(0,"router-outlet")},dependencies:[Dc],encapsulation:2})}return n})();function Ay(n){let e=n.children&&n.children.map(Ay),t=e?ae(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=Sy),t}var Cc=new B(""),x0=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(gC);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ei(t.loadComponent()).pipe(Z(O0),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bi(()=>{this.componentLoaders.delete(t)})),i=new bo(r,()=>new ze).pipe(To());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=k0(r,this.compiler,t,this.onLoadEndListener).pipe(bi(()=>{this.childrenLoaders.delete(r)})),s=new bo(o,()=>new ze).pipe(To());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k0(n,e,t,r){return ei(n.loadChildren()).pipe(Z(O0),Qe(i=>i instanceof $m||Array.isArray(i)?K(i):Se(e.compileModuleAsync(i))),Z(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Cc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ay),injector:o}}))}function b2(n){return n&&typeof n=="object"&&"default"in n}function O0(n){return b2(n)?n.default:n}var th=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(C2),providedIn:"root"})}return n})(),C2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F0=new B("");var L0=new B(""),V0=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=N(x0);environmentInjector=N(lt);destroyRef=N(Wa);urlSerializer=N(wc);rootContexts=N(ms);location=N(rs);inputBindingEnabled=N(Xd,{optional:!0})!==null;titleStrategy=N(Cy);options=N(bc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(th);createViewTransition=N(F0,{optional:!0});navigationErrorHandler=N(L0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Bd(i)),r=i=>this.events.next(new $d(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ct(null),this.transitions.pipe(Nt(r=>r!==null),Ye(r=>{let i=!1,o=!1;return K(r).pipe(Ye(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),Rt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ae(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new yr(s.id,this.urlSerializer.serialize(s.rawUrl),l,hc.IgnoredSameUrlNavigation)),s.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(Ye(l=>(this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Rt:Promise.resolve(l))),E2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ae(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new fc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:y,extras:m}=s,C=new Wi(l,this.urlSerializer.serialize(h),p,y);this.events.next(C);let M=E0(this.rootComponentType).snapshot;return this.currentTransition=r=ae(L({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:ae(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,K(r)}else{let l="";return this.events.next(new yr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,hc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}}),ut(s=>{let a=new Ld(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Z(s=>(this.currentTransition=r=ae(L({},s),{guards:UV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),JV(this.environmentInjector,s=>this.events.next(s)),ut(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Yd(this.urlSerializer,s.guardsResult);let a=new Vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ft.GuardRejected),!1)),ly(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(ut(a=>{let u=new jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ye(a=>{let u=!1;return K(a).pipe(w2(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Ft.NoDataFromResolver)}}))}),ut(a=>{let u=new Ud(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),ly(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ut(h=>{u.component=h}),Z(()=>{})));for(let h of u.children)l.push(...a(h));return l};return dl(a(s.targetSnapshot.root)).pipe($r(null),Pt(1))}),ly(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Se(u).pipe(Z(()=>r)):K(r)}),Z(s=>{let a=OV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ae(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ut(()=>{this.events.next(new pc)}),jV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Pt(1),ut({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),og(this.transitionAbortSubject.pipe(ut(s=>{throw s}))),bi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ur(s=>{if(this.destroyed)return r.resolve(!1),Rt;if(o=!0,C0(s))this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),VV(s)?this.events.next(new fs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new hs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ps){let{message:l,cancellationCode:h}=Yd(this.urlSerializer,u);this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new fs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new Fn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S2(n){return n!==kd}var j0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(A2),providedIn:"root"})}return n})(),Zd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},A2=(()=>{class n extends Zd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yo(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U0=(()=>{class n{urlSerializer=N(wc);options=N(bc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(rs);urlHandlingStrategy=N(th);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ln;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ln?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=E0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>N(R2),providedIn:"root"})}return n})(),R2=(()=>{class n extends U0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wi?this.updateStateMemento():t instanceof yr?this.commitTransition(r):t instanceof fc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof pc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Fn&&(t.code===Ft.GuardRejected||t.code===Ft.NoDataFromResolver)?this.restoreHistory(r):t instanceof hs?this.restoreHistory(r,!0):t instanceof Vn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yo(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ry(n,e){n.events.pipe(Nt(t=>t instanceof Vn||t instanceof Fn||t instanceof hs||t instanceof yr),Z(t=>t instanceof Vn||t instanceof yr?0:(t instanceof Fn?t.code===Ft.Redirect||t.code===Ft.SupersededByNewNavigation:!1)?2:1),Nt(t=>t!==2),Pt(1)).subscribe(()=>{e()})}var M2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_n=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(sC);stateManager=N(U0);options=N(bc,{optional:!0})||{};pendingTasks=N(fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(V0);urlSerializer=N(wc);location=N(rs);urlHandlingStrategy=N(th);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(j0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Cc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Xd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ve;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fn&&r.code!==Ft.Redirect&&r.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vn)this.navigated=!0;else if(r instanceof fs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||S2(i.source)},s);this.scheduleNavigation(a,kd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ay),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=m0(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return y0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Xr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kd,null,r)}navigate(t,r={skipLocationChange:!1}){return P2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},M2):r===!1?i=L({},N2):i=r,Xr(t))return JC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return JC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let h=this.pendingTasks.add();return Ry(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}function x2(n){return!(n instanceof pc)&&!(n instanceof fs)}var ti=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ze;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Ib(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(X(_n),X(vn),_m("tabindex"),X(Jo),X(Fi),X(ns))};static \u0275dir=et({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ka("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ji],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ji],replaceUrl:[2,"replaceUrl","replaceUrl",ji],routerLink:"routerLink"},features:[qr]})}return n})();var O2=new B("");function My(n,...e){return hn([{provide:Cc,multi:!0,useValue:n},[],{provide:vn,useFactory:F2,deps:[_n]},{provide:Hm,multi:!0,useFactory:L2},e.map(t=>t.\u0275providers)])}function F2(n){return n.routerState.root}function L2(){let n=N(dt);return e=>{let t=n.get(xi);if(e!==t.components[0])return;let r=n.get(_n),i=n.get(V2);n.get(j2)===1&&r.initialNavigation(),n.get(U2,null,ce.Optional)?.setUpPreloading(),n.get(O2,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var V2=new B("",{factory:()=>new ze}),j2=new B("",{providedIn:"root",factory:()=>1});var U2=new B("");var Y0=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(X(Jo),X(Fi))};static \u0275dir=et({type:n})}return n})(),B2=(()=>{class n extends Y0{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yo(n)))(i||n)}})();static \u0275dir=et({type:n,features:[mr]})}return n})(),J0=new B("");var $2={provide:J0,useExisting:Oi(()=>Lt),multi:!0};function H2(){let n=tn()?tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var z2=new B(""),Lt=(()=>{class n extends Y0{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!H2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(X(Jo),X(Fi),X(z2,8))};static \u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Qa([$2]),mr]})}return n})();function q2(n){return n==null||W2(n)===0}function W2(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ky=new B(""),Z0=new B("");function G2(n){return q2(n.value)?{required:!0}:null}function $0(n){return null}function X0(n){return n!=null}function eS(n){return Li(n)?Se(n):n}function tS(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function nS(n,e){return e.map(t=>t(n))}function K2(n){return!n.validate}function rS(n){return n.map(e=>K2(e)?e:t=>e.validate(t))}function Q2(n){if(!n)return null;let e=n.filter(X0);return e.length==0?null:function(t){return tS(nS(t,e))}}function Oy(n){return n!=null?Q2(rS(n)):null}function Y2(n){if(!n)return null;let e=n.filter(X0);return e.length==0?null:function(t){let r=nS(t,e).map(eS);return rg(r).pipe(Z(tS))}}function Fy(n){return n!=null?Y2(rS(n)):null}function H0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function J2(n){return n._rawValidators}function Z2(n){return n._rawAsyncValidators}function Ny(n){return n?Array.isArray(n)?n:[n]:[]}function rh(n,e){return Array.isArray(n)?n.includes(e):n===e}function z0(n,e){let t=Ny(e);return Ny(n).forEach(i=>{rh(t,i)||t.push(i)}),t}function q0(n,e){return Ny(e).filter(t=>!rh(n,t))}var ih=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Oy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Es=class extends ih{name;get formDirective(){return null}get path(){return null}},Pc=class extends ih{_parent=null;name=null;valueAccessor=null},oh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},X2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pY=ae(L({},X2),{"[class.ng-submitted]":"isSubmitted"}),nn=(()=>{class n extends oh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(Pc,2))};static \u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&hd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mr]})}return n})(),ws=(()=>{class n extends oh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(X(Es,10))};static \u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&hd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mr]})}return n})();var Sc="VALID",nh="INVALID",vs="PENDING",Ac="DISABLED",ni=class{},sh=class extends ni{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Mc=class extends ni{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Nc=class extends ni{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},_s=class extends ni{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Py=class extends ni{source;constructor(e){super(),this.source=e}},xy=class extends ni{source;constructor(e){super(),this.source=e}};function iS(n){return(uh(n)?n.validators:n)||null}function ej(n){return Array.isArray(n)?Oy(n):n||null}function oS(n,e){return(uh(e)?e.asyncValidators:n)||null}function tj(n){return Array.isArray(n)?Fy(n):n||null}function uh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nj(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[t])throw new j(1001,"")}function rj(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new j(1002,"")})}var ah=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}_status=ts(()=>this.statusReactive());statusReactive=Wr(void 0);get valid(){return this.status===Sc}get invalid(){return this.status===nh}get pending(){return this.status==vs}get disabled(){return this.status===Ac}get enabled(){return this.status!==Ac}errors;get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}_pristine=ts(()=>this.pristineReactive());pristineReactive=Wr(!0);get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}_touched=ts(()=>this.touchedReactive());touchedReactive=Wr(!1);get untouched(){return!this.touched}_events=new ze;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(z0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(z0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(q0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(q0(e,this._rawAsyncValidators))}hasValidator(e){return rh(this._rawValidators,e)}hasAsyncValidator(e){return rh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Mc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Mc(!0,r))}markAsPending(e={}){this.status=vs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _s(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ac,this.errors=null,this._forEachChild(i=>{i.disable(ae(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sh(this.value,r)),this._events.next(new _s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Sc,this._forEachChild(r=>{r.enable(ae(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sc||this.status===vs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sh(this.value,t)),this._events.next(new _s(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ac:Sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=vs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=eS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _s(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?Ac:this.errors?nh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vs)?vs:this._anyControlsHaveStatus(nh)?nh:Sc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Mc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ej(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tj(this._rawAsyncValidators)}},ch=class extends ah{constructor(e,t,r){super(iS(t),oS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rj(this,!0,e),Object.keys(e).forEach(r=>{nj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ly=new B("",{providedIn:"root",factory:()=>Vy}),Vy="always";function ij(n,e){return[...e.path,n]}function sS(n,e,t=Vy){aS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sj(n,e),cj(n,e),aj(n,e),oj(n,e)}function W0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function aS(n,e){let t=J2(n);e.validator!==null?n.setValidators(H0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Z2(n);e.asyncValidator!==null?n.setAsyncValidators(H0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();W0(e._rawValidators,i),W0(e._rawAsyncValidators,i)}function sj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cS(n,e)})}function aj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function uj(n,e){n==null,aS(n,e)}function lj(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dj(n){return Object.getPrototypeOf(n.constructor)===B2}function hj(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fj(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Lt?t=o:dj(o)?r=o:i=o}),i||r||t||null}var pj={provide:Es,useExisting:Oi(()=>Gi)},Rc=Promise.resolve(),Gi=(()=>{class n extends Es{callSetDisabledState;get submitted(){return kn(this.submittedReactive)}_submitted=ts(()=>this.submittedReactive());submittedReactive=Wr(!1);_directives=new Set;form;ngSubmit=new Je;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ch({},Oy(t),Fy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),sS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rc.then(()=>{let r=this._findContainer(t.path),i=new ch({});uj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),hj(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Py(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new xy(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(X(ky,10),X(Z0,10),X(Ly,8))};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qa([pj]),mr]})}return n})();function G0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function K0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var gj=class extends ah{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(iS(t),oS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(K0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){G0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){G0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){K0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mj={provide:Pc,useExisting:Oi(()=>Wt)},Q0=Promise.resolve(),Wt=(()=>{class n extends Pc{_changeDetectorRef;callSetDisabledState;control=new gj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Je;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fj(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lj(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Q0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ji(r);Q0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ij(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(X(Es,9),X(ky,10),X(Z0,10),X(J0,10),X(es,8),X(Ly,8))};static \u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qa([mj]),mr,qr]})}return n})();var Is=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var yj=(()=>{class n{_validator=$0;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,features:[qr]})}return n})();var vj={provide:ky,useExisting:Oi(()=>En),multi:!0};var En=(()=>{class n extends yj{required;inputName="required";normalizeInput=ji;createValidator=t=>G2;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Yo(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ka("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Qa([vj]),mr]})}return n})();var _j=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=lr({})}return n})();var rn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ly,useValue:t.callSetDisabledState??Vy}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=gr({type:n});static \u0275inj=lr({imports:[_j]})}return n})();var uS=()=>{};var dS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Ej=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(t[h],t[p],t[y],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ej(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Uy;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Uy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wj=function(n){let e=dS(n);return lh.encodeByteArray(e,!0)},xc=function(n){return wj(n).replace(/\./g,"")},dh=function(n){try{return lh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $y(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ij=()=>$y().__FIREBASE_DEFAULTS__,Dj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&dh(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return uS()||Ij()||Dj()||Tj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hy=n=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hS=n=>{let e=Hy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zy=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},qy=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};var Ki=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(s)),""].join(".")}function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function bj(){var n;let e=(n=hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){let n=rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _S(){return!bj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kc(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Cj="FirebaseError",Gt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Cj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wn.prototype.create)}},wn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Sj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gt(i,a,r)}};function Sj(n,e){return n.replace(Aj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Aj=/\{\$([^}]+)}/g;function wS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(lS(o)&&lS(s)){if(!jn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function lS(n){return n!==null&&typeof n=="object"}function Oc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ts(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IS(n,e){let t=new By(n,e);return t.subscribe.bind(t)}var By=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Rj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jy),i.error===void 0&&(i.error=jy),i.complete===void 0&&(i.complete=jy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Rj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jy(){}var _Y=4*60*60*1e3;function ke(n){return n&&n._delegate?n._delegate:n}var Ct=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Qi="[DEFAULT]";var Wy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ki;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nj(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mj(n){return n===Qi?void 0:n}function Nj(n){return n.instantiationMode==="EAGER"}var fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Wy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Pj=[],de=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(de||{}),xj={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},kj=de.INFO,Oj={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},Fj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Oj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Un=class{constructor(e){this.name=e,this._logLevel=kj,this._logHandler=Fj,this._userLogHandler=null,Pj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var Lj=(n,e)=>e.some(t=>n instanceof t),DS,TS;function Vj(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jj(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bS=new WeakMap,Ky=new WeakMap,CS=new WeakMap,Gy=new WeakMap,Yy=new WeakMap;function Uj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Bn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bS.set(t,n)}).catch(()=>{}),Yy.set(e,n),e}function Bj(n){if(Ky.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Ky.set(n,e)}var Qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ky.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SS(n){Qy=n(Qy)}function $j(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ph(this),e,...t);return CS.set(r,e.sort?e.sort():[e]),Bn(r)}:jj().includes(n)?function(...e){return n.apply(ph(this),e),Bn(bS.get(this))}:function(...e){return Bn(n.apply(ph(this),e))}}function Hj(n){return typeof n=="function"?$j(n):(n instanceof IDBTransaction&&Bj(n),Lj(n,Vj())?new Proxy(n,Qy):n)}function Bn(n){if(n instanceof IDBRequest)return Uj(n);if(Gy.has(n))return Gy.get(n);let e=Hj(n);return e!==n&&(Gy.set(n,e),Yy.set(e,n)),e}var ph=n=>Yy.get(n);function RS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Bn(s.result),u.oldVersion,u.newVersion,Bn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var zj=["get","getKey","getAll","getAllKeys","count"],qj=["put","add","delete","clear"],Jy=new Map;function AS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=qj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zj.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Jy.set(e,o),o}SS(n=>ae(L({},n),{get:(e,t,r)=>AS(e,t)||n.get(e,t,r),has:(e,t)=>!!AS(e,t)||n.has(e,t)}));var Xy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Wj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Wj(n){let e=n.getComponent();return e?.type==="VERSION"}var ev="@firebase/app",MS="0.11.5";var vr=new Un("@firebase/app"),Gj="@firebase/app-compat",Kj="@firebase/analytics-compat",Qj="@firebase/analytics",Yj="@firebase/app-check-compat",Jj="@firebase/app-check",Zj="@firebase/auth",Xj="@firebase/auth-compat",eU="@firebase/database",tU="@firebase/data-connect",nU="@firebase/database-compat",rU="@firebase/functions",iU="@firebase/functions-compat",oU="@firebase/installations",sU="@firebase/installations-compat",aU="@firebase/messaging",cU="@firebase/messaging-compat",uU="@firebase/performance",lU="@firebase/performance-compat",dU="@firebase/remote-config",hU="@firebase/remote-config-compat",fU="@firebase/storage",pU="@firebase/storage-compat",gU="@firebase/firestore",mU="@firebase/vertexai",yU="@firebase/firestore-compat",vU="firebase",_U="11.6.1";var tv="[DEFAULT]",EU={[ev]:"fire-core",[Gj]:"fire-core-compat",[Qj]:"fire-analytics",[Kj]:"fire-analytics-compat",[Jj]:"fire-app-check",[Yj]:"fire-app-check-compat",[Zj]:"fire-auth",[Xj]:"fire-auth-compat",[eU]:"fire-rtdb",[tU]:"fire-data-connect",[nU]:"fire-rtdb-compat",[rU]:"fire-fn",[iU]:"fire-fn-compat",[oU]:"fire-iid",[sU]:"fire-iid-compat",[aU]:"fire-fcm",[cU]:"fire-fcm-compat",[uU]:"fire-perf",[lU]:"fire-perf-compat",[dU]:"fire-rc",[hU]:"fire-rc-compat",[fU]:"fire-gcs",[pU]:"fire-gcs-compat",[gU]:"fire-fst",[yU]:"fire-fst-compat",[mU]:"fire-vertex","fire-js":"fire-js",[vU]:"fire-js-all"};var Fc=new Map,wU=new Map,nv=new Map;function NS(n,e){try{n.container.addComponent(e)}catch(t){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(nv.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;nv.set(e,n);for(let t of Fc.values())NS(t,n);for(let t of wU.values())NS(t,n);return!0}function Cs(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function St(n){return n==null?!1:n.settings!==void 0}var IU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new wn("app","Firebase",IU);var rv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};var ii=_U;function sv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:tv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(t||(t=zy()),!t)throw ri.create("no-options");let o=Fc.get(i);if(o){if(jn(t,o.options)&&jn(r,o.config))return o;throw ri.create("duplicate-app",{appName:i})}let s=new fh(i);for(let u of nv.values())s.addComponent(u);let a=new rv(t,r,s);return Fc.set(i,a),a}function Yi(n=tv){let e=Fc.get(n);if(!e&&n===tv&&zy())return sv();if(!e)throw ri.create("no-app",{appName:n});return e}function gh(){return Array.from(Fc.values())}function Be(n,e,t){var r;let i=(r=EU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}In(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DU="firebase-heartbeat-database",TU=1,Lc="firebase-heartbeat-store",Zy=null;function OS(){return Zy||(Zy=RS(DU,TU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ri.create("idb-open",{originalErrorMessage:n.message})})),Zy}function bU(n){return v(this,null,function*(){try{let t=(yield OS()).transaction(Lc),r=yield t.objectStore(Lc).get(FS(n));return yield t.done,r}catch(e){if(e instanceof Gt)vr.warn(e.message);else{let t=ri.create("idb-get",{originalErrorMessage:e?.message});vr.warn(t.message)}}})}function PS(n,e){return v(this,null,function*(){try{let r=(yield OS()).transaction(Lc,"readwrite");yield r.objectStore(Lc).put(e,FS(n)),yield r.done}catch(t){if(t instanceof Gt)vr.warn(t.message);else{let r=ri.create("idb-set",{originalErrorMessage:t?.message});vr.warn(r.message)}}})}function FS(n){return`${n.name}!${n.options.appId}`}var CU=1024,SU=30,iv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ov(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SU){let s=RU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xS(),{heartbeatsToSend:r,unsentEntries:i}=AU(this._heartbeatsCache.heartbeats),o=xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return vr.warn(t),""}})}};function xS(){return new Date().toISOString().substring(0,10)}function AU(n,e=CU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ov=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return kc()?ES().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kS(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function RU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function MU(n){In(new Ct("platform-logger",e=>new Xy(e),"PRIVATE")),In(new Ct("heartbeat",e=>new iv(e),"PRIVATE")),Be(ev,MS,n),Be(ev,MS,"esm2017"),Be("fire-js","")}MU("");var NU="firebase",PU="11.6.1";Be(NU,PU,"app");function av(n){n===void 0&&(mT(av),n=N(dt));let e=n.get(id);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var oi=new Wo("ANGULARFIRE2_VERSION");function Vc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var As=(n,e)=>{let t=e?[e]:gh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ss=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ss||{}),LS=qm()&&typeof Zone<"u"?Ss.WARN:Ss.SILENT;var mh=class{zone;delegate;constructor(e,t=eg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},si=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(be);this.outsideAngular=t.runOutsideAngular(()=>new mh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new mh(typeof Zone>"u"?void 0:Zone.current,Xp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VS=!1;function xU(n,e){!VS&&(LS>Ss.SILENT||qm())&&(VS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),LS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function kU(n){let e=N(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ji(n){let e=N(be,{optional:!0});return e?e.run(()=>n()):n()}var OU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ht(t,()=>Ji(()=>n.apply(void 0,r)))),Fe=(n,e,t)=>(t||=e?Ss.WARN:Ss.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(si),s=N(id),a=N(lt)}catch{return xU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ji(()=>s.add())),i[l]=OU(i[l],r,a));let u=kU(()=>n.apply(this,i));return e?u instanceof re?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular),av(a)):u instanceof Promise?Ji(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>ht(a,()=>Ji(()=>l(p))),p=>ht(a,()=>Ji(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ji(()=>u):u instanceof re?u.pipe(jr(o.outsideAngular),Vr(o.insideAngular)):Ji(()=>u)});var _r=class{constructor(e){return e}},Zi=class{constructor(){return gh()}};function FU(n){return n&&n.length===1?n[0]:new _r(Yi())}var cv=new B("angularfire2._apps"),LU={provide:_r,useFactory:FU,deps:[[new Bt,cv]]},VU={provide:Zi,deps:[[new Bt,cv]]};function jU(n){return(e,t)=>{let r=t.get(pr);Be("angularfire",oi.full,"core"),Be("angularfire",oi.full,"app"),Be("angular",pC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new _r(i)}}function jS(n,...e){return hn([LU,VU,{provide:cv,useFactory:jU(n),multi:!0,deps:[be,dt,si,...e]}])}var US=Fe(sv,!0);var UU=new Map,BU={activated:!1,tokenObservers:[]},$U={initialized:!1,enabled:!1};function Dn(n){return UU.get(n)||Object.assign({},BU)}function zS(){return $U}var HU="https://content-firebaseappcheck.googleapis.com/v1";var zU="exchangeDebugToken",BS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},TJ=24*60*60*1e3;var dv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ki,this.pending.promise.catch(t=>{}),yield qU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ki,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function qU(n){return new Promise(e=>{setTimeout(e,n)})}var WU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ai=new wn("appCheck","AppCheck",WU);function qS(n){if(!Dn(n).activated)throw ai.create("use-before-activation",{appName:n.name})}function WS(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(m){throw ai.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ai.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ai.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ai.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function GS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HU}/projects/${t}/apps/${r}:${zU}?key=${i}`,body:{debug_token:e}}}var GU="firebase-app-check-database",KU=1,hv="firebase-app-check-store";var yh=null;function QU(){return yh||(yh=new Promise((n,e)=>{try{let t=indexedDB.open(GU,KU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ai.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(hv,{keyPath:"compositeKey"})}}}catch(t){e(ai.create("storage-open",{originalErrorMessage:t?.message}))}}),yh)}function YU(n,e){return JU(ZU(n),e)}function JU(n,e){return v(this,null,function*(){let r=(yield QU()).transaction(hv,"readwrite"),o=r.objectStore(hv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ai.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function ZU(n){return`${n.options.appId}-${n.name}`}var jc=new Un("@firebase/app-check");function uv(n,e){return kc()?YU(n,e).catch(t=>{jc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function KS(){return zS().enabled}function QS(){return v(this,null,function*(){let n=zS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var XU={error:"UNKNOWN_ERROR"};function eB(n){return lh.encodeString(JSON.stringify(n),!1)}function fv(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;qS(r);let i=Dn(r),o=i.token,s;if(o&&!Uc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Uc(l)?o=l:yield uv(r,void 0))}if(!e&&o&&Uc(o))return{token:o.token};let a=!1;if(KS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WS(GS(r,yield QS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield uv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?jc.warn(l.message):t&&jc.error(l),lv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Dn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?jc.warn(l.message):t&&jc.error(l),s=l}let u;return o?s?Uc(o)?u={token:o.token,internalError:s}:u=lv(s):(u={token:o.token},i.token=o,yield uv(r,o)):u=lv(s),a&&iB(r,u),u})}function tB(n){return v(this,null,function*(){let e=n.app;qS(e);let{provider:t}=Dn(e);if(KS()){let r=yield QS(),{token:i}=yield WS(GS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function nB(n,e,t,r){let{app:i}=n,o=Dn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Uc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),$S(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$S(n))}function YS(n,e){let t=Dn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function $S(n){let{app:e}=n,t=Dn(e),r=t.tokenRefresher;r||(r=rB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rB(n){let{app:e}=n;return new dv(()=>v(this,null,function*(){let t=Dn(e),r;if(t.token?r=yield fv(n,!0):r=yield fv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Dn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},BS.RETRIAL_MIN_WAIT,BS.RETRIAL_MAX_WAIT)}function iB(n,e){let t=Dn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Uc(n){return n.expireTimeMillis-Date.now()>0}function lv(n){return{token:eB(XU),error:n}}var pv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Dn(this.app);for(let t of e)YS(this.app,t.next);return Promise.resolve()}};function oB(n,e){return new pv(n,e)}function sB(n){return{getToken:e=>fv(n,e),getLimitedUseToken:()=>tB(n),addTokenListener:e=>nB(n,"INTERNAL",e),removeTokenListener:e=>YS(n.app,e)}}var aB="@firebase/app-check",cB="0.8.13";var uB="app-check",HS="app-check-internal";function lB(){In(new Ct(uB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return oB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(HS).initialize()})),In(new Ct(HS,n=>{let e=n.getProvider("app-check").getImmediate();return sB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Be(aB,cB)}lB();var dB="app-check";var Rs=class{constructor(){return As(dB)}};var hB=["localhost","0.0.0.0","127.0.0.1"],LJ=typeof window<"u"&&hB.includes(window.location.hostname);function hA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fA=hA,pA=new wn("auth","Firebase",hA());var Dh=new Un("@firebase/auth");function fB(n,...e){Dh.logLevel<=de.WARN&&Dh.warn(`Auth (${ii}): ${n}`,...e)}function _h(n,...e){Dh.logLevel<=de.ERROR&&Dh.error(`Auth (${ii}): ${n}`,...e)}function zn(n,...e){throw Vv(n,...e)}function Xi(n,...e){return Vv(n,...e)}function gA(n,e,t){let r=Object.assign(Object.assign({},fA()),{[e]:t});return new wn("auth","Firebase",r).create(e,{appName:n.name})}function $n(n){return gA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pA.create(n,...e)}function G(n,e,...t){if(!n)throw Vv(e,...t)}function Er(n){let e="INTERNAL ASSERTION FAILED: "+n;throw _h(e),new Error(e)}function li(n,e){n||Er(e)}function vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pB(){return JS()==="http:"||JS()==="https:"}function JS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pB()||mS()||"connection"in navigator)?navigator.onLine:!0}function mB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var eo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=pS()||yS()}get(){return gB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jv(n,e){li(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Th=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_B=new eo(3e4,6e4);function Ir(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Tn(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return mA(n,i,()=>v(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Oc(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:y},l);return gS()||(m.referrerPolicy="no-referrer"),Th.fetch()(yield yA(n,n.config.apiHost,t,p),m)}))})}function mA(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yB),e);try{let i=new _v(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw vh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw vh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gA(n,h,l);zn(n,h)}}catch(i){if(i instanceof Gt)throw i;zn(n,"network-request-failed",{message:String(i)})}})}function Kc(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield Tn(n,e,t,r,i);return"mfaPendingCredential"in l&&zn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function yA(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?jv(n.config,i):`${n.config.apiScheme}://${i}`;return vB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function EB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _v=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),_B.get())})}};function vh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Xi(n,e,r);return i.customData._tokenResponse=t,i}function ZS(n){return n!==void 0&&n.enterprise!==void 0}var Ev=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function wB(n,e){return v(this,null,function*(){return Tn(n,"GET","/v2/recaptchaConfig",Ir(n,e))})}function IB(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:delete",e)})}function bh(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:lookup",e)})}function $c(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uv(n,e=!1){return v(this,null,function*(){let t=ke(n),r=yield t.getIdToken(e),i=Bv(r);G(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$c(gv(i.auth_time)),issuedAtTime:$c(gv(i.iat)),expirationTime:$c(gv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gv(n){return Number(n)*1e3}function Bv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{let i=dh(t);return i?JSON.parse(i):(_h("Failed to decode base64 JWT payload"),null)}catch(i){return _h("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XS(n){let e=Bv(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function to(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Gt&&DB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function DB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var wv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ch(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield to(n,bh(t,{idToken:r}));G(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vA(o.providerUserInfo):[],a=TB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function $v(n){return v(this,null,function*(){let e=ke(n);yield Ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function TB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vA(n){return n.map(e=>{var{providerId:t}=e,r=tg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bB(n,e){return v(this,null,function*(){let t=yield mA(n,{},()=>v(this,null,function*(){let r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield yA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Th.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function CB(n,e){return v(this,null,function*(){return Tn(n,"POST","/v2/accounts:revokeToken",Ir(n,e))})}var Hc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){G(e.length!==0,"internal-error");let t=XS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield bB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Er("not implemented")}};function ci(n,e){G(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ui=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield to(this,this.stsTokenManager.getToken(this.auth,e));return G(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Uv(this,e)}reload(){return $v(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ch(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(St(this.auth.app))return Promise.reject($n(this.auth));let e=yield this.getIdToken();return yield to(this,IB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,se=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Te,isAnonymous:st,providerData:_e,stsTokenManager:D}=t;G(q&&D,e,"internal-error");let _=Hc.fromJSON(this.name,D);G(typeof q=="string",e,"internal-error"),ci(p,e.name),ci(y,e.name),G(typeof Te=="boolean",e,"internal-error"),G(typeof st=="boolean",e,"internal-error"),ci(m,e.name),ci(C,e.name),ci(M,e.name),ci(R,e.name),ci(V,e.name),ci(se,e.name);let w=new n({uid:q,auth:e,email:y,emailVerified:Te,displayName:p,isAnonymous:st,photoURL:C,phoneNumber:m,tenantId:M,stsTokenManager:_,createdAt:V,lastLoginAt:se});return _e&&Array.isArray(_e)&&(w.providerData=_e.map(I=>Object.assign({},I))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Hc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ch(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var eA=new Map;function wr(n){li(n instanceof Function,"Expected a class definition");let e=eA.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eA.set(n,e),e)}var SB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Iv=SB;function Eh(n,e,t){return`firebase:${n}:${e}:${t}`}var Sh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bh(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(wr(Iv),e,r);let i=(yield Promise.all(t.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||wr(Iv),s=Eh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield bh(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield ui._fromGetAccountInfoResponse(e,y,h)}else p=ui._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function tA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TA(e))return"Blackberry";if(bA(e))return"Webos";if(EA(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(DA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _A(n=rt()){return/firefox\//i.test(n)}function EA(n=rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(n=rt()){return/crios\//i.test(n)}function IA(n=rt()){return/iemobile/i.test(n)}function DA(n=rt()){return/android/i.test(n)}function TA(n=rt()){return/blackberry/i.test(n)}function bA(n=rt()){return/webos/i.test(n)}function Hv(n=rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AB(n=rt()){var e;return Hv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RB(){return vS()&&document.documentMode===10}function CA(n=rt()){return Hv(n)||DA(n)||bA(n)||TA(n)||/windows phone/i.test(n)||IA(n)}function SA(n,e=[]){let t;switch(n){case"Browser":t=tA(rt());break;case"Worker":t=`${tA(rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ii}/${r}`}var Dv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MB(t){return v(this,arguments,function*(n,e={}){return Tn(n,"GET","/v2/passwordPolicy",Ir(n,e))})}var NB=6,Tv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:NB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ah(this),this.idTokenSubscription=new Ah(this),this.beforeStateQueue=new Dv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Sh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield bh(this,{idToken:e}),r=yield ui._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(St(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(St(this.app))return Promise.reject($n(this));let t=e?ke(e):null;return t&&G(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return St(this.app)?Promise.reject($n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return St(this.app)?Promise.reject($n(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield MB(this),t=new Tv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield CB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&wr(e)||this._popupRedirectResolver;G(t,this,"argument-error"),this.redirectPersistenceManager=yield Sh.create(this,[wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&fB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function di(n){return ke(n)}var Ah=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=IS(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fh={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PB(n){Fh=n}function AA(n){return Fh.loadJS(n)}function xB(){return Fh.recaptchaEnterpriseScript}function kB(){return Fh.gapiScript}function RA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Cv=class{constructor(){this.enterprise=new Sv}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Sv=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var OB="recaptcha-enterprise",MA="NO_RECAPTCHA",Av=class{constructor(e){this.type=OB,this.auth=di(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(this,null,function*(){wB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ev(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;ZS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(MA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cv().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&ZS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xB();u.length!==0&&(u+=a),AA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Bc(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new Av(n),s;if(i)s=MA;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Rh(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Bc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Bc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Bc(n,e,t);return r(n,a).catch(u=>v(this,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Bc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield Bc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function zv(n,e){let t=Cs(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(jn(o,e??{}))return i;zn(i,"already-initialized")}return t.initialize({options:e})}function FB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qv(n,e,t){let r=di(n);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=NA(e),{host:s,port:a}=LB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(jn(l,r.config.emulator)&&jn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i||VB()}function NA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LB(n){let e=NA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:nA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:nA(s)}}}function nA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function VB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var qc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}};function jB(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:update",e)})}function UB(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:signUp",e)})}function BB(n,e){return v(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithPassword",Ir(n,e))})}function $B(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:sendOobCode",Ir(n,e))})}function HB(n,e){return v(this,null,function*(){return $B(n,e)})}function zB(n,e){return v(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,e))})}function qB(n,e){return v(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",Ir(n,e))})}var Wc=class n extends qc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,t,"signInWithPassword",BB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return zB(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,r,"signUpPassword",UB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return qB(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function mv(n,e){return v(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithIdp",Ir(n,e))})}function WB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GB(n){let e=Ts(bs(n)).link,t=e?Ts(bs(e)).deep_link_id:null,r=Ts(bs(n)).deep_link_id;return(r?Ts(bs(r)).link:null)||r||t||e||n}var Mh=class n{constructor(e){var t,r,i,o,s,a;let u=Ts(bs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=WB((i=u.mode)!==null&&i!==void 0?i:null);G(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=GB(e);try{return new n(t)}catch{return null}}};var PA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Wc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Mh.parseLink(r);return G(i,"argument-error"),Wc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Nh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rv=class extends Nh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function KB(n,e){return v(this,null,function*(){return Kc(n,"POST","/v1/accounts:signUp",Ir(n,e))})}var Ms=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield ui._fromIdTokenResponse(e,r,i),s=rA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function rA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Mv=class n extends Gt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function xA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mv._fromErrorAndOperation(n,o,e,r):o})}function QB(n,e,t=!1){return v(this,null,function*(){let r=yield to(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ms._forOperation(n,"link",r)})}function YB(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(St(r.app))return Promise.reject($n(r));let i="reauthenticate";try{let o=yield to(n,xA(r,i,e,n),t);G(o.idToken,r,"internal-error");let s=Bv(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(n.uid===a,r,"user-mismatch"),Ms._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),o}})}function kA(n,e,t=!1){return v(this,null,function*(){if(St(n.app))return Promise.reject($n(n));let r="signIn",i=yield xA(n,r,e),o=yield Ms._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Wv(n,e){return v(this,null,function*(){return kA(di(n),e)})}function JB(n,e,t){var r;G(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),G(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),G(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(G(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(G(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function OA(n){return v(this,null,function*(){let e=di(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Gv(n,e,t){return v(this,null,function*(){let r=di(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&JB(r,i,t),yield Rh(r,i,"getOobCode",HB,"EMAIL_PASSWORD_PROVIDER")})}function Kv(n,e,t){return v(this,null,function*(){if(St(n.app))return Promise.reject($n(n));let r=di(n),s=yield Rh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&OA(n),u}),a=yield Ms._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Qv(n,e,t){return St(n.app)?Promise.reject($n(n)):Wv(ke(n),PA.credential(e,t)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&OA(n),r}))}function ZB(n,e){return v(this,null,function*(){return Tn(n,"POST","/v1/accounts:update",e)})}function Yv(r,i){return v(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=ke(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield to(o,ZB(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Jv(n,e){let t=ke(n);return St(t.auth.app)?Promise.reject($n(t.auth)):FA(t,e,null)}function Zv(n,e){return FA(ke(n),null,e)}function FA(n,e,t){return v(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield to(n,jB(r,o));yield n._updateTokensIfNecessary(s,!0)})}function Lh(n,e,t,r){return ke(n).onIdTokenChanged(e,t,r)}function Xv(n,e,t){return ke(n).beforeAuthStateChanged(e,t)}function Vh(n,e,t,r){return ke(n).onAuthStateChanged(e,t,r)}function e_(n){return ke(n).signOut()}var Ph="__sak";var xh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var XB=1e3,e$=10,t$=(()=>{class n extends xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);RB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,e$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},XB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Fr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Fr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Fr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),LA=t$;var n$=(()=>{class n extends xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),t_=n$;function r$(n){return Promise.all(n.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var i$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield r$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function VA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Nv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=VA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Hn(){return window}function o$(n){Hn().location.href=n}function jA(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}function s$(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function a$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function c$(){return jA()?self:null}var UA="firebaseLocalStorageDb",u$=1,kh="firebaseLocalStorage",BA="fbase_key",no=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jh(n,e){return n.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function l$(){let n=indexedDB.deleteDatabase(UA);return new no(n).toPromise()}function Pv(){let n=indexedDB.open(UA,u$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(kh,{keyPath:BA})}catch(i){t(i)}}),n.addEventListener("success",()=>v(this,null,function*(){let r=n.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),yield l$(),e(yield Pv()))}))})}function iA(n,e,t){return v(this,null,function*(){let r=jh(n,!0).put({[BA]:e,value:t});return new no(r).toPromise()})}function d$(n,e){return v(this,null,function*(){let t=jh(n,!1).get(e),r=yield new no(t).toPromise();return r===void 0?null:r.value})}function oA(n,e){let t=jh(n,!0).delete(e);return new no(t).toPromise()}var h$=800,f$=3,p$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Pv(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>f$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return jA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=i$._getInstance(c$()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield s$(),!this.activeServiceWorker)return;this.sender=new Nv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||a$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Pv();return yield iA(t,Ph,"1"),yield oA(t,Ph),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>iA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>d$(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>oA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=jh(o,!1).getAll();return new no(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),h$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),$A=p$;var qJ=RA("rcb"),WJ=new eo(3e4,6e4);function g$(n,e){return e?wr(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Gc=class extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function m$(n){return kA(n.auth,new Gc(n),n.bypassAuthState)}function y$(n){let{auth:e,user:t}=n;return G(t,e,"internal-error"),YB(t,new Gc(n),n.bypassAuthState)}function v$(n){return v(this,null,function*(){let{auth:e,user:t}=n;return G(t,e,"internal-error"),QB(t,new Gc(n),n.bypassAuthState)})}var xv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m$;case"linkViaPopup":case"linkViaRedirect":return v$;case"reauthViaPopup":case"reauthViaRedirect":return y$;default:zn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var GJ=new eo(2e3,1e4);var _$="pendingRedirect",wh=new Map,kv=class n extends xv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=wh.get(this.auth._key());if(!e){try{let r=(yield E$(this.resolver,this.auth))?yield Fr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Fr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Fr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function E$(n,e){return v(this,null,function*(){let t=D$(e),r=I$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function w$(n,e){wh.set(n._key(),e)}function I$(n){return wr(n._redirectPersistence)}function D$(n){return Eh(_$,n.config.apiKey,n.name)}function T$(n,e,t=!1){return v(this,null,function*(){if(St(n.app))return Promise.reject($n(n));let r=di(n),i=g$(r,e),s=yield new kv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var b$=10*60*1e3,Ov=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!HA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Xi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b$&&this.cachedEventUids.clear(),this.cachedEventUids.has(sA(e))}saveEventToCache(e){this.cachedEventUids.add(sA(e)),this.lastProcessedEventTime=Date.now()}};function sA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function C$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(n);default:return!1}}function S$(t){return v(this,arguments,function*(n,e={}){return Tn(n,"GET","/v1/projects",e)})}var A$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R$=/^https?/;function M$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield S$(n);for(let t of e)try{if(N$(t))return}catch{}zn(n,"unauthorized-domain")})}function N$(n){let e=vv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!R$.test(t))return!1;if(A$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var P$=new eo(3e4,6e4);function aA(){let n=Hn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function x$(n){return new Promise((e,t)=>{var r,i,o;function s(){aA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aA(),t(Xi(n,"network-request-failed"))},timeout:P$.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hn().gapi)===null||o===void 0)&&o.load)s();else{let a=RA("iframefcb");return Hn()[a]=()=>{gapi.load?s():t(Xi(n,"network-request-failed"))},AA(`${kB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Ih=null,e})}var Ih=null;function k$(n){return Ih=Ih||x$(n),Ih}var O$=new eo(5e3,15e3),F$="__/auth/iframe",L$="emulator/auth/iframe",V$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U$(n){let e=n.config;G(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?jv(e,L$):`https://${n.config.authDomain}/${F$}`,r={apiKey:e.apiKey,appName:n.name,v:ii},i=j$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Oc(r).slice(1)}`}function B$(n){return v(this,null,function*(){let e=yield k$(n),t=Hn().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:U$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V$,dontclear:!0},r=>new Promise((i,o)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Xi(n,"network-request-failed"),a=Hn().setTimeout(()=>{o(s)},O$.get());function u(){Hn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var $$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H$=500,z$=600,q$="_blank",W$="http://localhost",Oh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function G$(n,e,t,r=H$,i=z$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},$$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=rt().toLowerCase();t&&(a=wA(l)?q$:t),_A(l)&&(e=e||W$,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,C])=>`${y}${m}=${C},`,"");if(AB(l)&&a!=="_self")return K$(e||"",a),new Oh(null);let p=window.open(e||"",a,h);G(p,n,"popup-blocked");try{p.focus()}catch{}return new Oh(p)}function K$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Q$="__/auth/handler",Y$="emulator/auth/handler",J$=encodeURIComponent("fac");function cA(n,e,t,r,i,o){return v(this,null,function*(){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ii,eventId:i};if(e instanceof Nh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Rv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${J$}=${encodeURIComponent(u)}`:"";return`${Z$(n)}?${Oc(a).slice(1)}${l}`})}function Z$({config:n}){return n.emulator?jv(n,Y$):`https://${n.authDomain}/${Q$}`}var yv="webStorageSupport",Fv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t_,this._completeRedirectFn=T$,this._overrideRedirectResult=w$}_openPopup(e,t,r,i){return v(this,null,function*(){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield cA(e,t,r,vv(),i);return G$(e,s,VA())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield cA(e,t,r,vv(),i);return o$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield B$(e),r=new Ov(e);return t.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yv,{type:yv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[yv];s!==void 0&&t(!!s),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=M$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CA()||EA()||Hv()}},zA=Fv;var uA="@firebase/auth",lA="1.10.1";var Lv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function X$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eH(n){In(new Ct("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(n)},l=new bv(r,i,o,u);return FB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new Ct("auth-internal",e=>{let t=di(e.getProvider("auth").getImmediate());return(r=>new Lv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(uA,lA,X$(n)),Be(uA,lA,"esm2017")}var tH=5*60,nH=qy("authIdTokenMaxAge")||tH,dA=null,rH=n=>e=>v(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nH)return;let i=t?.token;dA!==i&&(dA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function n_(n=Yi()){let e=Cs(n,"auth");if(e.isInitialized())return e.getImmediate();let t=zv(n,{popupRedirectResolver:zA,persistence:[$A,LA,t_]}),r=qy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=rH(o.toString());Xv(t,s,()=>s(t.currentUser)),Lh(t,a=>s(a))}}let i=Hy("auth");return i&&qv(t,`http://${i}`),t}function iH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Xi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",iH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eH("Browser");function WA(n){return new re(function(e){var t=Vh(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var GA="auth",ro=class{constructor(e){return e}},Qc=class{constructor(){return As(GA)}};var r_=new B("angularfire2.auth-instances");function BH(n,e){let t=Vc(GA,n,e);return t&&new ro(t)}function $H(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ro(r)}}var HH={provide:Qc,deps:[[new Bt,r_]]},zH={provide:ro,useFactory:BH,deps:[[new Bt,r_],_r]};function KA(n,...e){return Be("angularfire",oi.full,"auth"),hn([zH,HH,{provide:r_,useFactory:$H(n),multi:!0,deps:[be,dt,si,Zi,[new Bt,Rs],...e]}])}var QA=Fe(WA,!0);var YA=Fe(Kv,!0,2);var JA=Fe(n_,!0);var ZA=Fe(Gv,!0,2);var XA=Fe(Qv,!0,2);var eR=Fe(e_,!0,2);var tR=Fe(Jv,!0,2),nR=Fe(Zv,!0,2);var Uh=Fe(Yv,!0,2);var Vt=class n{auth=N(ro);router=N(_n);loggedIn=Wr(!1);user$=QA(this.auth);constructor(){this.auth.onAuthStateChanged(e=>{this.loggedIn.set(!!e)})}login(e,t){XA(this.auth,e,t).then(()=>{localStorage.setItem("token","true"),this.router.navigate(["/home"])},r=>{alert(`Something went wrong: ${r.message}`),this.router.navigate(["/login"])})}register(e){YA(this.auth,e.email,e.password).then(t=>{let r=t.user,i=e.firstName+" "+e.lastName;Uh(r,{displayName:i}),alert("Registration was Successful"),this.router.navigate(["/login"])}).catch(t=>{alert(t.message),this.router.navigate(["/register"])}),Uh}logout(){eR(this.auth).then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])}).catch(e=>{alert(e.message)})}forgotPassword(e){ZA(this.auth,e).then(()=>{this.router.navigate(["/verify-email"])}).catch(t=>{alert(`Something went wrong: ${t.message}`)})}updateUserInfo(e){let t=this.auth.currentUser,r=e.firstName+" "+e.lastName;if(!t){alert("No user is currently logged in.");return}Uh(t,{displayName:r}).catch(i=>{alert(`Failed to update: ${i.message}`)}),e.email&&tR(t,e.email).catch(i=>{alert(`Failed to update email: ${i.message}`)}),e.password&&nR(t,e.password).catch(i=>{alert(`Failed to update password : ${i.message}`)}),alert("Profile Updated"),this.router.navigate(["/home"])}getUser(){return this.auth.currentUser}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Bh=class n{authService=N(Vt);email="";password="";login(){if(this.email==""){alert("Please enter a valid email");return}if(this.password==""){alert("Please enter your password");return}this.authService.login(this.email,this.password),this.email="",this.email=""}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-login"]],decls:11,vars:2,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[2,"width","300px"],[1,"form-group"],["placeholder","Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mt-2"],["placeholder","Password","type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2","mt-3"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(k(0,"h2",0),$(1,"Login"),O(),k(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),Ie("ngModelChange",function(o){return Ce(r.email,o)||(r.email=o),o}),O()(),k(6,"div",5)(7,"input",6),Ie("ngModelChange",function(o){return Ce(r.password,o)||(r.password=o),o}),O()(),k(8,"div",7)(9,"button",8),Pe("click",function(){return r.login()}),$(10,"Login"),O()()()()),t&2&&(W(5),we("ngModel",r.email),W(2),we("ngModel",r.password))},dependencies:[rn,Lt,nn,Wt],encapsulation:2})};var rR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iR={};var Tr,i_;(function(){var n;function e(D,_){function w(){}w.prototype=_.prototype,D.D=_.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(I,T,S){for(var E=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)E[tr-2]=arguments[tr];return _.prototype[T].apply(I,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,w){w||(w=0);var I=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)I[T]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(T=0;16>T;++T)I[T]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=D.g[0],w=D.g[1],T=D.g[2];var S=D.g[3],E=_+(S^w&(T^S))+I[0]+3614090360&4294967295;_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+I[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+I[2]+606105819&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+I[3]+3250441966&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+I[4]+4118548399&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+I[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+I[6]+2821735955&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+I[7]+4249261313&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+I[8]+1770035416&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+I[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+I[10]+4294925233&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+I[11]+2304563134&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+I[12]+1804603682&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+I[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+I[14]+2792965006&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+I[15]+1236535329&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(T^S&(w^T))+I[1]+4129170786&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+I[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+I[11]+643717713&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+I[0]+3921069994&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+I[5]+3593408605&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+I[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+I[15]+3634488961&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+I[4]+3889429448&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+I[9]+568446438&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+I[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+I[3]+4107603335&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+I[8]+1163531501&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+I[13]+2850285829&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+I[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+I[7]+1735328473&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+I[12]+2368359562&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(w^T^S)+I[5]+4294588738&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+I[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+I[11]+1839030562&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+I[14]+4259657740&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+I[1]+2763975236&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+I[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+I[7]+4139469664&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+I[10]+3200236656&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+I[13]+681279174&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+I[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+I[3]+3572445317&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+I[6]+76029189&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+I[9]+3654602809&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+I[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+I[15]+530742520&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+I[2]+3299628645&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(T^(w|~S))+I[0]+4096336452&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+I[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+I[14]+2878612391&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+I[5]+4237533241&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+I[12]+1700485571&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+I[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+I[10]+4293915773&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+I[1]+2240044497&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+I[8]+1873313359&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+I[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+I[6]+2734768916&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+I[13]+1309151649&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+I[4]+4149444226&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+I[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+I[2]+718787259&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var w=_-this.blockSize,I=this.B,T=this.h,S=0;S<_;){if(T==0)for(;S<=w;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<_;)if(I[T++]=D.charCodeAt(S++),T==this.blockSize){i(this,I),T=0;break}}else for(;S<_;)if(I[T++]=D[S++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var w=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=w&255,w/=256;for(this.u(D),D=Array(16),_=w=0;4>_;++_)for(var I=0;32>I;I+=8)D[w++]=this.g[_]>>>I&255;return D};function o(D,_){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=_(D)}function s(D,_){this.h=_;for(var w=[],I=!0,T=D.length-1;0<=T;T--){var S=D[T]|0;I&&S==_||(w[T]=S,I=!1)}this.g=w}var a={};function u(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var _=[],w=1,I=0;D>=w;I++)_[I]=D/w|0,w*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return R(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),I=p,T=0;T<D.length;T+=8){var S=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+S),_);8>S?(S=l(Math.pow(_,S)),I=I.j(S).add(l(E))):(I=I.j(w),I=I.add(l(E)))}return I}var p=u(0),y=u(1),m=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var D=0,_=1,w=0;w<this.g.length;w++){var I=this.i(w);D+=(0<=I?I:4294967296+I)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(M(this))return"-"+R(this).toString(D);for(var _=l(Math.pow(D,6)),w=this,I="";;){var T=Te(w,_).g;w=V(w,T.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=T,C(w))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=V(this,D),M(D)?-1:C(D)?0:1};function R(D){for(var _=D.g.length,w=[],I=0;I<_;I++)w[I]=~D.g[I];return new s(w,~D.h).add(y)}n.abs=function(){return M(this)?R(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),w=[],I=0,T=0;T<=_;T++){var S=I+(this.i(T)&65535)+(D.i(T)&65535),E=(S>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);I=E>>>16,S&=65535,E&=65535,w[T]=E<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(D,_){return D.add(R(_))}n.j=function(D){if(C(this)||C(D))return p;if(M(this))return M(D)?R(this).j(R(D)):R(R(this).j(D));if(M(D))return R(this.j(R(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,w=[],I=0;I<2*_;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<D.g.length;T++){var S=this.i(I)>>>16,E=this.i(I)&65535,tr=D.i(T)>>>16,oa=D.i(T)&65535;w[2*I+2*T]+=E*oa,se(w,2*I+2*T),w[2*I+2*T+1]+=S*oa,se(w,2*I+2*T+1),w[2*I+2*T+1]+=E*tr,se(w,2*I+2*T+1),w[2*I+2*T+2]+=S*tr,se(w,2*I+2*T+2)}for(I=0;I<_;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=_;I<2*_;I++)w[I]=0;return new s(w,0)};function se(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function q(D,_){this.g=D,this.h=_}function Te(D,_){if(C(_))throw Error("division by zero");if(C(D))return new q(p,p);if(M(D))return _=Te(R(D),_),new q(R(_.g),R(_.h));if(M(_))return _=Te(D,R(_)),new q(R(_.g),_.h);if(30<D.g.length){if(M(D)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var w=y,I=_;0>=I.l(D);)w=st(w),I=st(I);var T=_e(w,1),S=_e(I,1);for(I=_e(I,2),w=_e(w,2);!C(I);){var E=S.add(I);0>=E.l(D)&&(T=T.add(w),S=E),I=_e(I,1),w=_e(w,1)}return _=V(D,T.j(_)),new q(T,_)}for(T=p;0<=D.l(_);){for(w=Math.max(1,Math.floor(D.m()/_.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(w),E=S.j(_);M(E)||0<E.l(D);)w-=I,S=l(w),E=S.j(_);C(S)&&(S=y),T=T.add(S),D=V(D,E)}return new q(T,D)}n.A=function(D){return Te(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),w=[],I=0;I<_;I++)w[I]=this.i(I)&D.i(I);return new s(w,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),w=[],I=0;I<_;I++)w[I]=this.i(I)|D.i(I);return new s(w,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),w=[],I=0;I<_;I++)w[I]=this.i(I)^D.i(I);return new s(w,this.h^D.h)};function st(D){for(var _=D.g.length+1,w=[],I=0;I<_;I++)w[I]=D.i(I)<<1|D.i(I-1)>>>31;return new s(w,D.h)}function _e(D,_){var w=_>>5;_%=32;for(var I=D.g.length-w,T=[],S=0;S<I;S++)T[S]=0<_?D.i(S+w)>>>_|D.i(S+w+1)<<32-_:D.i(S+w);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,i_=iR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Tr=iR.Integer=s}).apply(typeof rR<"u"?rR:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={};var o_,qH,Ns,s_,Yc,Hh,a_,c_,u_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return d.prototype[b].apply(g,F)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let F=0;F<A;F++)c[b+F]=g[F]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function se(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var st=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function _e(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=tp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class tr{constructor(){this.h=this.g=null}add(d,f){let g=oa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var oa=new V(()=>new zN,c=>c.reset());class zN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let sa,aa=!1,tp=new tr,bw=()=>{let c=a.Promise.resolve(void 0);sa=()=>{c.then(qN)}};var qN=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=oa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}aa=!1};function Pr(){this.s=this.s,this.C=this.C}Pr.prototype.s=!1,Pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var WN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ca(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(st){e:{try{Te(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:GN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ca.aa.h.call(this)}}C(ca,gt);var GN={2:"touch",3:"pen",4:"mouse"};ca.prototype.h=function(){ca.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ua="closure_listenable_"+(1e6*Math.random()|0),KN=0;function QN(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++KN,this.da=this.fa=!1}function vu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _u(c){this.src=c,this.g={},this.h=0}_u.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=rp(c,d,g,b);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new QN(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function np(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(vu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function rp(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var ip="closure_lm_"+(1e6*Math.random()|0),op={};function Cw(c,d,f,g,b){if(g&&g.once)return Aw(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Cw(c,d[A],f,g,b);return null}return f=up(f),c&&c[ua]?c.K(d,f,l(g)?!!g.capture:!!g,b):Sw(c,d,f,!1,g,b)}function Sw(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var F=l(b)?!!b.capture:!!b,Ae=ap(c);if(Ae||(c[ip]=Ae=new _u(c)),f=Ae.add(d,f,g,F,A),f.proxy)return f;if(g=YN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)WN||(b=F),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(Mw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function YN(){function c(f){return d.call(c.src,c.listener,f)}let d=JN;return c}function Aw(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Aw(c,d[A],f,g,b);return null}return f=up(f),c&&c[ua]?c.L(d,f,l(g)?!!g.capture:!!g,b):Sw(c,d,f,!0,g,b)}function Rw(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Rw(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=up(f),c&&c[ua]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=rp(A,f,g,b),-1<f&&(vu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ap(c))&&(d=c.g[d.toString()],c=-1,d&&(c=rp(d,f,g,b)),(f=-1<c?d[c]:null)&&sp(f))}function sp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ua])np(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Mw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ap(d))?(np(f,c),f.h==0&&(f.src=null,d[ip]=null)):vu(c)}}}function Mw(c){return c in op?op[c]:op[c]="on"+c}function JN(c,d){if(c.da)c=!0;else{d=new ca(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&sp(c),c=f.call(g,d)}return c}function ap(c){return c=c[ip],c instanceof _u?c:null}var cp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(c){return typeof c=="function"?c:(c[cp]||(c[cp]=function(d){return c.handleEvent(d)}),c[cp])}function mt(){Pr.call(this),this.i=new _u(this),this.M=this,this.F=null}C(mt,Pr),mt.prototype[ua]=!0,mt.prototype.removeEventListener=function(c,d,f,g){Rw(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var b=d;d=new gt(g,c),I(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];b=Eu(F,g,!0,d)&&b}if(F=d.g=c,b=Eu(F,g,!0,d)&&b,b=Eu(F,g,!1,d)&&b,f)for(A=0;A<f.length;A++)F=d.g=f[A],b=Eu(F,g,!1,d)&&b}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)vu(f[g]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Eu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Ae=F.listener,at=F.ha||F.src;F.fa&&np(c.i,F),b=Ae.call(at,g)!==!1&&b}}return b&&!g.defaultPrevented}function Nw(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Pw(c){c.g=Nw(()=>{c.g=null,c.i&&(c.i=!1,Pw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ZN extends Pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Pw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(c){Pr.call(this),this.h=c,this.g={}}C(la,Pr);var xw=[];function kw(c){_e(c.g,function(d,f){this.g.hasOwnProperty(f)&&sp(d)},c),c.g={}}la.prototype.N=function(){la.aa.N.call(this),kw(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lp=a.JSON.stringify,XN=a.JSON.parse,eP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function dp(){}dp.prototype.h=null;function Ow(c){return c.h||(c.h=c.i())}function Fw(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hp(){gt.call(this,"d")}C(hp,gt);function fp(){gt.call(this,"c")}C(fp,gt);var yi={},Lw=null;function wu(){return Lw=Lw||new mt}yi.La="serverreachability";function Vw(c){gt.call(this,yi.La,c)}C(Vw,gt);function ha(c){let d=wu();wt(d,new Vw(d))}yi.STAT_EVENT="statevent";function jw(c,d){gt.call(this,yi.STAT_EVENT,c),this.stat=d}C(jw,gt);function It(c){let d=wu();wt(d,new jw(d,c))}yi.Ma="timingevent";function Uw(c,d){gt.call(this,yi.Ma,c),this.size=d}C(Uw,gt);function fa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function tP(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var F="",Ae=A.split("&"),at=0;at<Ae.length;at++){var ve=Ae[at].split("=");if(1<ve.length){var yt=ve[0];ve=ve[1];var vt=yt.split("_");F=2<=vt.length&&vt[1]=="type"?F+(yt+"="+ve+"&"):F+(yt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+F})}function nP(c,d,f,g,b,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+F})}function go(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+iP(c,f)+(g?" "+g:"")})}function rP(c,d){c.info(function(){return"TIMEOUT: "+d})}pa.prototype.info=function(){};function iP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return lp(f)}catch{return d}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pp;function Du(){}C(Du,dp),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},pp=new Du;function xr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $w}function $w(){this.i=null,this.g="",this.h=!1}var Hw={},gp={};function mp(c,d,f){c.L=1,c.v=Su(nr(d)),c.m=f,c.P=!0,zw(c,null)}function zw(c,d){c.F=Date.now(),Tu(c),c.A=nr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),iI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new $w,c.g=II(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ZN(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(xw[0]=b.toString()),b=xw);for(var A=0;A<b.length;A++){var F=Cw(f,b[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ha(),tP(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=rr(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||dI(this.g)))){this.J||vt!=4||d==7||(d==8||0>=vo?ha(3):ha(2)),yp(this);var f=this.g.Z();this.X=f;t:if(qw(this)){var g=dI(this.g);c="";var b=g.length,A=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),ga(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,nP(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,at=this.g;if((Ae=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ae)){var ve=Ae;break t}}ve=null}if(f=ve)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,f);else{this.o=!1,this.s=3,It(12),vi(this),ga(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<F.length;)if(cn=oP(this,F),cn==gp){vt==4&&(this.s=4,It(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Hw){this.s=4,It(15),go(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,cn,null),vp(this,cn);if(qw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||F.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,F,"[Invalid Chunked Response]"),vi(this),ga(this);else if(0<F.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Tp(yt),yt.M=!0,It(11))}}else go(this.i,this.l,F,null),vp(this,F);vt==4&&vi(this),this.o&&!this.J&&(vt==4?vI(this.j,this):(this.o=!1,Tu(this)))}else IP(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),vi(this),ga(this)}}}catch{}finally{}};function qw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?gp:(f=Number(d.substring(f,g)),isNaN(f)?Hw:(g+=1,g+f>d.length?gp:(d=d.slice(g,g+f),c.C=g+f,d)))}xr.prototype.cancel=function(){this.J=!0,vi(this)};function Tu(c){c.S=Date.now()+c.I,Ww(c,c.I)}function Ww(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fa(y(c.ba,c),d)}function yp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(rP(this.i,this.A),this.L!=2&&(ha(),It(17)),vi(this),this.s=2,ga(this)):Ww(this,this.S-c)};function ga(c){c.j.G==0||c.J||vI(c.j,c)}function vi(c){yp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,kw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function vp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||_p(f.h,c))){if(!c.K&&_p(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Pu(f),Mu(f);else break e;Dp(f),It(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=fa(y(f.Za,f),6e3));if(1>=Qw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ei(f,11)}else if((c.K||f.g==c)&&Pu(f),!se(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let yt=ve[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=ve[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let vo=ve[5];vo!=null&&typeof vo=="number"&&0<vo&&(g=1.5*vo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let cn=c.g;if(cn){let ku=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ku){var A=g.h;A.g||ku.indexOf("spdy")==-1&&ku.indexOf("quic")==-1&&ku.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ep(A,A.h),A.h=null))}if(g.D){let bp=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(g.ya=bp,xe(g.I,g.D,bp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=wI(g,g.J?g.ia:null,g.W),F.K){Yw(g.h,F);var Ae=F,at=g.L;at&&(Ae.I=at),Ae.B&&(yp(Ae),Tu(Ae)),g.g=F}else mI(g);0<f.i.length&&Nu(f)}else ve[0]!="stop"&&ve[0]!="close"||Ei(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ei(f,7):Ip(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}ha(4)}catch{}}var sP=class{constructor(c,d){this.g=c,this.map=d}};function Gw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qw(c){return c.h?1:c.g?c.g.size:0}function _p(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ep(c,d){c.g?c.g.add(d):c.h=d}function Yw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Gw.prototype.cancel=function(){if(this.i=Jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Jw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function aP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function cP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=cP(c),g=aP(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function _i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _i){this.h=c.h,bu(this,c.j),this.o=c.o,this.g=c.g,Cu(this,c.s),this.l=c.l;var d=c.i,f=new va;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),eI(this,f),this.m=c.m}else c&&(d=String(c).match(Xw))?(this.h=!1,bu(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),Cu(this,d[4]),this.l=ma(d[5]||"",!0),eI(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.h=!1,this.i=new va(null,this.h))}_i.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ya(d,tI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ya(d,tI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ya(f,f.charAt(0)=="/"?hP:dP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ya(f,pP)),c.join("")};function nr(c){return new _i(c)}function bu(c,d,f){c.j=f?ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Cu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function eI(c,d,f){d instanceof va?(c.i=d,gP(c.i,c.h)):(f||(d=ya(d,fP)),c.i=new va(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function Su(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,lP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tI=/[#\/\?@]/g,dP=/[#\?:]/g,hP=/[#\?]/g,fP=/[#\?@]/g,pP=/#/g;function va(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&uP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=va.prototype,n.add=function(c,d){kr(this),this.i=null,c=mo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function nI(c,d){kr(c),d=mo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function rI(c,d){return kr(c),d=mo(c,d),c.g.has(d)}n.forEach=function(c,d){kr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){kr(this);let d=[];if(typeof c=="string")rI(this,c)&&(d=d.concat(this.g.get(mo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return kr(this),this.i=null,c=mo(this,c),rI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function iI(c,d,f){nI(c,d),0<f.length&&(c.i=null,c.g.set(mo(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var b=A;F[g]!==""&&(b+="="+encodeURIComponent(String(F[g]))),c.push(b)}}return this.i=c.join("&")};function mo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function gP(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(nI(this,g),iI(this,b,f))},c)),c.j=d}function mP(c,d){let f=new pa;if(a.Image){let g=new Image;g.onload=m(Or,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Or,f,"TestLoadImage: error",!1,d,g),g.onabort=m(Or,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Or,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function yP(c,d){let f=new pa,g=new AbortController,b=setTimeout(()=>{g.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function vP(){this.g=new eP}function _P(c,d,f){let g=f||"";try{Zw(c,function(b,A){let F=b;l(b)&&(F=lp(b)),d.push(g+A+"="+encodeURIComponent(F))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function _a(c){this.l=c.Ub||null,this.j=c.eb||!1}C(_a,dp),_a.prototype.g=function(){return new Au(this.l,this.j)},_a.prototype.i=function(c){return function(){return c}}({});function Au(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Au,mt),n=Au.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,wa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ea(this):wa(this),this.readyState==3&&oI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},n.Qa=function(c){this.g&&(this.response=c,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function wa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sI(c){let d="";return _e(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Le(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Le,mt);var EP=/^https?$/i,wP=["POST","PUT"];n=Le.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pp.g(),this.v=this.o?Ow(this.o):Ow(pp),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){aI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wP,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){aI(this,A)}};function aI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,cI(c),Ru(c)}function cI(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Ru(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uI(this):this.bb())},n.bb=function(){uI(this)};function uI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)Nw(c.Ea,0,c);else if(wt(c,"readystatechange"),rr(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var b=String(c.D).match(Xw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!EP.test(b?b.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<rr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",cI(c)}}finally{Ru(c)}}}}function Ru(c,d){if(c.g){lI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function lI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),XN(d)}};function dI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IP(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(se(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function hI(c){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gw(c&&c.concurrentRequestLimit),this.Da=new vP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){It(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=wI(this,null,this.W),Nu(this)};function Ip(c){if(fI(c),c.G==3){var d=c.U++,f=nr(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),Da(c,f),d=new xr(c,c.j,d),d.L=2,d.v=Su(nr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=II(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Tu(d)}EI(c)}function Mu(c){c.g&&(Tp(c),c.g.cancel(),c.g=null)}function fI(c){Mu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Nu(c){if(!Kw(c.h)&&!c.s){c.s=!0;var d=c.Ga;sa||bw(),aa||(sa(),aa=!0),tp.add(d,c),c.B=0}}function DP(c,d){return Qw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fa(y(c.Ga,c,d),_I(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new xr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=gI(this,b,d),f=nr(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),Da(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(sI(A)))+"&"+d:this.m&&wp(f,this.m,A)),Ep(this.h,b),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),b.T=!0,mp(b,f,null)):mp(b,f,d),this.G=2}}else this.G==3&&(c?pI(this,c):this.i.length==0||Kw(this.h)||pI(this))};function pI(c,d){var f;d?f=d.l:f=c.U++;let g=nr(c.I);xe(g,"SID",c.K),xe(g,"RID",f),xe(g,"AID",c.T),Da(c,g),c.m&&c.o&&wp(g,c.m,c.o),f=new xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=gI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ep(c.h,f),mp(f,g,d)}function Da(c,d){c.H&&_e(c.H,function(f,g){xe(d,g,f)}),c.l&&Zw({},function(f,g){xe(d,g,f)})}function gI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=b[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Ae=!0;for(let at=0;at<f;at++){let ve=b[at].g,yt=b[at].map;if(ve-=A,0>ve)A=Math.max(0,b[at].g-100),Ae=!1;else try{_P(yt,F,"req"+ve+"_")}catch{g&&g(yt)}}if(Ae){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;sa||bw(),aa||(sa(),aa=!0),tp.add(d,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fa(y(c.Fa,c),_I(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,yI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fa(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Mu(this),yI(this))};function Tp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function yI(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Da(c,d),c.m&&c.o&&wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Su(nr(d)),f.m=null,f.P=!0,zw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Mu(this),Dp(this),It(19))};function Pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vI(c,d){var f=null;if(c.g==d){Pu(c),Tp(c),c.g=null;var g=2}else if(_p(c.h,d))f=d.D,Yw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=wu(),wt(g,new Uw(g,f)),Nu(c)}else mI(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&DP(c,d)||g==2&&Dp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function _I(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ei(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let b=!g;g=new _i(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bu(g,"https"),Su(g),b?mP(g.toString(),f):yP(g.toString(),f)}else It(2);c.G=0,c.l&&c.l.sa(d),EI(c),fI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function EI(c){if(c.G=0,c.ka=[],c.l){let d=Jw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function wI(c,d,f){var g=f instanceof _i?nr(f):new _i(f);if(g.g!="")d&&(g.g=d+"."+g.g),Cu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new _i(null);g&&bu(A,g),d&&(A.g=d),b&&Cu(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&xe(g,f,d),xe(g,"VER",c.la),Da(c,g),g}function II(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new _a({eb:f})):new Le(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function DI(){}n=DI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xu(){}xu.prototype.g=function(c,d){return new jt(c,d)};function jt(c,d){mt.call(this),this.g=new hI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!se(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!se(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}C(jt,mt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Ip(this.g)},jt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=lp(c),c=f);d.i.push(new sP(d.Ya++,c)),d.G==3&&Nu(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,jt.aa.N.call(this)};function TI(c){hp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(TI,hp);function bI(){fp.call(this),this.status=1}C(bI,fp);function yo(c){this.g=c}C(yo,DI),yo.prototype.ua=function(){wt(this.g,"a")},yo.prototype.ta=function(c){wt(this.g,new TI(c))},yo.prototype.sa=function(c){wt(this.g,new bI)},yo.prototype.ra=function(){wt(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,u_=br.createWebChannelTransport=function(){return new xu},c_=br.getStatEventTarget=function(){return wu()},a_=br.Event=yi,Hh=br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Yc=br.ErrorCode=Iu,Bw.COMPLETE="complete",s_=br.EventType=Bw,Fw.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ns=br.WebChannel=Fw,qH=br.FetchXmlHttpFactory=_a,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,o_=br.XhrIo=Le}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});var oR="@firebase/firestore",sR="4.7.11";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var ea="11.6.1";var ao=new Un("@firebase/firestore");function Ps(){return ao.logLevel}function U(n,...e){if(ao.logLevel<=de.DEBUG){let t=e.map(YE);ao.debug(`Firestore (${ea}): ${n}`,...t)}}function Cr(n,...e){if(ao.logLevel<=de.ERROR){let t=e.map(YE);ao.error(`Firestore (${ea}): ${n}`,...t)}}function js(n,...e){if(ao.logLevel<=de.WARN){let t=e.map(YE);ao.warn(`Firestore (${ea}): ${n}`,...t)}}function YE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,QR(n,r,t)}function QR(n,e,t){let r=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Cr(r),new Error(r)}function De(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||QR(e,i,r)}function ee(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Yh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},p_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},g_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},m_=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new Yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new it(e)}},y_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},v_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new y_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},__=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,St(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){De(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function YR(){return new TextEncoder}var Zh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=WH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function E_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ue(r,i);{let o=YR(),s=GH(o.encode(aR(n,t)),o.encode(aR(e,t)));return s!==0?s:ue(r,i)}}t+=r>65535?2:1}return ue(n.length,e.length)}function aR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function GH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ue(n[t],e[t]);return ue(n.length,e.length)}function Us(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var cR=-62135596800,uR=1e6,pt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cR)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uR}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-cR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new pt(0,0))}static max(){return new n(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lR="__name__",Xh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ue(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):E_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}},$e=class n extends Xh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},KH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class n extends Xh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return KH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lR}static keyField(){return new n([lR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};var nu=-1,w_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};w_.UNKNOWN_ID=-1;function QH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new pt(t+1,0):new pt(t,r));return new co(i,Y.empty(),e)}function YH(n){return new co(n.readTime,n.key,nu)}var co=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),Y.empty(),nu)}static max(){return new n(ne.max(),Y.empty(),nu)}};function JH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var ZH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",I_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ta(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==ZH)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function XH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function na(n){return n.name==="IndexedDbTransactionError"}var JE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),ZE=-1;function kf(n){return n==null}function ru(n){return n===0&&1/n==-1/0}function ez(n){return typeof n=="number"&&Number.isInteger(n)&&!ru(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var JR="";function tz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dR(e)),e=nz(n.get(t),e);return dR(e)}function nz(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case JR:t+="";break;default:t+=o}}return t}function dR(n){return n+JR+""}var rz="remoteDocuments",ZR="owner";var XR="mutationQueues";var eM="mutations";var tM="documentMutations",iz="remoteDocumentsV14";var nM="remoteDocumentGlobal";var rM="targets";var iM="targetDocuments";var oM="targetGlobal",sM="collectionParents";var aM="clientMetadata";var cM="bundles";var uM="namedQueries";var oz="indexConfiguration";var sz="indexState";var az="indexEntries";var lM="documentOverlays";var cz="globals";var uz=[XR,eM,tM,rz,rM,ZR,oM,iM,aM,nM,sM,cM,uM],uX=[...uz,lM],lz=[XR,eM,tM,iz,rM,ZR,oM,iM,aM,nM,sM,cM,uM,lM],dz=lz,hz=[...dz,oz,sz,az];var lX=[...hz,cz];function hR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(e){return new ef(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ef=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class n{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ot(Qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var fz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(n){if(De(!!n,39018),typeof n=="string"){let e=0,t=fz.exec(n);if(De(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ar(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}var hM="server_timestamp",fM="__type__",pM="__previous_value__",gM="__local_write_time__";function XE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fM])===null||t===void 0?void 0:t.stringValue)===hM}function Of(n){let e=n.mapValue.fields[pM];return XE(e)?Of(e):e}function iu(n){let e=Sr(n.mapValue.fields[gM].timestampValue);return new pt(e.seconds,e.nanos)}var D_=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},nf="(default)",rf=class n{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ew="__type__",mM="__max__",zh={mapValue:{fields:{__type__:{stringValue:mM}}}},tw="__vector__",Bs="value";function fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XE(n)?4:vM(n)?9007199254740991:yM(n)?10:11:Q(28295,{value:n})}function Yn(n,e){if(n===e)return!0;let t=fi(n);if(t!==fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return iu(n).isEqual(iu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Sr(i.timestampValue),a=Sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ar(i.bytesValue).isEqual(Ar(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?ru(s)===ru(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Us(n.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(hR(s)!==hR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Yn(s[u],a[u])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function ou(n,e){return(n.values||[]).find(t=>Yn(t,e))!==void 0}function $s(n,e){if(n===e)return 0;let t=fi(n),r=fi(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return fR(n.timestampValue,e.timestampValue);case 4:return fR(iu(n),iu(e));case 5:return E_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ar(o),u=Ar(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ue(a[l],u[l]);if(h!==0)return h}return ue(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ue(Oe(o.latitude),Oe(s.latitude));return a!==0?a:ue(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return pR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[Bs])===null||a===void 0?void 0:a.arrayValue,C=(u=y[Bs])===null||u===void 0?void 0:u.arrayValue,M=ue(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:pR(m,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===zh.mapValue&&s===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(s===zh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=E_(u[p],h[p]);if(y!==0)return y;let m=$s(a[u[p]],l[h[p]]);if(m!==0)return m}return ue(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{Pe:t})}}function fR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=Sr(n),r=Sr(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function pR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=$s(t[i],r[i]);if(o)return o}return ue(t.length,r.length)}function Hs(n){return T_(n)}function T_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ar(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=T_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${T_(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function Gh(n){switch(fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Of(n);return e?16+Gh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ar(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Gh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return mi(r.fields,(o,s)=>{i+=o.length+Gh(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function b_(n){return!!n&&"integerValue"in n}function nw(n){return!!n&&"arrayValue"in n}function gR(n){return!!n&&"nullValue"in n}function mR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function yM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===tw}function Zc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return mi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mM}var hX={mapValue:{fields:{[ew]:{stringValue:tw},[Bs]:{arrayValue:{}}}}};var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(t)}setAll(e){let t=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Zc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Zc(this.value))}};function _M(n){let e=[];return mi(n.fields,(t,r)=>{let i=new Qt([t]);if(Kh(r)){let o=_M(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,t){this.position=e,this.inclusive=t}};function yR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=$s(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yn(n.position[t],e.position[t]))return!1;return!0}var qs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function pz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var of=class{},Xe=class n extends of{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new S_(e,t,r):t==="array-contains"?new M_(e,r):t==="in"?new N_(e,r):t==="not-in"?new P_(e,r):t==="array-contains-any"?new x_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A_(e,r):new R_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($s(t,this.value)):t!==null&&fi(this.value)===fi(t)&&this.matchesComparison($s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jn=class n extends of{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return EM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function EM(n){return n.op==="and"}function wM(n){return gz(n)&&EM(n)}function gz(n){for(let e of n.filters)if(e instanceof Jn)return!1;return!0}function C_(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Hs(n.value);if(wM(n))return n.filters.map(e=>C_(e)).join(",");{let e=n.filters.map(t=>C_(t)).join(",");return`${n.op}(${e})`}}function IM(n,e){return n instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(n,e):n instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IM(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function DM(n){return n instanceof Xe?function(t){return`${t.field.canonicalString()} ${t.op} ${Hs(t.value)}`}(n):n instanceof Jn?function(t){return t.op.toString()+" {"+t.getFilters().map(DM).join(" ,")+"}"}(n):"Filter"}var S_=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},A_=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=TM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},R_=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=TM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function TM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var M_=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nw(t)&&ou(t.arrayValue,this.value)}},N_=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}},P_=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ou(this.value.arrayValue,t)}},x_=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}};var k_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function _R(n,e=null,t=[],r=[],i=null,o=null,s=null){return new k_(n,e,t,r,i,o,s)}function rw(n){let e=ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>C_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hs(r)).join(",")),e.Ie=t}return e.Ie}function iw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vR(n.startAt,e.startAt)&&vR(n.endAt,e.endAt)}function O_(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ws=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function mz(n,e,t,r,i,o,s,a){return new Ws(n,e,t,r,i,o,s,a)}function Ff(n){return new Ws(n)}function ER(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yz(n){return n.collectionGroup!==null}function Xc(n){let e=ee(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ot(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new qs(o,r))}),t.has(Qt.keyField().canonicalString())||e.Ee.push(new qs(Qt.keyField(),r))}return e.Ee}function Gn(n){let e=ee(n);return e.de||(e.de=vz(e,Xc(n))),e.de}function vz(n,e){if(n.limitType==="F")return _R(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});let t=n.endAt?new zs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zs(n.startAt.position,n.startAt.inclusive):null;return _R(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function F_(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lf(n,e){return iw(Gn(n),Gn(e))&&n.limitType===e.limitType}function bM(n){return`${rw(Gn(n))}|lt:${n.limitType}`}function xs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>DM(i)).join(", ")}]`),kf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Hs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(Gn(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Xc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=yR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Xc(r),i)||r.endAt&&!function(s,a,u){let l=yR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Xc(r),i))}(n,e)}function _z(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CM(n){return(e,t)=>{let r=!1;for(let i of Xc(n)){let o=Ez(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ez(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?$s(u,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var Rr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return dM(this.inner)}size(){return this.innerSize}};var wz=new He(Y.comparator);function Mr(){return wz}var SM=new He(Y.comparator);function Jc(...n){let e=SM;for(let t of n)e=e.insert(t.key,t);return e}function AM(n){let e=SM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function io(){return eu()}function RM(){return eu()}function eu(){return new Rr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Iz=new He(Y.comparator),Dz=new ot(Y.comparator);function pe(...n){let e=Dz;for(let t of n)e=e.add(t);return e}var Tz=new ot(ue);function bz(){return Tz}function ow(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function MM(n){return{integerValue:""+n}}function Cz(n,e){return ez(e)?MM(e):ow(n,e)}var Gs=class{constructor(){this._=void 0}};function Sz(n,e,t){return n instanceof Ks?function(i,o){let s={fields:{[fM]:{stringValue:hM},[gM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&XE(o)&&(o=Of(o)),o&&(s.fields[pM]=o),{mapValue:s}}(t,e):n instanceof uo?PM(n,e):n instanceof lo?xM(n,e):function(i,o){let s=NM(i,o),a=wR(s)+wR(i.Re);return b_(s)&&b_(i.Re)?MM(a):ow(i.serializer,a)}(n,e)}function Az(n,e,t){return n instanceof uo?PM(n,e):n instanceof lo?xM(n,e):t}function NM(n,e){return n instanceof Qs?function(r){return b_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ks=class extends Gs{},uo=class extends Gs{constructor(e){super(),this.elements=e}};function PM(n,e){let t=kM(e);for(let r of n.elements)t.some(i=>Yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var lo=class extends Gs{constructor(e){super(),this.elements=e}};function xM(n,e){let t=kM(e);for(let r of n.elements)t=t.filter(i=>!Yn(i,r));return{arrayValue:{values:t}}}var Qs=class extends Gs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function wR(n){return Oe(n.integerValue||n.doubleValue)}function kM(n){return nw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Rz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof uo&&i instanceof uo||r instanceof lo&&i instanceof lo?Us(r.elements,i.elements,Yn):r instanceof Qs&&i instanceof Qs?Yn(r.Re,i.Re):r instanceof Ks&&i instanceof Ks}(n.transform,e.transform)}var L_=class{constructor(e,t){this.version=e,this.transformResults=t}},Kn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ys=class{};function OM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new su(n.key,Kn.none()):new ho(n.key,n.data,Kn.none());{let t=n.data,r=Kt.empty(),i=new ot(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zn(n.key,r,new sn(i.toArray()),Kn.none())}}function Mz(n,e,t){n instanceof ho?function(i,o,s){let a=i.value.clone(),u=DR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Zn?function(i,o,s){if(!Qh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=DR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(FM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tu(n,e,t,r){return n instanceof ho?function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=o.value.clone(),h=TR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zn?function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=TR(o.fieldTransforms,u,s),h=s.data;return h.setAll(FM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Qh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Nz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=NM(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function IR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Us(r,i,(o,s)=>Rz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ho=class extends Ys{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zn=class extends Ys{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function FM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function DR(n,e,t){let r=new Map;De(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Az(s,a,t[i]))}return r}function TR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Sz(o,s,e))}return r}var su=class extends Ys{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},V_=class extends Ys{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var j_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Mz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=RM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=OM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(t,r)=>IR(t,r))&&Us(this.baseMutations,e.baseMutations,(t,r)=>IR(t,r))}},U_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Iz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var B_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,ye;function Pz(n){switch(n){case P.OK:return Q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function LM(n){if(n===void 0)return Cr("GRPC error has no .code"),P.UNKNOWN;switch(n){case We.OK:return P.OK;case We.CANCELLED:return P.CANCELLED;case We.UNKNOWN:return P.UNKNOWN;case We.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case We.INTERNAL:return P.INTERNAL;case We.UNAVAILABLE:return P.UNAVAILABLE;case We.UNAUTHENTICATED:return P.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case We.NOT_FOUND:return P.NOT_FOUND;case We.ALREADY_EXISTS:return P.ALREADY_EXISTS;case We.PERMISSION_DENIED:return P.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case We.ABORTED:return P.ABORTED;case We.OUT_OF_RANGE:return P.OUT_OF_RANGE;case We.UNIMPLEMENTED:return P.UNIMPLEMENTED;case We.DATA_LOSS:return P.DATA_LOSS;default:return Q(39323,{code:n})}}(ye=We||(We={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var bR=null;var xz=new Tr([4294967295,4294967295],0);function CR(n){let e=YR().encode(n),t=new i_;return t.update(e),new Uint8Array(t.digest())}function SR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tr([t,r],0),new Tr([i,o],0)]}var H_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new oo(`Invalid padding: ${t}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new oo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Tr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Tr.fromNumber(r)));return i.compare(xz)===1&&(i=new Tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=CR(e),[r,i]=SR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=CR(e),[r,i]=SR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},oo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new He(ue),Mr(),pe())}},au=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var Ls=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},af=class{constructor(e,t){this.targetId=e,this.Ce=t}},cf=class{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},uf=class{constructor(){this.Fe=0,this.Me=AR(),this.xe=Et.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),t=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new au(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=AR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,De(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},z_=class{constructor(e){this.ze=e,this.je=new Map,this.He=Mr(),this.Je=qh(),this.Ye=qh(),this.Ze=new He(ue)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(O_(o))if(r===0){let s=new Y(o.path);this.tt(t,s,bn.newNoDocument(s,ne.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}bR?.ht(function(h,p,y,m,C){var M,R,V,se,q,Te;let st={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},_e=p.unchangedNames;return _e&&(st.bloomFilter={applied:C===0,hashCount:(M=_e?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(se=(V=(R=_e?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&se!==void 0?se:0,padding:(Te=(q=_e?.bits)===null||q===void 0?void 0:q.padding)!==null&&Te!==void 0?Te:0,mightContain:D=>{var _;return(_=m?.mightContain(D))!==null&&_!==void 0&&_}}),st}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ar(r).toUint8Array()}catch(u){if(u instanceof tf)return js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new H_(s,i,o)}catch(u){return js(u instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&O_(a.target)){let u=new Y(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,bn.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new sf(e,t,this.Ze,this.He,r);return this.He=Mr(),this.Je=qh(),this.Ye=qh(),this.Ze=new He(ue),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new uf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ot(ue),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ot(ue),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new uf),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function qh(){return new He(Y.comparator)}function AR(){return new He(Y.comparator)}var kz={asc:"ASCENDING",desc:"DESCENDING"},Oz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fz={and:"AND",or:"OR"},q_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function W_(n,e){return n.useProto3Json||kf(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lz(n,e){return lf(n,e.toTimestamp())}function Qn(n){return De(!!n,49232),ne.fromTimestamp(function(t){let r=Sr(t);return new pt(r.seconds,r.nanos)}(n))}function sw(n,e){return G_(n,e).canonicalString()}function G_(n,e){let t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jM(n){let e=$e.fromString(n);return De(zM(e),10190,{key:e.toString()}),e}function K_(n,e){return sw(n.databaseId,e.path)}function l_(n,e){let t=jM(e);if(t.get(1)!==n.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(BM(t))}function UM(n,e){return sw(n.databaseId,e)}function Vz(n){let e=jM(n);return e.length===4?$e.emptyPath():BM(e)}function Q_(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BM(n){return De(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function RR(n,e,t){return{name:K_(n,e),fields:t.value.mapValue.fields}}function jz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:LM(l.code);return new z(h,l.message||"")}(s);t=new cf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=l_(n,r.document.name),o=Qn(r.document.updateTime),s=r.document.createTime?Qn(r.document.createTime):ne.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=l_(n,r.document),o=r.readTime?Qn(r.readTime):ne.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=l_(n,r.document),o=r.removedTargetIds||[];t=new Ls([],o,i,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new $_(i,o),a=r.targetId;t=new af(a,s)}}return t}function Uz(n,e){let t;if(e instanceof ho)t={update:RR(n,e.key,e.value)};else if(e instanceof su)t={delete:K_(n,e.key)};else if(e instanceof Zn)t={update:RR(n,e.key,e.data),updateMask:Qz(e.fieldMask)};else{if(!(e instanceof V_))return Q(16599,{ft:e.type});t={verify:K_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Lz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function Bz(n,e){return n&&n.length>0?(De(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Qn(i.updateTime):Qn(o);return s.isEqual(ne.min())&&(s=Qn(o)),new L_(s,i.transformResults||[])}(t,e))):[]}function $z(n,e){return{documents:[UM(n,e.path)]}}function Hz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=UM(n,i);let o=function(l){if(l.length!==0)return HM(Jn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:ks(y.field),direction:Wz(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=W_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function zz(n){let e=Vz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=$M(p);return y instanceof Jn&&wM(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(C){return new qs(Os(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,kf(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new zs(m,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new zs(m,y)}(t.endAt)),mz(e,i,s,o,a,"F",u,l)}function qz(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $M(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Os(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return Xe.create(Os(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Jn.create(t.compositeFilter.filters.map(r=>$M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function Wz(n){return kz[n]}function Gz(n){return Oz[n]}function Kz(n){return Fz[n]}function ks(n){return{fieldPath:n.canonicalString()}}function Os(n){return Qt.fromServerFormat(n.fieldPath)}function HM(n){return n instanceof Xe?function(t){if(t.op==="=="){if(mR(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NAN"}};if(gR(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mR(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NOT_NAN"}};if(gR(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(t.field),op:Gz(t.op),value:t.value}}}(n):n instanceof Jn?function(t){let r=t.getFilters().map(i=>HM(i));return r.length===1?r[0]:{compositeFilter:{op:Kz(t.op),filters:r}}}(n):Q(54877,{filter:n})}function Qz(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var cu=class n{constructor(e,t,r,i,o=ne.min(),s=ne.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Y_=class{constructor(e){this.wt=e}};function Yz(n){let e=zz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?F_(e,e.limit,"L"):e}var df=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ru(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Sr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Ar(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?vM(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):yM(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Bs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Oe(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),Y.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};df.Wt=new df;var J_=class{constructor(){this.yn=new Z_}addToCollectionParentIndex(e,t){return this.yn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(co.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Z_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot($e.comparator)).toArray()}};var fX=new Uint8Array(0);var MR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qM=41943040,on=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(qM,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var uu=class n{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new n(0)}static ir(){return new n(-1)}};var NR="LruGarbageCollector",Jz=1048576;function PR([n,e],[t,r]){let i=ue(n,t);return i===0?ue(e,r):i}var X_=class{constructor(e){this.cr=e,this.buffer=new ot(PR),this.lr=0}hr(){return++this.lr}Pr(e){let t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();PR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},eE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){U(NR,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){na(t)?U(NR,"Ignoring IndexedDB error during garbage collection: ",t):yield ta(t)}yield this.Ir(3e5)}))}},tE=class{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(JE.le);let r=new X_(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(MR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MR):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ps()<=de.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Zz(n,e){return new tE(n,e)}var nE=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var rE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var iE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tu(r.mutation,i,sn.empty(),pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Jc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mr(),s=eu(),a=function(){return eu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Zn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),tu(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new rE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=eu(),i=new He((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=RM();h.forEach(y=>{if(!o.has(y)){let m=OM(t.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(io()),a=nu,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:AM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Jc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Jc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,y){return new Ws(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Jc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&tu(h.mutation,l,sn.empty(),pt.now()),Vf(t,l)&&(a=a.insert(u,l))}),a})}};var oE=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return x.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:Yz(i.bundledQuery),readTime:Qn(i.readTime)}}(t)),x.resolve()}};var sE=class{constructor(){this.overlays=new He(Y.comparator),this.Or=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=io();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=io(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=io(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=io(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new B_(t,r));let o=this.Or.get(t);o===void 0&&(o=pe(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}};var aE=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var lu=class{constructor(){this.Nr=new ot(Ge.Br),this.Lr=new ot(Ge.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){let r=new Ge(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Ge(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){let t=new Y(new $e([])),r=new Ge(t,e),i=new Ge(t,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let t=new Y(new $e([])),r=new Ge(t,e),i=new Ge(t,e+1),o=pe();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ge(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ge=class{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Y.comparator(e.key,t.key)||ue(e.Gr,t.Gr)}static kr(e,t){return ue(e.Gr,t.Gr)||Y.comparator(e.key,t.key)}};var cE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ot(Ge.Br)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new j_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Hr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?ZE:this.Jn-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ge(t,0),i=new Ge(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(ue);return t.forEach(i=>{let o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),x.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new Y(o),0),a=new ot(ue);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),x.resolve(this.Jr(a))}Jr(e){let t=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return x.forEach(t.mutations,i=>{let o=new Ge(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){let r=new Ge(t,0),i=this.zr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var uE=class{constructor(e){this.Zr=e,this.docs=function(){return new He(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mr(),s=t.path,a=new Y(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JH(YH(h),r)<=0||(i.has(h.key)||Vf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}Xr(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lE(this)}getSize(e){return x.resolve(this.size)}},lE=class extends nE{constructor(e){super(),this.vr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}};var dE=class{constructor(e){this.persistence=e,this.ei=new Rr(t=>rw(t),iw),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.ti=0,this.ni=new lu,this.targetCount=0,this.ri=uu.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),x.resolve()}ar(e){this.ei.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ri=new uu(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.ar(t),x.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ei.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ni.Wr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ni.containsKey(t))}};var hf=class{constructor(e,t){this.ii={},this.overlays={},this.si=new JE(0),this.oi=!1,this.oi=!0,this._i=new aE,this.referenceDelegate=e(this),this.ai=new dE(this),this.indexManager=new J_,this.remoteDocumentCache=function(i){return new uE(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Y_(t),this.ci=new oE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new cE(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new hE(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return x.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}},hE=class extends I_{constructor(e){super(),this.currentSequenceNumber=e}},fE=class n{constructor(e){this.persistence=e,this.Ti=new lu,this.Ii=null}static Ei(e){return new n(e)}get di(){if(this.Ii)return this.Ii;throw Q(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.di,r=>{let i=Y.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,ne.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return x.or([()=>x.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}},ff=class n{constructor(e,t){this.persistence=e,this.Ri=new Rr(r=>tz(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Zz(this,t)}static Ei(e,t){return new n(e,t)}li(){}hi(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return x.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),x.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gh(e.data.value)),t}gr(e,t,r){return x.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.Ri.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var pE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var gE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var mE=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return _S()?8:XH(rt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Rs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new gE;return this.fs(e,t,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,t,s,a.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Ps()<=de.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),x.resolve()):(Ps()<=de.DEBUG&&U("QueryEngine","Query:",xs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ps()<=de.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(t))):x.resolve())}Rs(e,t){if(ER(t))return x.resolve(null);let r=Gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=F_(t,null,"F"),r=Gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(t,a);return this.ys(t,l,s,u.readTime)?this.Rs(e,F_(t,null,"F")):this.ws(e,l,t,u)}))})))}Vs(e,t,r,i){return ER(t)||i.isEqual(ne.min())?x.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(t,o);return this.ys(t,s,r,i)?x.resolve(null):(Ps()<=de.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(t)),this.ws(e,s,t,QH(i,nu)).next(a=>a))})}ps(e,t){let r=new ot(CM(e));return t.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Ps()<=de.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",xs(t)),this.As.getDocumentsMatchingQuery(e,t,co.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var aw="LocalStore",Xz=3e8,yE=class{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new He(ue),this.Ds=new Rr(o=>rw(o),iw),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}};function eq(n,e,t,r){return new yE(n,e,t,r)}function WM(n,e){return v(this,null,function*(){let t=ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function tq(n,e){let t=ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=x.resolve();return y.forEach(C=>{m=m.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);De(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function GM(n){let e=ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function nq(n,e){let t=ee(n),r=e.snapshotVersion,i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Et.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Xz?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(y,m,h)&&a.push(t.ai.updateTargetData(o,m))});let u=Mr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(rq(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(ne.min())){let h=t.ai.getLastRemoteSnapshotVersion(o).next(p=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ss=i,o))}function rq(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(aw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function iq(n,e){let t=ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ZE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oq(n,e){let t=ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.ai.allocateTargetId(r).next(s=>(i=new cu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}function vE(n,e,t){return v(this,null,function*(){let r=ee(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!na(s))throw s;U(aw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function xR(n,e,t){let r=ee(n),i=ne.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ee(u),y=p.Ds.get(h);return y!==void 0?x.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,t?i:ne.min(),t?o:pe())).next(a=>(sq(r,_z(e),a),{documents:a,Ns:o})))}function sq(n,e,t){let r=n.vs.get(e)||ne.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}var pf=class{constructor(){this.activeTargetIds=bz()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var _E=class{constructor(){this.So=new pf,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new pf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var EE=class{vo(e){}shutdown(){}};var kR="ConnectivityMonitor",gf=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){U(kR,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){U(kR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wh=null;function wE(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}var d_="RestConnection",aq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},IE=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){let s=wE(),a=this.$o(e,t.toUriEncodedString());U(d_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,o),this.Ko(e,a,u,r).then(l=>(U(d_,`Received RPC '${e}' ${s}: `,l),l),l=>{throw js(d_,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,t,r,i,o,s){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){let r=aq[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}};var DE=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var _t="WebChannelConnection",TE=class extends IE{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){let o=wE();return new Promise((s,a)=>{let u=new o_;u.setWithCredentials(!0),u.listenOnce(s_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yc.NO_ERROR:let h=u.getResponseJson();U(_t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Yc.TIMEOUT:U(_t,`RPC '${e}' ${o} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:let p=u.getStatus();if(U(_t,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y?.error;if(m&&m.status&&m.message){let C=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(V)>=0?V:P.UNKNOWN}(m.status);a(new z(C,m.message))}else a(new z(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{U(_t,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(_t,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}a_(e,t,r){let i=wE(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=u_(),a=c_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,C=new DE({Go:R=>{m?U(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(U(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(_t,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},zo:()=>p.close()}),M=(R,V,se)=>{R.listen(V,q=>{try{se(q)}catch(Te){setTimeout(()=>{throw Te},0)}})};return M(p,Ns.EventType.OPEN,()=>{m||(U(_t,`RPC '${e}' stream ${i} transport opened.`),C.t_())}),M(p,Ns.EventType.CLOSE,()=>{m||(m=!0,U(_t,`RPC '${e}' stream ${i} transport closed`),C.r_())}),M(p,Ns.EventType.ERROR,R=>{m||(m=!0,js(_t,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.r_(new z(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ns.EventType.MESSAGE,R=>{var V;if(!m){let se=R.data[0];De(!!se,16349);let q=se,Te=q?.error||((V=q[0])===null||V===void 0?void 0:V.error);if(Te){U(_t,`RPC '${e}' stream ${i} received error:`,Te);let st=Te.status,_e=function(w){let I=We[w];if(I!==void 0)return LM(I)}(st),D=Te.message;_e===void 0&&(_e=P.INTERNAL,D="Unknown error status: "+st+" with message "+Te.message),m=!0,C.r_(new z(_e,D)),p.close()}else U(_t,`RPC '${e}' stream ${i} received:`,se),C.i_(se)}}),M(a,a_.STAT_EVENT,R=>{R.stat===Hh.PROXY?U(_t,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Hh.NOPROXY&&U(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}};function h_(){return typeof document<"u"?document:null}function jf(n){return new q_(n,!0)}var mf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var OR="PersistentStream",yf=class{constructor(e,t,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mf(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return v(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return v(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,t){return v(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(t)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{let i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){let r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>v(this,null,function*(){this.state=0,this.start()}))}L_(e){return U(OR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(U(OR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},bE=class extends yf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let t=jz(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Qn(s.readTime):ne.min()}(e);return this.listener.Q_(t,r)}U_(e){let t={};t.database=Q_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=O_(u)?{documents:$z(o,u)}:{query:Hz(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VM(o,s.resumeToken);let l=W_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=lf(o,s.snapshotVersion.toTimestamp());let l=W_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=qz(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){let t={};t.database=Q_(this.serializer),t.removeTarget=e,this.F_(t)}},CE=class extends yf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let t=Bz(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.j_(r,t)}H_(){let e={};e.database=Q_(this.serializer),this.F_(e)}G_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Uz(this.serializer,r))};this.F_(t)}};var SE=class{},AE=class extends SE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,G_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,G_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},RE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Cr(t),this.ea=!1):U("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var fo="RemoteStore",ME=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){po(this)&&(U(fo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ee(u);l.aa.add(4),yield gu(l),l.la.set("Unknown"),l.aa.delete(4),yield Uf(l)})}(this))}))}),this.la=new RE(r,i)}};function Uf(n){return v(this,null,function*(){if(po(n))for(let e of n.ua)yield e(!0)})}function gu(n){return v(this,null,function*(){for(let e of n.ua)yield e(!1)})}function KM(n,e){let t=ee(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),dw(t)?lw(t):ra(t).b_()&&uw(t,e))}function cw(n,e){let t=ee(n),r=ra(t);t._a.delete(e),r.b_()&&QM(t,e),t._a.size===0&&(r.b_()?r.v_():po(t)&&t.la.set("Unknown"))}function uw(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ra(n).U_(e)}function QM(n,e){n.ha.Ke(e),ra(n).K_(e)}function lw(n){n.ha=new z_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ra(n).start(),n.la.ta()}function dw(n){return po(n)&&!ra(n).w_()&&n._a.size>0}function po(n){return ee(n).aa.size===0}function YM(n){n.ha=void 0}function cq(n){return v(this,null,function*(){n.la.set("Online")})}function uq(n){return v(this,null,function*(){n._a.forEach((e,t)=>{uw(n,e)})})}function lq(n,e){return v(this,null,function*(){YM(n),dw(n)?(n.la.ia(e),lw(n)):n.la.set("Unknown")})}function dq(n,e,t){return v(this,null,function*(){if(n.la.set("Online"),e instanceof cf&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(n,e)}catch(r){U(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vf(n,r)}else if(e instanceof Ls?n.ha.Xe(e):e instanceof af?n.ha.ot(e):n.ha.nt(e),!t.isEqual(ne.min()))try{let r=yield GM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),QM(o,u);let p=new cu(h.target,u,l,h.sequenceNumber);uw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U(fo,"Failed to raise snapshot:",r),yield vf(n,r)}})}function vf(n,e,t){return v(this,null,function*(){if(!na(e))throw e;n.aa.add(1),yield gu(n),n.la.set("Offline"),t||(t=()=>GM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){U(fo,"Retrying IndexedDB access"),yield t(),n.aa.delete(1),yield Uf(n)}))})}function JM(n,e){return e().catch(t=>vf(n,t,e))}function Bf(n){return v(this,null,function*(){let e=ee(n),t=pi(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:ZE;for(;hq(e);)try{let i=yield iq(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,fq(e,i)}catch(i){yield vf(e,i)}ZM(e)&&XM(e)})}function hq(n){return po(n)&&n.oa.length<10}function fq(n,e){n.oa.push(e);let t=pi(n);t.b_()&&t.W_&&t.G_(e.mutations)}function ZM(n){return po(n)&&!pi(n).w_()&&n.oa.length>0}function XM(n){pi(n).start()}function pq(n){return v(this,null,function*(){pi(n).H_()})}function gq(n){return v(this,null,function*(){let e=pi(n);for(let t of n.oa)e.G_(t.mutations)})}function mq(n,e,t){return v(this,null,function*(){let r=n.oa.shift(),i=U_.from(r,e,t);yield JM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Bf(n)})}function yq(n,e){return v(this,null,function*(){e&&pi(n).W_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Pz(s)&&s!==P.ABORTED}(i.code)){let o=r.oa.shift();pi(r).D_(),yield JM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bf(r)}})}(n,e)),ZM(n)&&XM(n)})}function FR(n,e){return v(this,null,function*(){let t=ee(n);t.asyncQueue.verifyOperationInProgress(),U(fo,"RemoteStore received new credentials");let r=po(t);t.aa.add(3),yield gu(t),r&&t.la.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),yield Uf(t)})}function vq(n,e){return v(this,null,function*(){let t=ee(n);e?(t.aa.delete(2),yield Uf(t)):e||(t.aa.add(2),yield gu(t),t.la.set("Unknown"))})}function ra(n){return n.Pa||(n.Pa=function(t,r,i){let o=ee(t);return o.Y_(),new bE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:cq.bind(null,n),Jo:uq.bind(null,n),Zo:lq.bind(null,n),Q_:dq.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Pa.D_(),dw(n)?lw(n):n.la.set("Unknown")):(yield n.Pa.stop(),YM(n))}))),n.Pa}function pi(n){return n.Ta||(n.Ta=function(t,r,i){let o=ee(t);return o.Y_(),new CE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:pq.bind(null,n),Zo:yq.bind(null,n),z_:gq.bind(null,n),j_:mq.bind(null,n)}),n.ua.push(e=>v(this,null,function*(){e?(n.Ta.D_(),yield Bf(n)):(yield n.Ta.stop(),n.oa.length>0&&(U(fo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))}))),n.Ta}var NE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function hw(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),na(n))return new z(P.UNAVAILABLE,`${e}: ${n}`);throw n}var _f=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Jc(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ef=class{constructor(){this.Ia=new He(Y.comparator)}track(e){let t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Q(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){let e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}},Js=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,_f.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var PE=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},xE=class{constructor(){this.queries=LR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){let i=ee(t),o=i.queries;i.queries=LR(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function LR(){return new Rr(n=>bM(n),Lf)}function eN(n,e){return v(this,null,function*(){let t=ee(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new PE,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield t.onListen(i,!0);break;case 1:o.Aa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=hw(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&fw(t)})}function tN(n,e){return v(this,null,function*(){let t=ee(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function _q(n,e){let t=ee(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&fw(t)}function Eq(n,e,t){let r=ee(n),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(t);r.queries.delete(e)}function fw(n){n.fa.forEach(e=>{e.next()})}var kE,VR;(VR=kE||(kE={})).ya="default",VR.Cache="cache";var wf=class{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;let r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==kE.Cache}};var If=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},OE=class{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pe(),this.mutatedKeys=pe(),this.Ua=CM(e),this.Ka=new _f(this.Ua)}get Wa(){return this.qa}Ga(e,t){let r=t?t.za:new Ef,i=t?t.Ka:this.Ka,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Vf(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),M=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;y&&m?y.data.isEqual(m.data)?C!==M&&(r.track({type:3,doc:m}),R=!0):this.ja(y,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),R=!0):y&&!m&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:R})}};return M(m)-M(C)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=t&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new Js(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Ef,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=pe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Df(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new If(r))}),t}Xa(e){this.qa=e.Ns,this.$a=pe();let t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Js.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},pw="SyncEngine",FE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LE=class{constructor(e){this.key=e,this.tu=!1}},VE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Rr(a=>bM(a),Lf),this.iu=new Map,this.su=new Set,this.ou=new He(Y.comparator),this._u=new Map,this.au=new lu,this.uu={},this.cu=new Map,this.lu=uu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function wq(n,e,t=!0){return v(this,null,function*(){let r=aN(n),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield nN(r,e,t,!0),i})}function Iq(n,e){return v(this,null,function*(){let t=aN(n);yield nN(t,e,!0,!1)})}function nN(n,e,t,r){return v(this,null,function*(){let i=yield oq(n.localStore,Gn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Dq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&KM(n.remoteStore,i),a})}function Dq(n,e,t,r,i){return v(this,null,function*(){n.Pu=(p,y,m)=>function(M,R,V,se){return v(this,null,function*(){let q=R.view.Ga(V);q.ys&&(q=yield xR(M.localStore,R.query,!1).then(({documents:D})=>R.view.Ga(D,q)));let Te=se&&se.targetChanges.get(R.targetId),st=se&&se.targetMismatches.get(R.targetId)!=null,_e=R.view.applyChanges(q,M.isPrimaryClient,Te,st);return UR(M,R.targetId,_e.Ya),_e.snapshot})}(n,p,y,m);let o=yield xR(n.localStore,e,!0),s=new OE(e,o.Ns),a=s.Ga(o.documents),u=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);UR(n,t,l.Ya);let h=new FE(e,t,s);return n.ru.set(e,h),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),l.snapshot})}function Tq(n,e,t){return v(this,null,function*(){let r=ee(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Lf(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cw(r.remoteStore,i.targetId),jE(r,i.targetId)}).catch(ta))):(jE(r,i.targetId),yield vE(r.localStore,i.targetId,!0))})}function bq(n,e){return v(this,null,function*(){let t=ee(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cw(t.remoteStore,r.targetId))})}function Cq(n,e,t){return v(this,null,function*(){let r=xq(n);try{let i=yield function(s,a){let u=ee(s),l=pt.now(),h=a.reduce((m,C)=>m.add(C.key),pe()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Mr(),M=pe();return u.Cs.getEntries(m,h).next(R=>{C=R,C.forEach((V,se)=>{se.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,C)).next(R=>{p=R;let V=[];for(let se of a){let q=Nz(se,p.get(se.key).overlayedDocument);q!=null&&V.push(new Zn(se.key,q,_M(q.value.mapValue),Kn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,V,a)}).next(R=>{y=R;let V=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(m,R.batchId,V)})}).then(()=>({batchId:y.batchId,changes:AM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new He(ue)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield mu(r,i.changes),yield Bf(r.remoteStore)}catch(i){let o=hw(i,"Failed to persist write");t.reject(o)}})}function rN(n,e){return v(this,null,function*(){let t=ee(n);try{let r=yield nq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t._u.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?De(s.tu,14607):i.removedDocuments.size>0&&(De(s.tu,42227),s.tu=!1))}),yield mu(t,r,e)}catch(r){yield ta(r)}})}function jR(n,e,t){let r=ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ee(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(a)&&(l=!0)}),l&&fw(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sq(n,e,t){return v(this,null,function*(){let r=ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r._u.get(e),o=i&&i.key;if(o){let s=new He(Y.comparator);s=s.insert(o,bn.newNoDocument(o,ne.min()));let a=pe().add(o),u=new sf(ne.min(),new Map,new He(ue),s,a);yield rN(r,u),r.ou=r.ou.remove(o),r._u.delete(e),gw(r)}else yield vE(r.localStore,e,!1).then(()=>jE(r,e,t)).catch(ta)})}function Aq(n,e){return v(this,null,function*(){let t=ee(n),r=e.batch.batchId;try{let i=yield tq(t.localStore,e);oN(t,r,null),iN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield mu(t,i)}catch(i){yield ta(i)}})}function Rq(n,e,t){return v(this,null,function*(){let r=ee(n);try{let i=yield function(s,a){let u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);oN(r,e,t),iN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield mu(r,i)}catch(i){yield ta(i)}})}function iN(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function oN(n,e,t){let r=ee(n),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function jE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||sN(n,r)})}function sN(n,e){n.su.delete(e.path.canonicalString());let t=n.ou.get(e);t!==null&&(cw(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),gw(n))}function UR(n,e,t){for(let r of t)r instanceof If?(n.au.addReference(r.key,e),Mq(n,r)):r instanceof Df?(U(pw,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||sN(n,r.key)):Q(19791,{Iu:r})}function Mq(n,e){let t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(U(pw,"New document in limbo: "+t),n.su.add(r),gw(n))}function gw(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){let e=n.su.values().next().value;n.su.delete(e);let t=new Y($e.fromString(e)),r=n.lu.next();n._u.set(r,new LE(t)),n.ou=n.ou.insert(t,r),KM(n.remoteStore,new cu(Gn(Ff(t.path)),r,"TargetPurposeLimboResolution",JE.le))}}function mu(n,e,t){return v(this,null,function*(){let r=ee(n),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=pE.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return v(this,null,function*(){let h=ee(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>x.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!na(p))throw p;U(aw,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),C=m.snapshotVersion,M=m.withLastLimboFreeSnapshotVersion(C);h.Ss=h.Ss.insert(y,M)}}})}(r.localStore,o))})}function Nq(n,e){return v(this,null,function*(){let t=ee(n);if(!t.currentUser.isEqual(e)){U(pw,"User change. New user:",e.toKey());let r=yield WM(t.localStore,e);t.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new z(P.CANCELLED,s))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mu(t,r.Ms)}})}function Pq(n,e){let t=ee(n),r=t._u.get(e);if(r&&r.tu)return pe().add(r.key);{let i=pe(),o=t.iu.get(e);if(!o)return i;for(let s of o){let a=t.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function aN(n){let e=ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sq.bind(null,e),e.nu.Q_=_q.bind(null,e.eventManager),e.nu.Tu=Eq.bind(null,e.eventManager),e}function xq(n){let e=ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rq.bind(null,e),e}var cN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),yield this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)})}mu(t,r){return null}fu(t,r){return null}Vu(t){return eq(this.persistence,new mE,t.initialUser,this.serializer)}Ru(t){return new hf(fE.Ei,this.serializer)}Au(t){return new _E}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),UE=class extends cN{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){De(this.persistence.referenceDelegate instanceof ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new eE(r,e.asyncQueue,t)}Ru(e){let t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new hf(r=>ff.Ei(r,t),this.serializer)}};var kq=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nq.bind(null,this.syncEngine),yield vq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new xE}()}createDatastore(t){let r=jf(t.databaseInfo.databaseId),i=function(s){return new TE(s)}(t.databaseInfo);return function(s,a,u,l){return new AE(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new ME(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>jR(this.syncEngine,r,0),function(){return gf.C()?new gf:new EE}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let y=new VE(o,s,a,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=ee(o);U(fo,"RemoteStore shutting down."),s.aa.add(5),yield gu(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var gi="FirestoreClient",BE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Zh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){U(gi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=hw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function f_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(gi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield WM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function BR(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Oq(n);U(gi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>FR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>FR(e.remoteStore,i)),n._onlineComponents=e})}function Oq(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(gi,"Using user provided OfflineComponentProvider");try{yield f_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;js("Error using user provided cache. Falling back to memory cache: "+t),yield f_(n,new cN)}}else U(gi,"Using default OfflineComponentProvider"),yield f_(n,new UE(void 0));return n._offlineComponents})}function uN(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(gi,"Using user provided OnlineComponentProvider"),yield BR(n,n._uninitializedComponentsProvider._online)):(U(gi,"Using default OnlineComponentProvider"),yield BR(n,new kq))),n._onlineComponents})}function Fq(n){return uN(n).then(e=>e.syncEngine)}function $E(n){return v(this,null,function*(){let e=yield uN(n),t=e.eventManager;return t.onListen=wq.bind(null,e.syncEngine),t.onUnlisten=Tq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Iq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bq.bind(null,e.syncEngine),t})}function Lq(n,e,t={}){let r=new qn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(o,s,a,u,l){let h=new Tf({next:y=>{h.yu(),s.enqueueAndForget(()=>tN(o,p));let m=y.docs.has(a);!m&&y.fromCache?l.reject(new z(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&y.fromCache&&u&&u.source==="server"?l.reject(new z(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new wf(Ff(a.path),h,{includeMetadataChanges:!0,Fa:!0});return eN(o,p)}(yield $E(n),n.asyncQueue,e,t,r)})),r.promise}function lN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var $R=new Map;function dN(n,e,t){if(!t)throw new z(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vq(n,e,t,r){if(e===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HR(n){if(!Y.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zR(n){if(Y.isDocumentKey(n))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=mw(n);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var hN="firestore.googleapis.com",qR=!0,bf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hN,this.ssl=qR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Jz)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p_;switch(r.type){case"firstParty":return new v_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=$R.get(t);r&&(U("ComponentProvider","Removing Datastore"),$R.delete(t),r.terminate())}(this),Promise.resolve()}};function fN(n,e,t,r={}){var i;let o=(n=an(n,Zs))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==hN&&o.host!==a&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!jn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=it.MOCK_USER;else{l=fS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new it(p)}n._authCredentials=new g_(new Yh(l,h))}}var Cf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},At=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},hi=class n extends Cf{constructor(e,t,r){super(e,t,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function pN(n,e,...t){if(n=ke(n),dN("collection","path",e),n instanceof Zs){let r=$e.fromString(e,...t);return zR(r),new hi(n,null,r)}{if(!(n instanceof At||n instanceof hi))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return zR(r),new hi(n.firestore,null,r)}}function yw(n,e,...t){if(n=ke(n),arguments.length===1&&(e=Zh.newId()),dN("doc","path",e),n instanceof Zs){let r=$e.fromString(e,...t);return HR(r),new At(n,null,new Y(r))}{if(!(n instanceof At||n instanceof hi))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return HR(r),new At(n.firestore,n instanceof hi?n.converter:null,new Y(r))}}var WR="AsyncQueue",Sf=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mf(this,"async_queue_retry"),this.ju=()=>{let r=h_();r&&U(WR,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let t=h_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let t=h_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let t=new qn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return v(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!na(e))throw e;U(WR,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Cr("INTERNAL UNHANDLED ERROR: ",GR(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);let i=NE.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Q(47125,{ec:GR(this.Ku)})}verifyOperationInProgress(){}tc(){return v(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let t=this.Uu.indexOf(e);this.Uu.splice(t,1)}};function GR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function KR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Xn=class extends Zs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sf(e),this._firestoreClient=void 0,yield e}})}};function gN(n,e){let t=typeof n=="object"?n:Yi(),r=typeof n=="string"?n:e||nf,i=Cs(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hS("firestore");o&&fN(i,...o)}return i}function vw(n){if(n._terminated)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jq(n),n._firestoreClient}function jq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new D_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,lN(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new BE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var du=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Et.fromBase64String(e))}catch(t){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hu=class{constructor(e){this._methodName=e}};var fu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var pu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Uq=/^__.*__$/,HE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms):new ho(e,this.data,t,this.fieldTransforms)}},Af=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function mN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{oc:n})}}var zE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Mf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(mN(this.oc)&&Uq.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},qE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||jf(e)}dc(e,t,r,i=!1){return new zE({oc:e,methodName:t,Ec:r,path:Qt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function _w(n){let e=n._freezeSettings(),t=jf(n._databaseId);return new qE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yN(n,e,t,r,i,o={}){let s=n.dc(o.merge||o.mergeFields?2:0,e,t,i);Ew("Data must be an object, but it was:",s,r);let a=vN(r,s),u,l;if(o.merge)u=new sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=WE(e,p,t);if(!s.contains(y))throw new z(P.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);EN(h,y)||h.push(y)}u=new sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new HE(new Kt(a),u,l)}var Rf=class n extends hu{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Bq(n,e,t,r){let i=n.dc(1,e,t);Ew("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();mi(r,(u,l)=>{let h=ww(e,u,t);l=ke(l);let p=i.hc(h);if(l instanceof Rf)o.push(h);else{let y=$f(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new sn(o);return new Af(s,a,i.fieldTransforms)}function $q(n,e,t,r,i,o){let s=n.dc(1,e,t),a=[WE(e,r,t)],u=[i];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(WE(e,o[y])),u.push(o[y+1]);let l=[],h=Kt.empty();for(let y=a.length-1;y>=0;--y)if(!EN(l,a[y])){let m=a[y],C=u[y];C=ke(C);let M=s.hc(m);if(C instanceof Rf)l.push(m);else{let R=$f(C,M);R!=null&&(l.push(m),h.set(m,R))}}let p=new sn(l);return new Af(h,p,s.fieldTransforms)}function $f(n,e){if(_N(n=ke(n)))return Ew("Unsupported field value:",e,n),vN(n,e);if(n instanceof hu)return function(r,i){if(!mN(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=$f(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:lf(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,o)}}if(r instanceof fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:VM(i.serializer,r._byteString)};if(r instanceof At){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pu)return function(s,a){return{mapValue:{fields:{[ew]:{stringValue:tw},[Bs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return ow(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${mw(r)}`)}(n,e)}function vN(n,e){let t={};return dM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(n,(r,i)=>{let o=$f(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function _N(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof fu||n instanceof du||n instanceof At||n instanceof hu||n instanceof pu)}function Ew(n,e,t){if(!_N(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=mw(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function WE(n,e,t){if((e=ke(e))instanceof Xs)return e._internalPath;if(typeof e=="string")return ww(n,e);throw Mf("Field path arguments must be of type string or ",n,!1,void 0,t)}var Hq=new RegExp("[~\\*/\\[\\]]");function ww(n,e,t){if(e.search(Hq)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xs(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(P.INVALID_ARGUMENT,a+n+u)}function EN(n,e){return n.some(t=>t.isEqual(e))}var Nf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new GE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(wN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},GE=class extends Nf{data(){return super.data()}};function wN(n,e){return typeof e=="string"?ww(n,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}function zq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var KE=class{convertValue(e,t="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return mi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Bs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new pu(o)}convertGeoPoint(e){return new fu(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){let t=Sr(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=$e.fromString(e);De(zM(r),9688,{name:e});let i=new rf(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function IN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var so=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pf=class extends Nf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(wN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Vs=class extends Pf{data(e={}){return super.data(e)}},QE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new so(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vs(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new so(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:qq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function qq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}function DN(n){n=an(n,At);let e=an(n.firestore,Xn);return Lq(vw(e),n._key).then(t=>AN(e,n,t))}var xf=class extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}};function TN(n,e,t){n=an(n,At);let r=an(n.firestore,Xn),i=IN(n.converter,e,t);return Hf(r,[yN(_w(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Kn.none())])}function bN(n,e,t,...r){n=an(n,At);let i=an(n.firestore,Xn),o=_w(i),s;return s=typeof(e=ke(e))=="string"||e instanceof Xs?$q(o,"updateDoc",n._key,e,t,r):Bq(o,"updateDoc",n._key,e),Hf(i,[s.toMutation(n._key,Kn.exists(!0))])}function CN(n){return Hf(an(n.firestore,Xn),[new su(n._key,Kn.none())])}function SN(n,e){let t=an(n.firestore,Xn),r=yw(n),i=IN(n.converter,e);return Hf(t,[yN(_w(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function Iw(n,...e){var t,r,i;n=ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof At)l=an(n.firestore,Xn),h=Ff(n._key.path),u={next:p=>{e[s]&&e[s](AN(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=an(n,Cf);l=an(p.firestore,Xn),h=p._query;let y=new xf(l);u={next:m=>{e[s]&&e[s](new QE(l,y,p,m))},error:e[s+1],complete:e[s+2]},zq(n._query)}return function(y,m,C,M){let R=new Tf(M),V=new wf(m,R,C);return y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return eN(yield $E(y),V)})),()=>{R.yu(),y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return tN(yield $E(y),V)}))}}(vw(l),h,a,u)}function Hf(n,e){return function(r,i){let o=new qn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Cq(yield Fq(r),i,o)})),o.promise}(vw(n),e)}function AN(n,e,t){let r=t.docs.get(e._key),i=new xf(n);return new Pf(n,i,e._key,r,new so(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ea=i})(ii),In(new Ct("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xn(new m_(r.getProvider("auth-internal")),new __(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Be(oR,sR,e),Be(oR,sR,"esm2017")})();var zf=function(){return zf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zf.apply(this,arguments)};var Kq={includeMetadataChanges:!1};function RN(n,e){return e===void 0&&(e=Kq),new re(function(t){var r=Iw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function MN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:zf(zf({},r),(t={},t[e.idField]=n.id,t))}function NN(n){return RN(n,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function PN(n,e){return e===void 0&&(e={}),NN(n).pipe(Z(function(t){return t.map(function(r){return MN(r,e)})}))}var Nr=class{constructor(e){return e}},xN="firestore",Dw=class{constructor(){return As(xN)}};var Tw=new B("angularfire2.firestore-instances");function Qq(n,e){let t=Vc(xN,n,e);return t&&new Nr(t)}function Yq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Nr(r)}}var Jq={provide:Dw,deps:[[new Bt,Tw]]},Zq={provide:Nr,useFactory:Qq,deps:[[new Bt,Tw],_r]};function kN(n,...e){return Be("angularfire",oi.full,"fst"),hn([Zq,Jq,{provide:Tw,useFactory:Yq(n),multi:!0,deps:[be,dt,si,Zi,[new Bt,Qc],[new Bt,Rs],...e]}])}var ON=Fe(PN,!0);var FN=Fe(SN,!0,2);var yu=Fe(pN,!0,2);var LN=Fe(CN,!0,2);var ia=Fe(yw,!0,2);var VN=Fe(DN,!0);var jN=Fe(gN,!0);var UN=Fe(TN,!0,2);var BN=Fe(bN,!0,2);var er=class n{firestore=N(Nr);authService=N(Vt);constructor(){}getDays(){return this.authService.user$.pipe(Ye(e=>{if(!e)return K([]);let t=yu(this.firestore,`users/${e.uid}/days`);return ON(t,{idField:"id"})}))}getDayById(e){let t=this.authService.getUser();if(!t)return K(void 0);let r=ia(this.firestore,`users/${t.uid}/days/${e}`);return Se(VN(r)).pipe(Z(i=>{if(i.exists()){let o=i.data();return L({id:i.id},o)}}))}addDay(e){return this.authService.user$.pipe(Pt(1),Ye(t=>v(this,null,function*(){if(!t)return null;let r=ia(yu(this.firestore,`users/${t.uid}/days`)).id,i=ia(this.firestore,`users/${t.uid}/days/${r}`);return yield UN(i,e),ae(L({},e),{id:r})})))}updateDate(e,t){return this.authService.user$.pipe(Pt(1),Ye(r=>{if(!r)return K(null);let i=ia(this.firestore,`users/${r.uid}/days/${e}`);return BN(i,t)}))}deleteDay(e){return this.authService.user$.pipe(Pt(1),Ye(t=>{if(!t)return K(null);let r=ia(this.firestore,`users/${t.uid}/days/${e}`);return LN(r)}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var e4=()=>["/add"],t4=n=>["/edit",n];function n4(n,e){if(n&1){let t=Kr();k(0,"div",4)(1,"div",5)(2,"h3"),$(3),O(),k(4,"h4"),$(5),O(),k(6,"h4"),$(7),O(),k(8,"h4"),$(9),O(),k(10,"h4"),$(11),O(),k(12,"div",6)(13,"button",1),$(14," Edit "),O(),k(15,"button",7),Pe("click",function(){let i=pn(t).$implicit,o=Qr();return gn(o.deleteDay(i.id))}),$(16,"Delete"),O()()()()}if(n&2){let t=e.$implicit;W(3),bt(t.date),W(2),bt(t.workout),W(2),bt(t.exerciseDuration),W(2),bt(t.fluid),W(2),bt(t.calorie),W(2),ft("routerLink",pd(6,t4,t.id))}}var Wf=class n{constructor(e){this.daysService=e;this.loadDays()}authService=N(Vt);user=this.authService.getUser();days=[];trackById(e,t){return t.id}loadDays(){this.daysService.getDays().subscribe(e=>this.days=e)}deleteDay(e){this.daysService.deleteDay(e).subscribe(()=>this.loadDays)}static \u0275fac=function(t){return new(t||n)(X(er))};static \u0275cmp=je({type:n,selectors:[["app-home"]],decls:7,vars:5,consts:[[1,"text-center"],[1,"btn","btn-dark",3,"routerLink"],[1,"card-container"],["class","day-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"day-card"],[1,"card","text-bg-info"],[1,"buttons"],[1,"btn","btn-dark",3,"click"]],template:function(t,r){t&1&&(k(0,"h2",0),$(1),O(),k(2,"div",0)(3,"button",1),$(4,"Add New Day"),O()(),k(5,"div",2),mn(6,n4,17,8,"div",3),O()),t&2&&(W(),fd("Welcome ",r.user==null?null:r.user.displayName,""),W(2),ft("routerLink",fC(4,e4)),W(3),ft("ngForOf",r.days)("ngForTrackBy",r.trackById))},dependencies:[ti,Ot,is],styles:[".day-card[_ngcontent-%COMP%]{max-width:480px;min-width:360px;font-size:1.2rem;-webkit-user-select:none;user-select:none;text-align:center;padding:2rem;box-shadow:red;margin-bottom:1.5rem}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:0rem;flex-wrap:wrap}"]})};var r4=n=>["/edit",n];function i4(n,e){if(n&1){let t=Kr();k(0,"div")(1,"div",2)(2,"h3"),$(3),O(),k(4,"h4"),$(5),O(),k(6,"h4"),$(7),O(),k(8,"h4"),$(9),O(),k(10,"h4"),$(11),O(),k(12,"div",3)(13,"button",4),$(14,"Edit"),O(),k(15,"button",5),Pe("click",function(){let i=pn(t).$implicit,o=Qr();return gn(o.deleteDay(i.id))}),$(16,"Delete"),O()()()()}if(n&2){let t=e.$implicit;W(3),bt(t.date),W(2),bt(t.workout),W(2),bt(t.exerciseDuration),W(2),bt(t.fluid),W(2),bt(t.calorie),W(2),ft("routerLink",pd(6,r4,t.id))}}var Gf=class n{constructor(e){this.daysService=e;this.loadDays()}days=[];loadDays(){this.daysService.getDays().subscribe(e=>this.days=e)}deleteDay(e){this.daysService.deleteDay(e).subscribe(()=>this.loadDays())}trackById(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(X(er))};static \u0275cmp=je({type:n,selectors:[["app-day-card"]],decls:2,vars:2,consts:[[1,"day-card"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","text-bg-info"],[1,"buttons"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-dark",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0),mn(1,i4,17,8,"div",1),O()),t&2&&(W(),ft("ngForOf",r.days)("ngForTrackBy",r.trackById))},dependencies:[ti,Ot,is],encapsulation:2})};var Kf=class n{constructor(e,t,r){this.route=e;this.router=t;this.daysService=r}day;date="";workout="";exerciseDuration="";fluid="";calorie="";onSubmit(){let e={date:this.date,workout:this.workout,exerciseDuration:this.exerciseDuration,fluid:this.fluid,calorie:this.calorie};this.day?this.daysService.updateDate(this.day.id,e).subscribe(()=>{this.router.navigate(["/home"])}):this.daysService.addDay(e).subscribe(()=>{this.router.navigate(["/home"])})}onCancel(){this.router.navigate(["/home"])}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(!e){this.router.navigate(["/home"]);return}this.daysService.getDayById(e).subscribe(t=>{if(!t){this.router.navigate(["/home"]);return}this.day=t,this.date=t.date,this.workout=t.workout,this.exerciseDuration=t.exerciseDuration,this.fluid=t.fluid,this.calorie=t.calorie})}static \u0275fac=function(t){return new(t||n)(X(vn),X(_n),X(er))};static \u0275cmp=je({type:n,selectors:[["app-edit-day"]],decls:36,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"ng-untouched","ng-pristine","ng-valid"],[1,"form-group","row"],["for","date",1,"col-sa-s","col-form-label"],[1,"col-sm-10"],["type","text","id","Date","name","date","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","workout",1,"col-sa-s","col-form-label"],["type","text","id"," Workout","name","workout","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","exercise",1,"col-sa-s","col-form-label"],["type","text","id","Exercise Duration","name","exerciseDuration","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fluid",1,"col-sa-s","col-form-label"],["type","text","id","Fluid Intake","name","fluid","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","calorie",1,"col-sa-s","col-form-label"],["type","text","id","Calorie Intake","name","calorie","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-right"],[1,"btn","btn-dark",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),$(4,"Edit Your Day!"),O(),k(5,"form",4)(6,"div",5)(7,"label",6),$(8," Date"),O(),k(9,"div",7)(10,"input",8),Ie("ngModelChange",function(o){return Ce(r.date,o)||(r.date=o),o}),O()()(),k(11,"div",5)(12,"label",9),$(13," Workout"),O(),k(14,"div",7)(15,"input",10),Ie("ngModelChange",function(o){return Ce(r.workout,o)||(r.workout=o),o}),O()()(),k(16,"div",5)(17,"label",11),$(18," Exercise Duration"),O(),k(19,"div",7)(20,"input",12),Ie("ngModelChange",function(o){return Ce(r.exerciseDuration,o)||(r.exerciseDuration=o),o}),O()()(),k(21,"div",5)(22,"label",13),$(23," Fluid intake"),O(),k(24,"div",7)(25,"input",14),Ie("ngModelChange",function(o){return Ce(r.fluid,o)||(r.fluid=o),o}),O()()(),k(26,"div",5)(27,"label",15),$(28," Calorie Intake"),O(),k(29,"div",7)(30,"input",16),Ie("ngModelChange",function(o){return Ce(r.calorie,o)||(r.calorie=o),o}),O()()()(),k(31,"div",17)(32,"button",18),Pe("click",function(){return r.onSubmit()}),$(33,"Save"),O(),k(34,"button",18),Pe("click",function(){return r.onCancel()}),$(35,"Cancel"),O()()()()()),t&2&&(W(10),we("ngModel",r.date),W(5),we("ngModel",r.workout),W(5),we("ngModel",r.exerciseDuration),W(5),we("ngModel",r.fluid),W(5),we("ngModel",r.calorie))},dependencies:[Ot,rn,Is,Lt,nn,ws,En,Wt,Gi],encapsulation:2})};var Qf=class n{constructor(e,t){this.dayService=e;this.router=t}date="";workout="";exerciseDuration="";fluid="";calorie="";onSubmit(){this.dayService.addDay({date:this.date,workout:this.workout,exerciseDuration:this.exerciseDuration,fluid:this.fluid,calorie:this.calorie}).subscribe(()=>this.router.navigate(["/home"]))}onCancel(){this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||n)(X(er),X(_n))};static \u0275cmp=je({type:n,selectors:[["app-new-day"]],decls:36,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"card-title","text-center"],[1,"ng-untouched","ng-pristine","ng-valid"],[1,"form-group","row"],["for","name",1,"col-sa-2","col-form-label"],[1,"col-sm-10"],["type","text","id","Date","name","Date","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber",1,"col-sa-s","col-form-label"],["type","text","id","Workout","name","Workout","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","emailAddress",1,"col-sa-s","col-form-label"],["type","text","id","exerciseDuration","name","exerciseDuration","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","fluid","name","fluid","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","calorie","name","calorie","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-right"],[1,"btn","btn-dark",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),$(4,"Add a Day"),O(),k(5,"form",4)(6,"div",5)(7,"label",6),$(8," Date"),O(),k(9,"div",7)(10,"input",8),Ie("ngModelChange",function(o){return Ce(r.date,o)||(r.date=o),o}),O()()(),k(11,"div",5)(12,"label",9),$(13," Workout"),O(),k(14,"div",7)(15,"input",10),Ie("ngModelChange",function(o){return Ce(r.workout,o)||(r.workout=o),o}),O()()(),k(16,"div",5)(17,"label",11),$(18," Exercise Duration"),O(),k(19,"div",7)(20,"input",12),Ie("ngModelChange",function(o){return Ce(r.exerciseDuration,o)||(r.exerciseDuration=o),o}),O()()(),k(21,"div",5)(22,"label",9),$(23," Fluid Intake"),O(),k(24,"div",7)(25,"input",13),Ie("ngModelChange",function(o){return Ce(r.fluid,o)||(r.fluid=o),o}),O()()(),k(26,"div",5)(27,"label",9),$(28," Calorie Intake"),O(),k(29,"div",7)(30,"input",14),Ie("ngModelChange",function(o){return Ce(r.calorie,o)||(r.calorie=o),o}),O()()()(),k(31,"div",15)(32,"button",16),Pe("click",function(){return r.onSubmit()}),$(33,"Save"),O(),k(34,"button",16),Pe("click",function(){return r.onCancel()}),$(35,"Cancel"),O()()()()()),t&2&&(W(10),we("ngModel",r.date),W(5),we("ngModel",r.workout),W(5),we("ngModel",r.exerciseDuration),W(5),we("ngModel",r.fluid),W(5),we("ngModel",r.calorie))},dependencies:[Ot,rn,Is,Lt,nn,ws,En,Wt,Gi],encapsulation:2})};var Yf=class n{authService=N(Vt);firstName="";lastName="";email="";password="";constructor(){}ngOnInit(){let e=this.authService.getUser();if(e){let[t,r]=e.displayName?.split(" ")||[];this.firstName=t||"",this.lastName=r||"",this.email=e.email||""}}submit(){if(!this.firstName||this.firstName.trim()===""){alert("Please enter your first name");return}if(!this.lastName||this.lastName.trim()===""){alert("Please enter your last name");return}if(!this.email||this.email.trim()===""){alert("Please enter your email");return}let e={firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password};this.authService.updateUserInfo(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-edit-account"]],decls:15,vars:4,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[2,"width","500px"],[1,"form-group","mt-2"],["name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","email","type","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","password","placeholder","Enter new password or leave blank to keep current password","type","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2","mt-3"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(k(0,"h2",0),$(1,"Edit Account Information"),O(),k(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),Ie("ngModelChange",function(o){return Ce(r.firstName,o)||(r.firstName=o),o}),O()(),k(6,"div",3)(7,"input",5),Ie("ngModelChange",function(o){return Ce(r.lastName,o)||(r.lastName=o),o}),O()(),k(8,"div",3)(9,"input",6),Ie("ngModelChange",function(o){return Ce(r.email,o)||(r.email=o),o}),O()(),k(10,"div",3)(11,"input",7),Ie("ngModelChange",function(o){return Ce(r.password,o)||(r.password=o),o}),O()(),k(12,"div",8)(13,"button",9),Pe("click",function(){return r.submit()}),$(14,"Save"),O()()()()),t&2&&(W(5),we("ngModel",r.firstName),W(2),we("ngModel",r.lastName),W(2),we("ngModel",r.email),W(2),we("ngModel",r.password))},dependencies:[rn,Lt,nn,En,Wt],encapsulation:2})};var Jf=class n{user={firstName:"",lastName:"",email:"",password:""};authService=N(Vt);register(){if(this.user.firstName==""){alert("Please enter your first name");return}if(this.user.lastName==""){alert("Please enter your last name");return}if(this.user.email==""){alert("Please enter your email");return}if(this.user.password==""){alert("Please enter a password");return}this.authService.register(this.user),this.user={firstName:"",lastName:"",email:"",password:""}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-register"]],decls:15,vars:4,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[2,"width","300px"],[1,"form-group","mt-2"],["name","firstName","placeholder","First Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","lastName","placeholder","Last Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","email","placeholder","Email","type","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","password","placeholder","Password","type","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2","mt-3"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(k(0,"h2",0),$(1,"Register"),O(),k(2,"div",1)(3,"div",2)(4,"div",3)(5,"input",4),Ie("ngModelChange",function(o){return Ce(r.user.firstName,o)||(r.user.firstName=o),o}),O()(),k(6,"div",3)(7,"input",5),Ie("ngModelChange",function(o){return Ce(r.user.lastName,o)||(r.user.lastName=o),o}),O()(),k(8,"div",3)(9,"input",6),Ie("ngModelChange",function(o){return Ce(r.user.email,o)||(r.user.email=o),o}),O()(),k(10,"div",3)(11,"input",7),Ie("ngModelChange",function(o){return Ce(r.user.password,o)||(r.user.password=o),o}),O()(),k(12,"div",8)(13,"button",9),Pe("click",function(){return r.register()}),$(14,"Register"),O()()()()),t&2&&(W(5),we("ngModel",r.user.firstName),W(2),we("ngModel",r.user.lastName),W(2),we("ngModel",r.user.email),W(2),we("ngModel",r.user.password))},dependencies:[rn,Lt,nn,En,Wt],encapsulation:2})};var Zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-about"]],decls:9,vars:0,consts:[[1,"container","text-center","mt-5"],[1,"mt-3"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"h2"),$(2,"About NotSoFitBit"),O(),k(3,"p",1),$(4," NotSoFitBit lets users log and monitor their fitness data to visualize progress throughout their health journey. "),O(),k(5,"p"),$(6," Whether you're just starting your health journey or simply trying to walk to the fridge less often, we're here to track your progress, give you some laughs, and help you stay motivated. "),O(),k(7,"p"),$(8," Built by a group of students at NDSU. "),O()())},encapsulation:2})};function o4(n,e){if(n&1&&(k(0,"p",14),$(1),O()),n&2){let t=Qr();W(),bt(t.successMessage)}}var Xf=class n{constructor(e){this.firestore=e}name="";email="";message="";successMessage="";submitSupportMessage(){return v(this,null,function*(){try{let e=yu(this.firestore,"supportMessages");yield FN(e,{name:this.name,email:this.email,message:this.message,timestamp:new Date}),this.successMessage="Message sent successfully!",this.name="",this.email="",this.message=""}catch(e){console.error("Error sending message:",e),this.successMessage="Failed to send message. Please try again."}})}static \u0275fac=function(t){return new(t||n)(X(Nr))};static \u0275cmp=je({type:n,selectors:[["app-support"]],decls:22,vars:5,consts:[["supportForm","ngForm"],[1,"container","mt-5"],[1,"text-center"],[1,"mt-4",3,"ngSubmit"],[1,"form-group","mb-3"],["for","name"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mb-4"],["for","message"],["id","message","rows","4","name","message","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","mt-3 text-success text-center",4,"ngIf"],[1,"mt-3","text-success","text-center"]],template:function(t,r){if(t&1){let i=Kr();k(0,"div",1)(1,"h2",2),$(2,"Support"),O(),k(3,"p",2),$(4,"Have a question or issue? Send us a message!"),O(),k(5,"form",3,0),Pe("ngSubmit",function(){return pn(i),gn(r.submitSupportMessage())}),k(7,"div",4)(8,"label",5),$(9,"Name"),O(),k(10,"input",6),Ie("ngModelChange",function(s){return pn(i),Ce(r.name,s)||(r.name=s),gn(s)}),O()(),k(11,"div",4)(12,"label",7),$(13,"Email"),O(),k(14,"input",8),Ie("ngModelChange",function(s){return pn(i),Ce(r.email,s)||(r.email=s),gn(s)}),O()(),k(15,"div",9)(16,"label",10),$(17,"Message"),O(),k(18,"textarea",11),Ie("ngModelChange",function(s){return pn(i),Ce(r.message,s)||(r.message=s),gn(s)}),O()(),k(19,"button",12),$(20,"Send Message"),O(),mn(21,o4,2,1,"p",13),O()()}if(t&2){let i=dC(6);W(10),we("ngModel",r.name),W(4),we("ngModel",r.email),W(4),we("ngModel",r.message),W(),ft("disabled",i.invalid),W(2),ft("ngIf",r.successMessage)}},dependencies:[Ot,Ja,rn,Is,Lt,nn,ws,En,Wt,Gi],encapsulation:2})};var $N=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Bh,title:"Login"},{path:"register",component:Jf,title:"Register"},{path:"home",component:Wf,title:"Home"},{path:"about",component:Zf,title:"About"},{path:"support",component:Xf,title:"Support"},{path:"day-home",component:Gf,title:"Day Home"},{path:"edit/:id",component:Kf,title:"Edit Day"},{path:"add",component:Qf,title:"Add Day"},{path:"my-account",component:Yf,title:"My Account"}];var s4={apiKey:"AIzaSyA7oqbzsWzKV0Q1c1C2iLYU90cECK1Ag3g",authDomain:"not-so-fit-bit.firebaseapp.com",projectId:"not-so-fit-bit",storageBucket:"not-so-fit-bit.firebasestorage.app",messagingSenderId:"80310718823",appId:"1:80310718823:web:fb5652da149e4627561fc2",measurementId:"G-JEL0QP2JWR"},HN={providers:[yC({eventCoalescing:!0}),My($N),jS(()=>US(s4)),kN(()=>jN()),sy(),KA(()=>JA())]};function a4(n,e){n&1&&(k(0,"li",3)(1,"a",8),$(2,"Home"),O()())}function c4(n,e){n&1&&(k(0,"li",3)(1,"a",9),$(2,"Register"),O()())}function u4(n,e){n&1&&(k(0,"li",3)(1,"a",10),$(2,"My Account"),O()())}function l4(n,e){n&1&&(k(0,"li",3)(1,"a",11),$(2,"Login"),O()())}function d4(n,e){if(n&1){let t=Kr();k(0,"li",3)(1,"a",12),Pe("click",function(){pn(t);let i=Qr();return gn(i.logout())}),$(2,"Logout"),O()()}}var ep=class n{title="not-so-fit-bit";authService=N(Vt);isLoggedIn=this.authService.loggedIn;logout(){this.authService.logout(),this.isLoggedIn=this.authService.loggedIn}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=je({type:n,selectors:[["app-root"]],decls:20,vars:5,consts:[[1,"container"],[1,"nav","nav-tabs","justify-content-center"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLink","/about",1,"nav-link"],["routerLink","/support",1,"nav-link"],[1,"text-center"],["src","NotSoFitBit.jpg","alt","Not So Fit Bit Logo",1,"img-fluid","center"],["routerLink","/home",1,"nav-link"],["routerLink","/register",1,"nav-link"],["routerLink","/my-account",1,"nav-link"],["routerLink","/login",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"ul",1),mn(2,a4,3,0,"li",2),k(3,"li",3)(4,"a",4),$(5,"About"),O()(),mn(6,c4,3,0,"li",2),k(7,"li",3)(8,"a",5),$(9,"Support"),O()(),mn(10,u4,3,0,"li",2)(11,l4,3,0,"li",2)(12,d4,3,0,"li",2),O()(),Vi(13,"br"),k(14,"div",6)(15,"h1"),$(16,"NotSoFitBit"),O()(),k(17,"div",6),Vi(18,"img",7),O(),Vi(19,"router-outlet")),t&2&&(W(2),ft("ngIf",r.isLoggedIn()),W(4),ft("ngIf",!r.isLoggedIn()),W(4),ft("ngIf",r.isLoggedIn()),W(),ft("ngIf",!r.isLoggedIn()),W(),ft("ngIf",r.isLoggedIn()))},dependencies:[Dc,ti,Ot,Ja],encapsulation:2})};ry(ep,HN).catch(n=>console.error(n));
